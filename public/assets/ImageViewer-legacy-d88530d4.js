System.register(["./index-legacy-668afaf3.js"],(function(t,e){"use strict";var i,n,o;return{setters:[t=>{i=t.d,n=t.b,o=t.n}],execute:function(){var r=document.createElement("style");function a(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,c(n.key),n)}}function s(t,e,i){return(e=c(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function l(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function h(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?l(Object(i),!0).forEach((function(e){s(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function c(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}r.textContent='/*!\n * Viewer.js v1.11.7\n * https://fengyuanchen.github.io/viewerjs\n *\n * Copyright 2015-present Chen Fengyuan\n * Released under the MIT license\n *\n * Date: 2024-11-24T04:32:14.526Z\n */.viewer-zoom-in:before,.viewer-zoom-out:before,.viewer-one-to-one:before,.viewer-reset:before,.viewer-prev:before,.viewer-play:before,.viewer-next:before,.viewer-rotate-left:before,.viewer-rotate-right:before,.viewer-flip-horizontal:before,.viewer-flip-vertical:before,.viewer-fullscreen:before,.viewer-fullscreen-exit:before,.viewer-close:before{background-image:url("data:image/svg+xml,%3Csvg xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22 viewBox%3D%220 0 560 40%22%3E%3Cpath fill%3D%22%23fff%22 d%3D%22M49.6 17.9h20.2v3.9H49.6zm123.1 2 10.9-11 2.7 2.8-8.2 8.2 8.2 8.2-2.7 2.7-10.9-10.9zm94 0-10.8-11-2.7 2.8 8.1 8.2-8.1 8.2 2.7 2.7 10.8-10.9zM212 9.3l20.1 10.6L212 30.5V9.3zm161.5 4.6-7.2 6 7.2 5.9v-4h12.4v4l7.3-5.9-7.3-6v4h-12.4v-4zm40.2 12.3 5.9 7.2 5.9-7.2h-4V13.6h4l-5.9-7.3-5.9 7.3h4v12.6h-4zm35.9-16.5h6.3v2h-4.3V16h-2V9.7Zm14 0h6.2V16h-2v-4.3h-4.2v-2Zm6.2 14V30h-6.2v-2h4.2v-4.3h2Zm-14 6.3h-6.2v-6.3h2v4.4h4.3v2Zm-438 .1v-8.3H9.6v-3.9h8.2V9.7h3.9v8.2h8.1v3.9h-8.1v8.3h-3.9zM93.6 9.7h-5.8v3.9h2V30h3.8V9.7zm16.1 0h-5.8v3.9h1.9V30h3.9V9.7zm-11.9 4.1h3.9v3.9h-3.9zm0 8.2h3.9v3.9h-3.9zm244.6-11.7 7.2 5.9-7.2 6v-3.6c-5.4-.4-7.8.8-8.7 2.8-.8 1.7-1.8 4.9 2.8 8.2-6.3-2-7.5-6.9-6-11.3 1.6-4.4 8-5 11.9-4.9v-3.1Zm147.2 13.4h6.3V30h-2v-4.3h-4.3v-2zm14 6.3v-6.3h6.2v2h-4.3V30h-1.9zm6.2-14h-6.2V9.7h1.9V14h4.3v2zm-13.9 0h-6.3v-2h4.3V9.7h2V16zm33.3 12.5 8.6-8.6-8.6-8.7 1.9-1.9 8.6 8.7 8.6-8.7 1.9 1.9-8.6 8.7 8.6 8.6-1.9 2-8.6-8.7-8.6 8.7-1.9-2zM297 10.3l-7.1 5.9 7.2 6v-3.6c5.3-.4 7.7.8 8.7 2.8.8 1.7 1.7 4.9-2.9 8.2 6.3-2 7.5-6.9 6-11.3-1.6-4.4-7.9-5-11.8-4.9v-3.1Zm-157.3-.6c2.3 0 4.4.7 6 2l2.5-3 1.9 9.2h-9.3l2.6-3.1a6.2 6.2 0 0 0-9.9 5.1c0 3.4 2.8 6.3 6.2 6.3 2.8 0 5.1-1.9 6-4.4h4c-1 4.7-5 8.3-10 8.3a10 10 0 0 1-10-10.2 10 10 0 0 1 10-10.2Z%22%2F%3E%3C%2Fsvg%3E");background-repeat:no-repeat;background-size:280px;color:transparent;display:block;font-size:0;height:20px;line-height:0;width:20px}.viewer-zoom-in:before{background-position:0 0;content:"Zoom In"}.viewer-zoom-out:before{background-position:-20px 0;content:"Zoom Out"}.viewer-one-to-one:before{background-position:-40px 0;content:"One to One"}.viewer-reset:before{background-position:-60px 0;content:"Reset"}.viewer-prev:before{background-position:-80px 0;content:"Previous"}.viewer-play:before{background-position:-100px 0;content:"Play"}.viewer-next:before{background-position:-120px 0;content:"Next"}.viewer-rotate-left:before{background-position:-140px 0;content:"Rotate Left"}.viewer-rotate-right:before{background-position:-160px 0;content:"Rotate Right"}.viewer-flip-horizontal:before{background-position:-180px 0;content:"Flip Horizontal"}.viewer-flip-vertical:before{background-position:-200px 0;content:"Flip Vertical"}.viewer-fullscreen:before{background-position:-220px 0;content:"Enter Full Screen"}.viewer-fullscreen-exit:before{background-position:-240px 0;content:"Exit Full Screen"}.viewer-close:before{background-position:-260px 0;content:"Close"}.viewer-container{bottom:0;direction:ltr;font-size:0;left:0;line-height:0;overflow:hidden;position:absolute;right:0;-webkit-tap-highlight-color:transparent;top:0;-ms-touch-action:none;touch-action:none;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.viewer-container::-moz-selection,.viewer-container *::-moz-selection{background-color:transparent}.viewer-container::selection,.viewer-container *::selection{background-color:transparent}.viewer-container:focus{outline:0}.viewer-container img{display:block;height:auto;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;width:100%}.viewer-canvas{bottom:0;left:0;overflow:hidden;position:absolute;right:0;top:0}.viewer-canvas>img{height:auto;margin:15px auto;max-width:90%!important;width:auto}.viewer-footer{bottom:0;left:0;overflow:hidden;position:absolute;right:0;text-align:center}.viewer-navbar{background-color:rgba(0,0,0,.5);overflow:hidden}.viewer-list{box-sizing:content-box;height:50px;margin:0;overflow:hidden;padding:1px 0}.viewer-list>li{color:transparent;cursor:pointer;float:left;font-size:0;height:50px;line-height:0;opacity:.5;overflow:hidden;transition:opacity .15s;width:30px}.viewer-list>li:focus,.viewer-list>li:hover{opacity:.75}.viewer-list>li:focus{outline:0}.viewer-list>li+li{margin-left:1px}.viewer-list>.viewer-loading{position:relative}.viewer-list>.viewer-loading:after{border-width:2px;height:20px;margin-left:-10px;margin-top:-10px;width:20px}.viewer-list>.viewer-active,.viewer-list>.viewer-active:focus,.viewer-list>.viewer-active:hover{opacity:1}.viewer-player{background-color:#000;bottom:0;cursor:none;display:none;left:0;position:absolute;right:0;top:0;z-index:1}.viewer-player>img{left:0;position:absolute;top:0}.viewer-toolbar>ul{display:inline-block;margin:0 auto 5px;overflow:hidden;padding:6px 3px}.viewer-toolbar>ul>li{background-color:rgba(0,0,0,.5);border-radius:50%;cursor:pointer;float:left;height:24px;overflow:hidden;transition:background-color .15s;width:24px}.viewer-toolbar>ul>li:focus,.viewer-toolbar>ul>li:hover{background-color:rgba(0,0,0,.8)}.viewer-toolbar>ul>li:focus{box-shadow:0 0 3px #fff;outline:0;position:relative;z-index:1}.viewer-toolbar>ul>li:before{margin:2px}.viewer-toolbar>ul>li+li{margin-left:1px}.viewer-toolbar>ul>.viewer-small{height:18px;margin-bottom:3px;margin-top:3px;width:18px}.viewer-toolbar>ul>.viewer-small:before{margin:-1px}.viewer-toolbar>ul>.viewer-large{height:30px;margin-bottom:-3px;margin-top:-3px;width:30px}.viewer-toolbar>ul>.viewer-large:before{margin:5px}.viewer-tooltip{background-color:rgba(0,0,0,.8);border-radius:10px;color:#fff;display:none;font-size:12px;height:20px;left:50%;line-height:20px;margin-left:-25px;margin-top:-10px;position:absolute;text-align:center;top:50%;width:50px}.viewer-title{color:#ccc;display:inline-block;font-size:12px;line-height:1.2;margin:5px 5%;max-width:90%;min-height:14px;opacity:.8;overflow:hidden;text-overflow:ellipsis;transition:opacity .15s;white-space:nowrap}.viewer-title:hover{opacity:1}.viewer-button{-webkit-app-region:no-drag;background-color:rgba(0,0,0,.5);border-radius:50%;cursor:pointer;height:80px;overflow:hidden;position:absolute;right:-40px;top:-40px;transition:background-color .15s;width:80px}.viewer-button:focus,.viewer-button:hover{background-color:rgba(0,0,0,.8)}.viewer-button:focus{box-shadow:0 0 3px #fff;outline:0}.viewer-button:before{bottom:15px;left:15px;position:absolute}.viewer-fixed{position:fixed}.viewer-open{overflow:hidden}.viewer-show{display:block}.viewer-hide{display:none}.viewer-backdrop{background-color:rgba(0,0,0,.5)}.viewer-invisible{visibility:hidden}.viewer-move{cursor:move;cursor:grab}.viewer-fade{opacity:0}.viewer-in{opacity:1}.viewer-transition{transition:all .3s}@keyframes viewer-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.viewer-loading:after{animation:viewer-spinner 1s linear infinite;border:4px solid rgba(255,255,255,.1);border-left-color:rgba(255,255,255,.5);border-radius:50%;content:"";display:inline-block;height:40px;left:50%;margin-left:-20px;margin-top:-20px;position:absolute;top:50%;width:40px;z-index:1}@media (max-width: 767px){.viewer-hide-xs-down{display:none}}@media (max-width: 991px){.viewer-hide-sm-down{display:none}}@media (max-width: 1199px){.viewer-hide-md-down{display:none}}.image[data-v-f2a567ad]{display:block;width:auto;height:100%;margin:0 auto}\n',document.head.appendChild(r);var d={backdrop:!0,button:!0,navbar:!0,title:!0,toolbar:!0,className:"",container:"body",filter:null,fullscreen:!0,inheritedAttributes:["crossOrigin","decoding","isMap","loading","referrerPolicy","sizes","srcset","useMap"],initialCoverage:.9,initialViewIndex:0,inline:!1,interval:5e3,keyboard:!0,focus:!0,loading:!0,loop:!0,minWidth:200,minHeight:100,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,slideOnTouch:!0,toggleOnDblclick:!0,tooltip:!0,transition:!0,zIndex:2015,zIndexInline:0,zoomRatio:.1,minZoomRatio:.01,maxZoomRatio:100,url:"src",ready:null,show:null,shown:null,hide:null,hidden:null,view:null,viewed:null,move:null,moved:null,rotate:null,rotated:null,scale:null,scaled:null,zoom:null,zoomed:null,play:null,stop:null},f="undefined"!=typeof window&&void 0!==window.document,v=f?window:{},p=!(!f||!v.document.documentElement)&&"ontouchstart"in v.document.documentElement,m=!!f&&"PointerEvent"in v,g="viewer",b="move",w="switch",y="zoom",x="".concat(g,"-active"),k="".concat(g,"-close"),z="".concat(g,"-fade"),T="".concat(g,"-fixed"),O="".concat(g,"-fullscreen"),j="".concat(g,"-fullscreen-exit"),E="".concat(g,"-hide"),S="".concat(g,"-hide-md-down"),A="".concat(g,"-hide-sm-down"),D="".concat(g,"-hide-xs-down"),C="".concat(g,"-in"),I="".concat(g,"-invisible"),F="".concat(g,"-loading"),R="".concat(g,"-move"),V="".concat(g,"-open"),M="".concat(g,"-show"),L="".concat(g,"-transition"),P="click",N="dblclick",_="dragstart",X="focusin",Y="keydown",q="load",W="error",$=m?"pointerdown":p?"touchstart":"mousedown",H=m?"pointermove":p?"touchmove":"mousemove",B=m?"pointerup pointercancel":p?"touchend touchcancel":"mouseup",U="resize",Z="transitionend",K="wheel",G="ready",J="show",Q="shown",tt="hide",et="hidden",it="view",nt="viewed",ot="move",rt="moved",at="rotate",st="rotated",lt="scale",ht="scaled",ct="zoom",ut="zoomed",dt="play",ft="stop",vt="".concat(g,"Action"),pt=/\s\s*/,mt=["zoom-in","zoom-out","one-to-one","reset","prev","play","next","rotate-left","rotate-right","flip-horizontal","flip-vertical"];function gt(t){return"string"==typeof t}var bt=Number.isNaN||v.isNaN;function wt(t){return"number"==typeof t&&!bt(t)}function yt(t){return void 0===t}function xt(t){return"object"===u(t)&&null!==t}var kt=Object.prototype.hasOwnProperty;function zt(t){if(!xt(t))return!1;try{var e=t.constructor,i=e.prototype;return e&&i&&kt.call(i,"isPrototypeOf")}catch(n){return!1}}function Tt(t){return"function"==typeof t}function Ot(t,e){if(t&&Tt(e))if(Array.isArray(t)||wt(t.length)){var i,n=t.length;for(i=0;i<n&&!1!==e.call(t,t[i],i,t);i+=1);}else xt(t)&&Object.keys(t).forEach((function(i){e.call(t,t[i],i,t)}));return t}var jt=Object.assign||function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return xt(t)&&i.length>0&&i.forEach((function(e){xt(e)&&Object.keys(e).forEach((function(i){t[i]=e[i]}))})),t},Et=/^(?:width|height|left|top|marginLeft|marginTop)$/;function St(t,e){var i=t.style;Ot(e,(function(t,e){Et.test(e)&&wt(t)&&(t+="px"),i[e]=t}))}function At(t,e){return!(!t||!e)&&(t.classList?t.classList.contains(e):t.className.indexOf(e)>-1)}function Dt(t,e){if(t&&e)if(wt(t.length))Ot(t,(function(t){Dt(t,e)}));else if(t.classList)t.classList.add(e);else{var i=t.className.trim();i?i.indexOf(e)<0&&(t.className="".concat(i," ").concat(e)):t.className=e}}function Ct(t,e){t&&e&&(wt(t.length)?Ot(t,(function(t){Ct(t,e)})):t.classList?t.classList.remove(e):t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,"")))}function It(t,e,i){e&&(wt(t.length)?Ot(t,(function(t){It(t,e,i)})):i?Dt(t,e):Ct(t,e))}var Ft=/([a-z\d])([A-Z])/g;function Rt(t){return t.replace(Ft,"$1-$2").toLowerCase()}function Vt(t,e){return xt(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(Rt(e)))}function Mt(t,e,i){xt(i)?t[e]=i:t.dataset?t.dataset[e]=i:t.setAttribute("data-".concat(Rt(e)),i)}var Lt=function(){var t=!1;if(f){var e=!1,i=function(){},n=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(t){e=t}});v.addEventListener("test",i,n),v.removeEventListener("test",i,n)}return t}();function Pt(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=i;e.trim().split(pt).forEach((function(e){if(!Lt){var r=t.listeners;r&&r[e]&&r[e][i]&&(o=r[e][i],delete r[e][i],0===Object.keys(r[e]).length&&delete r[e],0===Object.keys(r).length&&delete t.listeners)}t.removeEventListener(e,o,n)}))}function Nt(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=i;e.trim().split(pt).forEach((function(e){if(n.once&&!Lt){var r=t.listeners,a=void 0===r?{}:r;o=function(){delete a[e][i],t.removeEventListener(e,o,n);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];i.apply(t,s)},a[e]||(a[e]={}),a[e][i]&&t.removeEventListener(e,a[e][i],n),a[e][i]=o,t.listeners=a}t.addEventListener(e,o,n)}))}function _t(t,e,i,n){var o;return Tt(Event)&&Tt(CustomEvent)?o=new CustomEvent(e,h({bubbles:!0,cancelable:!0,detail:i},n)):(o=document.createEvent("CustomEvent")).initCustomEvent(e,!0,!0,i),t.dispatchEvent(o)}function Xt(t){var e=t.rotate,i=t.scaleX,n=t.scaleY,o=t.translateX,r=t.translateY,a=[];wt(o)&&0!==o&&a.push("translateX(".concat(o,"px)")),wt(r)&&0!==r&&a.push("translateY(".concat(r,"px)")),wt(e)&&0!==e&&a.push("rotate(".concat(e,"deg)")),wt(i)&&1!==i&&a.push("scaleX(".concat(i,")")),wt(n)&&1!==n&&a.push("scaleY(".concat(n,")"));var s=a.length?a.join(" "):"none";return{WebkitTransform:s,msTransform:s,transform:s}}var Yt=v.navigator&&/Version\/\d+(\.\d+)+?\s+Safari/i.test(v.navigator.userAgent);function qt(t,e,i){var n=document.createElement("img");if(t.naturalWidth&&!Yt)return i(t.naturalWidth,t.naturalHeight),n;var o=document.body||document.documentElement;return n.onload=function(){i(n.width,n.height),Yt||o.removeChild(n)},Ot(e.inheritedAttributes,(function(e){var i=t.getAttribute(e);null!==i&&n.setAttribute(e,i)})),n.src=t.src,Yt||(n.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",o.appendChild(n)),n}function Wt(t){switch(t){case 2:return D;case 3:return A;case 4:return S;default:return""}}function $t(t,e){var i=t.pageX,n=t.pageY,o={endX:i,endY:n};return e?o:h({timeStamp:Date.now(),startX:i,startY:n},o)}var Ht,Bt={render:function(){this.initContainer(),this.initViewer(),this.initList(),this.renderViewer()},initBody:function(){var t=this.element.ownerDocument,e=t.body||t.documentElement;this.body=e,this.scrollbarWidth=window.innerWidth-t.documentElement.clientWidth,this.initialBodyPaddingRight=e.style.paddingRight,this.initialBodyComputedPaddingRight=window.getComputedStyle(e).paddingRight},initContainer:function(){this.containerData={width:window.innerWidth,height:window.innerHeight}},initViewer:function(){var t,e=this.options,i=this.parent;e.inline&&(t={width:Math.max(i.offsetWidth,e.minWidth),height:Math.max(i.offsetHeight,e.minHeight)},this.parentData=t),!this.fulled&&t||(t=this.containerData),this.viewerData=jt({},t)},renderViewer:function(){this.options.inline&&!this.fulled&&St(this.viewer,this.viewerData)},initList:function(){var t=this,e=this.element,i=this.options,n=this.list,o=[];n.innerHTML="",Ot(this.images,(function(e,r){var a=e.src,s=e.alt||function(t){return gt(t)?decodeURIComponent(t.replace(/^.*\//,"").replace(/[?&#].*$/,"")):""}(a),l=t.getImageURL(e);if(a||l){var h=document.createElement("li"),c=document.createElement("img");Ot(i.inheritedAttributes,(function(t){var i=e.getAttribute(t);null!==i&&c.setAttribute(t,i)})),i.navbar&&(c.src=a||l),c.alt=s,c.setAttribute("data-original-url",l||a),h.setAttribute("data-index",r),h.setAttribute("data-viewer-action","view"),h.setAttribute("role","button"),i.keyboard&&h.setAttribute("tabindex",0),h.appendChild(c),n.appendChild(h),o.push(h)}})),this.items=o,Ot(o,(function(e){var n,o,r=e.firstElementChild;Mt(r,"filled",!0),i.loading&&Dt(e,F),Nt(r,q,n=function(n){Pt(r,W,o),i.loading&&Ct(e,F),t.loadImage(n)},{once:!0}),Nt(r,W,o=function(){Pt(r,q,n),i.loading&&Ct(e,F)},{once:!0})})),i.transition&&Nt(e,nt,(function(){Dt(n,L)}),{once:!0})},renderList:function(){var t=this.index,e=this.items[t];if(e){var i=e.nextElementSibling,n=parseInt(window.getComputedStyle(i||e).marginLeft,10),o=e.offsetWidth,r=o+n;St(this.list,jt({width:r*this.length-n},Xt({translateX:(this.viewerData.width-o)/2-r*t})))}},resetList:function(){var t=this.list;t.innerHTML="",Ct(t,L),St(t,Xt({translateX:0}))},initImage:function(t){var e,i=this,n=this.options,o=this.image,r=this.viewerData,a=this.footer.offsetHeight,s=r.width,l=Math.max(r.height-a,a),h=this.imageData||{};this.imageInitializing={abort:function(){e.onload=null}},e=qt(o,n,(function(e,o){var r=e/o,a=Math.max(0,Math.min(1,n.initialCoverage)),c=s,u=l;i.imageInitializing=!1,l*r>s?u=s/r:c=l*r,a=wt(a)?a:.9,c=Math.min(c*a,e),u=Math.min(u*a,o);var d=(s-c)/2,f=(l-u)/2,v={left:d,top:f,x:d,y:f,width:c,height:u,oldRatio:1,ratio:c/e,aspectRatio:r,naturalWidth:e,naturalHeight:o},p=jt({},v);n.rotatable&&(v.rotate=h.rotate||0,p.rotate=0),n.scalable&&(v.scaleX=h.scaleX||1,v.scaleY=h.scaleY||1,p.scaleX=1,p.scaleY=1),i.imageData=v,i.initialImageData=p,t&&t()}))},renderImage:function(t){var e=this,i=this.image,n=this.imageData;if(St(i,jt({width:n.width,height:n.height,marginLeft:n.x,marginTop:n.y},Xt(n))),t)if((this.viewing||this.moving||this.rotating||this.scaling||this.zooming)&&this.options.transition&&At(i,L)){var o=function(){e.imageRendering=!1,t()};this.imageRendering={abort:function(){Pt(i,Z,o)}},Nt(i,Z,o,{once:!0})}else t()},resetImage:function(){var t=this.image;t&&(this.viewing&&this.viewing.abort(),t.parentNode.removeChild(t),this.image=null,this.title.innerHTML="")}},Ut={bind:function(){var t=this.options,e=this.viewer,i=this.canvas,n=this.element.ownerDocument;Nt(e,P,this.onClick=this.click.bind(this)),Nt(e,_,this.onDragStart=this.dragstart.bind(this)),Nt(i,$,this.onPointerDown=this.pointerdown.bind(this)),Nt(n,H,this.onPointerMove=this.pointermove.bind(this)),Nt(n,B,this.onPointerUp=this.pointerup.bind(this)),Nt(n,Y,this.onKeyDown=this.keydown.bind(this)),Nt(window,U,this.onResize=this.resize.bind(this)),t.zoomable&&t.zoomOnWheel&&Nt(e,K,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),t.toggleOnDblclick&&Nt(i,N,this.onDblclick=this.dblclick.bind(this))},unbind:function(){var t=this.options,e=this.viewer,i=this.canvas,n=this.element.ownerDocument;Pt(e,P,this.onClick),Pt(e,_,this.onDragStart),Pt(i,$,this.onPointerDown),Pt(n,H,this.onPointerMove),Pt(n,B,this.onPointerUp),Pt(n,Y,this.onKeyDown),Pt(window,U,this.onResize),t.zoomable&&t.zoomOnWheel&&Pt(e,K,this.onWheel,{passive:!1,capture:!0}),t.toggleOnDblclick&&Pt(i,N,this.onDblclick)}},Zt={click:function(t){var e=this.options,i=this.imageData,n=t.target,o=Vt(n,vt);switch(o||"img"!==n.localName||"li"!==n.parentElement.localName||(o=Vt(n=n.parentElement,vt)),p&&t.isTrusted&&n===this.canvas&&clearTimeout(this.clickCanvasTimeout),o){case"mix":this.played?this.stop():e.inline?this.fulled?this.exit():this.full():this.hide();break;case"hide":this.pointerMoved||this.hide();break;case"view":this.view(Vt(n,"index"));break;case"zoom-in":this.zoom(.1,!0);break;case"zoom-out":this.zoom(-.1,!0);break;case"one-to-one":this.toggle();break;case"reset":this.reset();break;case"prev":this.prev(e.loop);break;case"play":this.play(e.fullscreen);break;case"next":this.next(e.loop);break;case"rotate-left":this.rotate(-90);break;case"rotate-right":this.rotate(90);break;case"flip-horizontal":this.scaleX(-i.scaleX||-1);break;case"flip-vertical":this.scaleY(-i.scaleY||-1);break;default:this.played&&this.stop()}},dblclick:function(t){t.preventDefault(),this.viewed&&t.target===this.image&&(p&&t.isTrusted&&clearTimeout(this.doubleClickImageTimeout),this.toggle(t.isTrusted?t:t.detail&&t.detail.originalEvent))},load:function(){var t=this;this.timeout&&(clearTimeout(this.timeout),this.timeout=!1);var e=this.element,i=this.options,n=this.image,o=this.index,r=this.viewerData;Ct(n,I),i.loading&&Ct(this.canvas,F),n.style.cssText="height:0;"+"margin-left:".concat(r.width/2,"px;")+"margin-top:".concat(r.height/2,"px;")+"max-width:none!important;position:relative;width:0;",this.initImage((function(){It(n,R,i.movable),It(n,L,i.transition),t.renderImage((function(){t.viewed=!0,t.viewing=!1,Tt(i.viewed)&&Nt(e,nt,i.viewed,{once:!0}),_t(e,nt,{originalImage:t.images[o],index:o,image:n},{cancelable:!1})}))}))},loadImage:function(t){var e=t.target,i=e.parentNode,n=i.offsetWidth||30,o=i.offsetHeight||50,r=!!Vt(e,"filled");qt(e,this.options,(function(t,i){var a=t/i,s=n,l=o;o*a>n?r?s=o*a:l=n/a:r?l=n/a:s=o*a,St(e,jt({width:s,height:l},Xt({translateX:(n-s)/2,translateY:(o-l)/2})))}))},keydown:function(t){var e=this.options;if(e.keyboard){var i=t.keyCode||t.which||t.charCode;if(13===i&&this.viewer.contains(t.target)&&this.click(t),this.fulled)switch(i){case 27:this.played?this.stop():e.inline?this.fulled&&this.exit():this.hide();break;case 32:this.played&&this.stop();break;case 37:this.played&&this.playing?this.playing.prev():this.prev(e.loop);break;case 38:t.preventDefault(),this.zoom(e.zoomRatio,!0);break;case 39:this.played&&this.playing?this.playing.next():this.next(e.loop);break;case 40:t.preventDefault(),this.zoom(-e.zoomRatio,!0);break;case 48:case 49:t.ctrlKey&&(t.preventDefault(),this.toggle())}}},dragstart:function(t){"img"===t.target.localName&&t.preventDefault()},pointerdown:function(t){var e=this.options,i=this.pointers,n=t.buttons,o=t.button;if(this.pointerMoved=!1,!(!this.viewed||this.showing||this.viewing||this.hiding||("mousedown"===t.type||"pointerdown"===t.type&&"mouse"===t.pointerType)&&(wt(n)&&1!==n||wt(o)&&0!==o||t.ctrlKey))){t.preventDefault(),t.changedTouches?Ot(t.changedTouches,(function(t){i[t.identifier]=$t(t)})):i[t.pointerId||0]=$t(t);var r=!!e.movable&&b;e.zoomOnTouch&&e.zoomable&&Object.keys(i).length>1?r=y:e.slideOnTouch&&("touch"===t.pointerType||"touchstart"===t.type)&&this.isSwitchable()&&(r=w),!e.transition||r!==b&&r!==y||Ct(this.image,L),this.action=r}},pointermove:function(t){var e=this.pointers,i=this.action;this.viewed&&i&&(t.preventDefault(),t.changedTouches?Ot(t.changedTouches,(function(t){jt(e[t.identifier]||{},$t(t,!0))})):jt(e[t.pointerId||0]||{},$t(t,!0)),this.change(t))},pointerup:function(t){var e,i=this,n=this.options,o=this.action,r=this.pointers;t.changedTouches?Ot(t.changedTouches,(function(t){e=r[t.identifier],delete r[t.identifier]})):(e=r[t.pointerId||0],delete r[t.pointerId||0]),o&&(t.preventDefault(),!n.transition||o!==b&&o!==y||Dt(this.image,L),this.action=!1,p&&o!==y&&e&&Date.now()-e.timeStamp<500&&(clearTimeout(this.clickCanvasTimeout),clearTimeout(this.doubleClickImageTimeout),n.toggleOnDblclick&&this.viewed&&t.target===this.image?this.imageClicked?(this.imageClicked=!1,this.doubleClickImageTimeout=setTimeout((function(){_t(i.image,N,{originalEvent:t})}),50)):(this.imageClicked=!0,this.doubleClickImageTimeout=setTimeout((function(){i.imageClicked=!1}),500)):(this.imageClicked=!1,n.backdrop&&"static"!==n.backdrop&&t.target===this.canvas&&(this.clickCanvasTimeout=setTimeout((function(){_t(i.canvas,P,{originalEvent:t})}),50)))))},resize:function(){var t=this;if(this.isShown&&!this.hiding&&(this.fulled&&(this.close(),this.initBody(),this.open()),this.initContainer(),this.initViewer(),this.renderViewer(),this.renderList(),this.viewed&&this.initImage((function(){t.renderImage()})),this.played)){if(this.options.fullscreen&&this.fulled&&!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement))return void this.stop();Ot(this.player.getElementsByTagName("img"),(function(e){Nt(e,q,t.loadImage.bind(t),{once:!0}),_t(e,q)}))}},wheel:function(t){var e=this;if(this.viewed&&(t.preventDefault(),!this.wheeling)){this.wheeling=!0,setTimeout((function(){e.wheeling=!1}),50);var i=Number(this.options.zoomRatio)||.1,n=1;t.deltaY?n=t.deltaY>0?1:-1:t.wheelDelta?n=-t.wheelDelta/120:t.detail&&(n=t.detail>0?1:-1),this.zoom(-n*i,!0,null,t)}}},Kt={show:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.element,i=this.options;if(i.inline||this.showing||this.isShown||this.showing)return this;if(!this.ready)return this.build(),this.ready&&this.show(t),this;if(Tt(i.show)&&Nt(e,J,i.show,{once:!0}),!1===_t(e,J)||!this.ready)return this;this.hiding&&this.transitioning.abort(),this.showing=!0,this.open();var n=this.viewer;if(Ct(n,E),n.setAttribute("role","dialog"),n.setAttribute("aria-labelledby",this.title.id),n.setAttribute("aria-modal",!0),n.removeAttribute("aria-hidden"),i.transition&&!t){var o=this.shown.bind(this);this.transitioning={abort:function(){Pt(n,Z,o),Ct(n,C)}},Dt(n,L),n.initialOffsetWidth=n.offsetWidth,Nt(n,Z,o,{once:!0}),Dt(n,C)}else Dt(n,C),this.shown();return this},hide:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.element,n=this.options;if(n.inline||this.hiding||!this.isShown&&!this.showing)return this;if(Tt(n.hide)&&Nt(i,tt,n.hide,{once:!0}),!1===_t(i,tt))return this;this.showing&&this.transitioning.abort(),this.hiding=!0,this.played?this.stop():this.viewing&&this.viewing.abort();var o=this.viewer,r=this.image,a=function(){Ct(o,C),t.hidden()};if(n.transition&&!e){var s=function(e){e&&e.target===o&&(Pt(o,Z,s),t.hidden())},l=function(){At(o,L)?(Nt(o,Z,s),Ct(o,C)):a()};this.transitioning={abort:function(){t.viewed&&At(r,L)?Pt(r,Z,l):At(o,L)&&Pt(o,Z,s)}},this.viewed&&At(r,L)?(Nt(r,Z,l,{once:!0}),this.zoomTo(0,!1,null,null,!0)):l()}else a();return this},view:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.initialViewIndex;if(e=Number(e)||0,this.hiding||this.played||e<0||e>=this.length||this.viewed&&e===this.index)return this;if(!this.isShown)return this.index=e,this.show();this.viewing&&this.viewing.abort();var i=this.element,n=this.options,o=this.title,r=this.canvas,a=this.items[e],s=a.querySelector("img"),l=Vt(s,"originalUrl"),h=s.getAttribute("alt"),c=document.createElement("img");if(Ot(n.inheritedAttributes,(function(t){var e=s.getAttribute(t);null!==e&&c.setAttribute(t,e)})),c.src=l,c.alt=h,Tt(n.view)&&Nt(i,it,n.view,{once:!0}),!1===_t(i,it,{originalImage:this.images[e],index:e,image:c})||!this.isShown||this.hiding||this.played)return this;var u=this.items[this.index];u&&(Ct(u,x),u.removeAttribute("aria-selected")),Dt(a,x),a.setAttribute("aria-selected",!0),n.focus&&a.focus(),this.image=c,this.viewed=!1,this.index=e,this.imageData={},Dt(c,I),n.loading&&Dt(r,F),r.innerHTML="",r.appendChild(c),this.renderList(),o.innerHTML="";var d,f,v=function(){var e,i=t.imageData,r=Array.isArray(n.title)?n.title[1]:n.title;o.innerHTML=gt(e=Tt(r)?r.call(t,c,i):"".concat(h," (").concat(i.naturalWidth," × ").concat(i.naturalHeight,")"))?e.replace(/&(?!amp;|quot;|#39;|lt;|gt;)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):e};return Nt(i,nt,v,{once:!0}),this.viewing={abort:function(){Pt(i,nt,v),c.complete?t.imageRendering?t.imageRendering.abort():t.imageInitializing&&t.imageInitializing.abort():(c.src="",Pt(c,q,d),t.timeout&&clearTimeout(t.timeout))}},c.complete?this.load():(Nt(c,q,d=function(){Pt(c,W,f),t.load()},{once:!0}),Nt(c,W,f=function(){Pt(c,q,d),t.timeout&&(clearTimeout(t.timeout),t.timeout=!1),Ct(c,I),n.loading&&Ct(t.canvas,F)},{once:!0}),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout((function(){Ct(c,I),t.timeout=!1}),1e3)),this},prev:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.index-1;return e<0&&(e=t?this.length-1:0),this.view(e),this},next:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.length-1,i=this.index+1;return i>e&&(i=t?0:e),this.view(i),this},move:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=this.imageData;return this.moveTo(yt(t)?t:i.x+Number(t),yt(e)?e:i.y+Number(e)),this},moveTo:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=this.element,r=this.options,a=this.imageData;if(t=Number(t),i=Number(i),this.viewed&&!this.played&&r.movable){var s=a.x,l=a.y,h=!1;if(wt(t)?h=!0:t=s,wt(i)?h=!0:i=l,h){if(Tt(r.move)&&Nt(o,ot,r.move,{once:!0}),!1===_t(o,ot,{x:t,y:i,oldX:s,oldY:l,originalEvent:n}))return this;a.x=t,a.y=i,a.left=t,a.top=i,this.moving=!0,this.renderImage((function(){e.moving=!1,Tt(r.moved)&&Nt(o,rt,r.moved,{once:!0}),_t(o,rt,{x:t,y:i,oldX:s,oldY:l,originalEvent:n},{cancelable:!1})}))}}return this},rotate:function(t){return this.rotateTo((this.imageData.rotate||0)+Number(t)),this},rotateTo:function(t){var e=this,i=this.element,n=this.options,o=this.imageData;if(wt(t=Number(t))&&this.viewed&&!this.played&&n.rotatable){var r=o.rotate;if(Tt(n.rotate)&&Nt(i,at,n.rotate,{once:!0}),!1===_t(i,at,{degree:t,oldDegree:r}))return this;o.rotate=t,this.rotating=!0,this.renderImage((function(){e.rotating=!1,Tt(n.rotated)&&Nt(i,st,n.rotated,{once:!0}),_t(i,st,{degree:t,oldDegree:r},{cancelable:!1})}))}return this},scaleX:function(t){return this.scale(t,this.imageData.scaleY),this},scaleY:function(t){return this.scale(this.imageData.scaleX,t),this},scale:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=this.element,o=this.options,r=this.imageData;if(t=Number(t),i=Number(i),this.viewed&&!this.played&&o.scalable){var a=r.scaleX,s=r.scaleY,l=!1;if(wt(t)?l=!0:t=a,wt(i)?l=!0:i=s,l){if(Tt(o.scale)&&Nt(n,lt,o.scale,{once:!0}),!1===_t(n,lt,{scaleX:t,scaleY:i,oldScaleX:a,oldScaleY:s}))return this;r.scaleX=t,r.scaleY=i,this.scaling=!0,this.renderImage((function(){e.scaling=!1,Tt(o.scaled)&&Nt(n,ht,o.scaled,{once:!0}),_t(n,ht,{scaleX:t,scaleY:i,oldScaleX:a,oldScaleY:s},{cancelable:!1})}))}}return this},zoom:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=this.imageData;return t=(t=Number(t))<0?1/(1-t):1+t,this.zoomTo(o.width*t/o.naturalWidth,e,i,n),this},zoomTo:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=this.element,s=this.options,l=this.pointers,h=this.imageData,c=h.x,u=h.y,d=h.width,f=h.height,v=h.naturalWidth,p=h.naturalHeight;if(wt(t=Math.max(0,t))&&this.viewed&&!this.played&&(r||s.zoomable)){if(!r){var m=Math.max(.01,s.minZoomRatio),g=Math.min(100,s.maxZoomRatio);t=Math.min(Math.max(t,m),g)}if(o)switch(o.type){case"wheel":s.zoomRatio>=.055&&t>.95&&t<1.05&&(t=1);break;case"pointermove":case"touchmove":case"mousemove":t>.99&&t<1.01&&(t=1)}var b=v*t,w=p*t,y=b-d,x=w-f,k=h.ratio;if(Tt(s.zoom)&&Nt(a,ct,s.zoom,{once:!0}),!1===_t(a,ct,{ratio:t,oldRatio:k,originalEvent:o}))return this;if(this.zooming=!0,o){var z=function(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}(this.viewer),T=l&&Object.keys(l).length>0?function(t){var e=0,i=0,n=0;return Ot(t,(function(t){var o=t.startX,r=t.startY;e+=o,i+=r,n+=1})),{pageX:e/=n,pageY:i/=n}}(l):{pageX:o.pageX,pageY:o.pageY};h.x-=y*((T.pageX-z.left-c)/d),h.y-=x*((T.pageY-z.top-u)/f)}else zt(n)&&wt(n.x)&&wt(n.y)?(h.x-=y*((n.x-c)/d),h.y-=x*((n.y-u)/f)):(h.x-=y/2,h.y-=x/2);h.left=h.x,h.top=h.y,h.width=b,h.height=w,h.oldRatio=k,h.ratio=t,this.renderImage((function(){e.zooming=!1,Tt(s.zoomed)&&Nt(a,ut,s.zoomed,{once:!0}),_t(a,ut,{ratio:t,oldRatio:k,originalEvent:o},{cancelable:!1})})),i&&this.tooltip()}return this},play:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isShown||this.played)return this;var i=this.element,n=this.options;if(Tt(n.play)&&Nt(i,dt,n.play,{once:!0}),!1===_t(i,dt))return this;var o=this.player,r=this.loadImage.bind(this),a=[],s=0,l=0;if(this.played=!0,this.onLoadWhenPlay=r,e&&this.requestFullscreen(e),Dt(o,M),Ot(this.items,(function(t,e){var i=t.querySelector("img"),h=document.createElement("img");h.src=Vt(i,"originalUrl"),h.alt=i.getAttribute("alt"),h.referrerPolicy=i.referrerPolicy,s+=1,Dt(h,z),It(h,L,n.transition),At(t,x)&&(Dt(h,C),l=e),a.push(h),Nt(h,q,r,{once:!0}),o.appendChild(h)})),wt(n.interval)&&n.interval>0){var h=function(){clearTimeout(t.playing.timeout),Ct(a[l],C),Dt(a[l=(l-=1)>=0?l:s-1],C),t.playing.timeout=setTimeout(h,n.interval)},c=function(){clearTimeout(t.playing.timeout),Ct(a[l],C),Dt(a[l=(l+=1)<s?l:0],C),t.playing.timeout=setTimeout(c,n.interval)};s>1&&(this.playing={prev:h,next:c,timeout:setTimeout(c,n.interval)})}return this},stop:function(){var t=this;if(!this.played)return this;var e=this.element,i=this.options;if(Tt(i.stop)&&Nt(e,ft,i.stop,{once:!0}),!1===_t(e,ft))return this;var n=this.player;return clearTimeout(this.playing.timeout),this.playing=!1,this.played=!1,Ot(n.getElementsByTagName("img"),(function(e){Pt(e,q,t.onLoadWhenPlay)})),Ct(n,M),n.innerHTML="",this.exitFullscreen(),this},full:function(){var t=this,e=this.options,i=this.viewer,n=this.image,o=this.list;return!this.isShown||this.played||this.fulled||!e.inline||(this.fulled=!0,this.open(),Dt(this.button,j),e.transition&&(Ct(o,L),this.viewed&&Ct(n,L)),Dt(i,T),i.setAttribute("role","dialog"),i.setAttribute("aria-labelledby",this.title.id),i.setAttribute("aria-modal",!0),i.removeAttribute("style"),St(i,{zIndex:e.zIndex}),e.focus&&this.enforceFocus(),this.initContainer(),this.viewerData=jt({},this.containerData),this.renderList(),this.viewed&&this.initImage((function(){t.renderImage((function(){e.transition&&setTimeout((function(){Dt(n,L),Dt(o,L)}),0)}))}))),this},exit:function(){var t=this,e=this.options,i=this.viewer,n=this.image,o=this.list;return this.isShown&&!this.played&&this.fulled&&e.inline?(this.fulled=!1,this.close(),Ct(this.button,j),e.transition&&(Ct(o,L),this.viewed&&Ct(n,L)),e.focus&&this.clearEnforceFocus(),i.removeAttribute("role"),i.removeAttribute("aria-labelledby"),i.removeAttribute("aria-modal"),Ct(i,T),St(i,{zIndex:e.zIndexInline}),this.viewerData=jt({},this.parentData),this.renderViewer(),this.renderList(),this.viewed&&this.initImage((function(){t.renderImage((function(){e.transition&&setTimeout((function(){Dt(n,L),Dt(o,L)}),0)}))})),this):this},tooltip:function(){var t=this,e=this.options,i=this.tooltipBox,n=this.imageData;return this.viewed&&!this.played&&e.tooltip?(i.textContent="".concat(Math.round(100*n.ratio),"%"),this.tooltipping?clearTimeout(this.tooltipping):e.transition?(this.fading&&_t(i,Z),Dt(i,M),Dt(i,z),Dt(i,L),i.removeAttribute("aria-hidden"),i.initialOffsetWidth=i.offsetWidth,Dt(i,C)):(Dt(i,M),i.removeAttribute("aria-hidden")),this.tooltipping=setTimeout((function(){e.transition?(Nt(i,Z,(function(){Ct(i,M),Ct(i,z),Ct(i,L),i.setAttribute("aria-hidden",!0),t.fading=!1}),{once:!0}),Ct(i,C),t.fading=!0):(Ct(i,M),i.setAttribute("aria-hidden",!0)),t.tooltipping=!1}),1e3),this):this},toggle:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return 1===this.imageData.ratio?this.zoomTo(this.imageData.oldRatio,!0,null,t):this.zoomTo(1,!0,null,t),this},reset:function(){return this.viewed&&!this.played&&(this.imageData=jt({},this.initialImageData),this.renderImage()),this},update:function(){var t=this,e=this.element,i=this.options,n=this.isImg;if(n&&!e.parentNode)return this.destroy();var o=[];if(Ot(n?[e]:e.querySelectorAll("img"),(function(e){Tt(i.filter)?i.filter.call(t,e)&&o.push(e):t.getImageURL(e)&&o.push(e)})),!o.length)return this;if(this.images=o,this.length=o.length,this.ready){var r=[];if(Ot(this.items,(function(t,e){var i=t.querySelector("img"),n=o[e];n&&i&&n.src===i.src&&n.alt===i.alt||r.push(e)})),St(this.list,{width:"auto"}),this.initList(),this.isShown)if(this.length){if(this.viewed){var a=r.indexOf(this.index);if(a>=0)this.viewed=!1,this.view(Math.max(Math.min(this.index-a,this.length-1),0));else{var s=this.items[this.index];Dt(s,x),s.setAttribute("aria-selected",!0)}}}else this.image=null,this.viewed=!1,this.index=0,this.imageData={},this.canvas.innerHTML="",this.title.innerHTML=""}else this.build();return this},destroy:function(){var t=this.element,e=this.options;return t[g]?(this.destroyed=!0,this.ready?(this.played&&this.stop(),e.inline?(this.fulled&&this.exit(),this.unbind()):this.isShown?(this.viewing&&(this.imageRendering?this.imageRendering.abort():this.imageInitializing&&this.imageInitializing.abort()),this.hiding&&this.transitioning.abort(),this.hidden()):this.showing&&(this.transitioning.abort(),this.hidden()),this.ready=!1,this.viewer.parentNode.removeChild(this.viewer)):e.inline&&(this.delaying?this.delaying.abort():this.initializing&&this.initializing.abort()),e.inline||Pt(t,P,this.onStart),t[g]=void 0,this):this}},Gt={getImageURL:function(t){var e=this.options.url;return e=gt(e)?t.getAttribute(e):Tt(e)?e.call(this,t):""},enforceFocus:function(){var t=this;this.clearEnforceFocus(),Nt(document,X,this.onFocusin=function(e){var i=t.viewer,n=e.target;if(n!==document&&n!==i&&!i.contains(n)){for(;n;){if(null!==n.getAttribute("tabindex")||"true"===n.getAttribute("aria-modal"))return;n=n.parentElement}i.focus()}})},clearEnforceFocus:function(){this.onFocusin&&(Pt(document,X,this.onFocusin),this.onFocusin=null)},open:function(){var t=this.body;Dt(t,V),this.scrollbarWidth>0&&(t.style.paddingRight="".concat(this.scrollbarWidth+(parseFloat(this.initialBodyComputedPaddingRight)||0),"px"))},close:function(){var t=this.body;Ct(t,V),this.scrollbarWidth>0&&(t.style.paddingRight=this.initialBodyPaddingRight)},shown:function(){var t=this.element,e=this.options,i=this.viewer;this.fulled=!0,this.isShown=!0,this.render(),this.bind(),this.showing=!1,e.focus&&(i.focus(),this.enforceFocus()),Tt(e.shown)&&Nt(t,Q,e.shown,{once:!0}),!1!==_t(t,Q)&&this.ready&&this.isShown&&!this.hiding&&this.view(this.index)},hidden:function(){var t=this.element,e=this.options,i=this.viewer;e.fucus&&this.clearEnforceFocus(),this.close(),this.unbind(),Dt(i,E),i.removeAttribute("role"),i.removeAttribute("aria-labelledby"),i.removeAttribute("aria-modal"),i.setAttribute("aria-hidden",!0),this.resetList(),this.resetImage(),this.fulled=!1,this.viewed=!1,this.isShown=!1,this.hiding=!1,this.destroyed||(Tt(e.hidden)&&Nt(t,et,e.hidden,{once:!0}),_t(t,et,null,{cancelable:!1}))},requestFullscreen:function(t){var e=this.element.ownerDocument;if(this.fulled&&!(e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement)){var i=e.documentElement;i.requestFullscreen?zt(t)?i.requestFullscreen(t):i.requestFullscreen():i.webkitRequestFullscreen?i.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):i.mozRequestFullScreen?i.mozRequestFullScreen():i.msRequestFullscreen&&i.msRequestFullscreen()}},exitFullscreen:function(){var t=this.element.ownerDocument;this.fulled&&(t.fullscreenElement||t.webkitFullscreenElement||t.mozFullScreenElement||t.msFullscreenElement)&&(t.exitFullscreen?t.exitFullscreen():t.webkitExitFullscreen?t.webkitExitFullscreen():t.mozCancelFullScreen?t.mozCancelFullScreen():t.msExitFullscreen&&t.msExitFullscreen())},change:function(t){var e=this.options,i=this.pointers,n=i[Object.keys(i)[0]];if(n){var o=n.endX-n.startX,r=n.endY-n.startY;switch(this.action){case b:0===o&&0===r||(this.pointerMoved=!0,this.move(o,r,t));break;case y:this.zoom(function(t){var e=h({},t),i=[];return Ot(t,(function(t,n){delete e[n],Ot(e,(function(e){var n=Math.abs(t.startX-e.startX),o=Math.abs(t.startY-e.startY),r=Math.abs(t.endX-e.endX),a=Math.abs(t.endY-e.endY),s=Math.sqrt(n*n+o*o),l=(Math.sqrt(r*r+a*a)-s)/s;i.push(l)}))})),i.sort((function(t,e){return Math.abs(t)<Math.abs(e)})),i[0]}(i),!1,null,t);break;case w:this.action="switched";var a=Math.abs(o);a>1&&a>Math.abs(r)&&(this.pointers={},o>1?this.prev(e.loop):o<-1&&this.next(e.loop))}Ot(i,(function(t){t.startX=t.endX,t.startY=t.endY}))}},isSwitchable:function(){var t=this.imageData,e=this.viewerData;return this.length>1&&t.x>=0&&t.y>=0&&t.width<=e.width&&t.height<=e.height}},Jt=v.Viewer,Qt=(Ht=-1,function(){return Ht+=1}),te=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(
/*!
       * Viewer.js v1.11.7
       * https://fengyuanchen.github.io/viewerjs
       *
       * Copyright 2015-present Chen Fengyuan
       * Released under the MIT license
       *
       * Date: 2024-11-24T04:32:19.116Z
       */
function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e||1!==e.nodeType)throw new Error("The first argument is required and must be an element.");this.element=e,this.options=jt({},d,zt(i)&&i),this.action=!1,this.fading=!1,this.fulled=!1,this.hiding=!1,this.imageClicked=!1,this.imageData={},this.index=this.options.initialViewIndex,this.isImg=!1,this.isShown=!1,this.length=0,this.moving=!1,this.played=!1,this.playing=!1,this.pointers={},this.ready=!1,this.rotating=!1,this.scaling=!1,this.showing=!1,this.timeout=!1,this.tooltipping=!1,this.viewed=!1,this.viewing=!1,this.wheeling=!1,this.zooming=!1,this.pointerMoved=!1,this.id=Qt(),this.init()}return e=t,i=[{key:"init",value:function(){var t=this,e=this.element,i=this.options;if(!e[g]){e[g]=this,i.focus&&!i.keyboard&&(i.focus=!1);var n="img"===e.localName,o=[];if(Ot(n?[e]:e.querySelectorAll("img"),(function(e){Tt(i.filter)?i.filter.call(t,e)&&o.push(e):t.getImageURL(e)&&o.push(e)})),this.isImg=n,this.length=o.length,this.images=o,this.initBody(),yt(document.createElement(g).style.transition)&&(i.transition=!1),i.inline){var r=0,a=function(){var e;(r+=1)===t.length&&(t.initializing=!1,t.delaying={abort:function(){clearTimeout(e)}},e=setTimeout((function(){t.delaying=!1,t.build()}),0))};this.initializing={abort:function(){Ot(o,(function(t){t.complete||(Pt(t,q,a),Pt(t,W,a))}))}},Ot(o,(function(t){var e,i;t.complete?a():(Nt(t,q,e=function(){Pt(t,W,i),a()},{once:!0}),Nt(t,W,i=function(){Pt(t,q,e),a()},{once:!0}))}))}else Nt(e,P,this.onStart=function(e){var n=e.target;"img"!==n.localName||Tt(i.filter)&&!i.filter.call(t,n)||t.view(t.images.indexOf(n))})}}},{key:"build",value:function(){if(!this.ready){var t=this.element,e=this.options,i=t.parentNode,n=document.createElement("div");n.innerHTML='<div class="viewer-container" tabindex="-1" touch-action="none"><div class="viewer-canvas"></div><div class="viewer-footer"><div class="viewer-title"></div><div class="viewer-toolbar"></div><div class="viewer-navbar"><ul class="viewer-list" role="navigation"></ul></div></div><div class="viewer-tooltip" role="alert" aria-hidden="true"></div><div class="viewer-button" data-viewer-action="mix" role="button"></div><div class="viewer-player"></div></div>';var o=n.querySelector(".".concat(g,"-container")),r=o.querySelector(".".concat(g,"-title")),a=o.querySelector(".".concat(g,"-toolbar")),s=o.querySelector(".".concat(g,"-navbar")),l=o.querySelector(".".concat(g,"-button")),h=o.querySelector(".".concat(g,"-canvas"));if(this.parent=i,this.viewer=o,this.title=r,this.toolbar=a,this.navbar=s,this.button=l,this.canvas=h,this.footer=o.querySelector(".".concat(g,"-footer")),this.tooltipBox=o.querySelector(".".concat(g,"-tooltip")),this.player=o.querySelector(".".concat(g,"-player")),this.list=o.querySelector(".".concat(g,"-list")),o.id="".concat(g).concat(this.id),r.id="".concat(g,"Title").concat(this.id),Dt(r,e.title?Wt(Array.isArray(e.title)?e.title[0]:e.title):E),Dt(s,e.navbar?Wt(e.navbar):E),It(l,E,!e.button),e.keyboard&&l.setAttribute("tabindex",0),e.backdrop&&(Dt(o,"".concat(g,"-backdrop")),e.inline||"static"===e.backdrop||Mt(h,vt,"hide")),gt(e.className)&&e.className&&e.className.split(pt).forEach((function(t){Dt(o,t)})),e.toolbar){var c=document.createElement("ul"),u=zt(e.toolbar),d=mt.slice(0,3),f=mt.slice(7,9),v=mt.slice(9);u||Dt(a,Wt(e.toolbar)),Ot(u?e.toolbar:mt,(function(t,i){var n=u&&zt(t),o=u?Rt(i):t,r=n&&!yt(t.show)?t.show:t;if(r&&(e.zoomable||-1===d.indexOf(o))&&(e.rotatable||-1===f.indexOf(o))&&(e.scalable||-1===v.indexOf(o))){var a=n&&!yt(t.size)?t.size:t,s=n&&!yt(t.click)?t.click:t,l=document.createElement("li");e.keyboard&&l.setAttribute("tabindex",0),l.setAttribute("role","button"),Dt(l,"".concat(g,"-").concat(o)),Tt(s)||Mt(l,vt,o),wt(r)&&Dt(l,Wt(r)),-1!==["small","large"].indexOf(a)?Dt(l,"".concat(g,"-").concat(a)):"play"===o&&Dt(l,"".concat(g,"-large")),Tt(s)&&Nt(l,P,s),c.appendChild(l)}})),a.appendChild(c)}else Dt(a,E);if(!e.rotatable){var p=a.querySelectorAll('li[class*="rotate"]');Dt(p,I),Ot(p,(function(t){a.appendChild(t)}))}if(e.inline)Dt(l,O),St(o,{zIndex:e.zIndexInline}),"static"===window.getComputedStyle(i).position&&St(i,{position:"relative"}),i.insertBefore(o,t.nextSibling);else{Dt(l,k),Dt(o,T),Dt(o,z),Dt(o,E),St(o,{zIndex:e.zIndex});var m=e.container;gt(m)&&(m=t.ownerDocument.querySelector(m)),m||(m=this.body),m.appendChild(o)}e.inline&&(this.render(),this.bind(),this.isShown=!0),this.ready=!0,Tt(e.ready)&&Nt(t,G,e.ready,{once:!0}),!1!==_t(t,G)?this.ready&&e.inline&&this.view(this.index):this.ready=!1}}}],n=[{key:"noConflict",value:function(){return window.Viewer=Jt,t}},{key:"setDefaults",value:function(t){jt(d,zt(t)&&t)}}],i&&a(e.prototype,i),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,i,n}();jt(te.prototype,Bt,Ut,Zt,Kt,Gt);var ee="object"==typeof global&&global&&global.Object===Object&&global,ie="object"==typeof self&&self&&self.Object===Object&&self,ne=ee||ie||Function("return this")(),oe=ne.Symbol,re=Object.prototype,ae=re.hasOwnProperty,se=re.toString,le=oe?oe.toStringTag:void 0,he=Object.prototype.toString,ce=oe?oe.toStringTag:void 0;function ue(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":ce&&ce in Object(t)?function(t){var e=ae.call(t,le),i=t[le];try{t[le]=void 0;var n=!0}catch(r){}var o=se.call(t);return n&&(e?t[le]=i:delete t[le]),o}(t):function(t){return he.call(t)}(t)}function de(t){return null!=t&&"object"==typeof t}var fe=Array.isArray;function ve(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function pe(t){return t}function me(t){if(!ve(t))return!1;var e=ue(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}var ge,be=ne["__core-js_shared__"],we=(ge=/[^.]+$/.exec(be&&be.keys&&be.keys.IE_PROTO||""))?"Symbol(src)_1."+ge:"",ye=Function.prototype.toString,xe=/^\[object .+?Constructor\]$/,ke=Function.prototype,ze=Object.prototype,Te=ke.toString,Oe=ze.hasOwnProperty,je=RegExp("^"+Te.call(Oe).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ee(t){return!(!ve(t)||(e=t,we&&we in e))&&(me(t)?je:xe).test(function(t){if(null!=t){try{return ye.call(t)}catch(e){}try{return t+""}catch(e){}}return""}(t));var e}var Se,Ae,De,Ce=Date.now,Ie=function(){try{var t=Ee(e=function(t,e){return null==t?void 0:t[e]}(Object,"defineProperty"))?e:void 0;return t({},"",{}),t}catch(i){}var e}(),Fe=Ie,Re=Fe?function(t,e){return Fe(t,"toString",{configurable:!0,enumerable:!1,value:(i=e,function(){return i}),writable:!0});var i}:pe,Ve=(Se=Re,Ae=0,De=0,function(){var t=Ce(),e=16-(t-De);if(De=t,e>0){if(++Ae>=800)return arguments[0]}else Ae=0;return Se.apply(void 0,arguments)}),Me=Ve,Le=/^(?:0|[1-9]\d*)$/;function Pe(t,e){var i=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==i||"symbol"!=i&&Le.test(t))&&t>-1&&t%1==0&&t<e}function Ne(t,e,i){"__proto__"==e&&Fe?Fe(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i}function _e(t,e){return t===e||t!=t&&e!=e}var Xe=Object.prototype.hasOwnProperty;function Ye(t,e,i){var n=t[e];Xe.call(t,e)&&_e(n,i)&&(void 0!==i||e in t)||Ne(t,e,i)}var qe=Math.max;function We(t,e){return Me(function(t,e,i){return e=qe(void 0===e?t.length-1:e,0),function(){for(var n=arguments,o=-1,r=qe(n.length-e,0),a=Array(r);++o<r;)a[o]=n[e+o];o=-1;for(var s=Array(e+1);++o<e;)s[o]=n[o];return s[e]=i(a),function(t,e,i){switch(i.length){case 0:return t.call(e);case 1:return t.call(e,i[0]);case 2:return t.call(e,i[0],i[1]);case 3:return t.call(e,i[0],i[1],i[2])}return t.apply(e,i)}(t,this,s)}}(t,e,pe),t+"")}function $e(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function He(t){return null!=t&&$e(t.length)&&!me(t)}var Be=Object.prototype;function Ue(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Be)}function Ze(t){return de(t)&&"[object Arguments]"==ue(t)}var Ke=Object.prototype,Ge=Ke.hasOwnProperty,Je=Ke.propertyIsEnumerable,Qe=Ze(function(){return arguments}())?Ze:function(t){return de(t)&&Ge.call(t,"callee")&&!Je.call(t,"callee")},ti=Qe,ei="object"==typeof t&&t&&!t.nodeType&&t,ii=ei&&"object"==typeof e&&e&&!e.nodeType&&e,ni=ii&&ii.exports===ei?ne.Buffer:void 0,oi=(ni?ni.isBuffer:void 0)||function(){return!1},ri={};ri["[object Float32Array]"]=ri["[object Float64Array]"]=ri["[object Int8Array]"]=ri["[object Int16Array]"]=ri["[object Int32Array]"]=ri["[object Uint8Array]"]=ri["[object Uint8ClampedArray]"]=ri["[object Uint16Array]"]=ri["[object Uint32Array]"]=!0,ri["[object Arguments]"]=ri["[object Array]"]=ri["[object ArrayBuffer]"]=ri["[object Boolean]"]=ri["[object DataView]"]=ri["[object Date]"]=ri["[object Error]"]=ri["[object Function]"]=ri["[object Map]"]=ri["[object Number]"]=ri["[object Object]"]=ri["[object RegExp]"]=ri["[object Set]"]=ri["[object String]"]=ri["[object WeakMap]"]=!1;var ai="object"==typeof t&&t&&!t.nodeType&&t,si=ai&&"object"==typeof e&&e&&!e.nodeType&&e,li=si&&si.exports===ai&&ee.process,hi=function(){try{var t=si&&si.require&&si.require("util").types;return t||li&&li.binding&&li.binding("util")}catch(e){}}(),ci=hi&&hi.isTypedArray,ui=ci?function(t){return function(e){return t(e)}}(ci):function(t){return de(t)&&$e(t.length)&&!!ri[ue(t)]},di=ui,fi=Object.prototype.hasOwnProperty;function vi(t,e){var i=fe(t),n=!i&&ti(t),o=!i&&!n&&oi(t),r=!i&&!n&&!o&&di(t),a=i||n||o||r,s=a?function(t,e){for(var i=-1,n=Array(t);++i<t;)n[i]=e(i);return n}(t.length,String):[],l=s.length;for(var h in t)!e&&!fi.call(t,h)||a&&("length"==h||o&&("offset"==h||"parent"==h)||r&&("buffer"==h||"byteLength"==h||"byteOffset"==h)||Pe(h,l))||s.push(h);return s}var pi=function(t,e){return function(i){return t(e(i))}}(Object.keys,Object),mi=pi,gi=Object.prototype.hasOwnProperty;function bi(t){return He(t)?vi(t):function(t){if(!Ue(t))return mi(t);var e=[];for(var i in Object(t))gi.call(t,i)&&"constructor"!=i&&e.push(i);return e}(t)}var wi,yi=Object.prototype.hasOwnProperty;wi=function(t,e){if(Ue(e)||He(e))!function(t,e,i,n){var o=!i;i||(i={});for(var r=-1,a=e.length;++r<a;){var s=e[r],l=n?n(i[s],t[s],s,i,t):void 0;void 0===l&&(l=t[s]),o?Ne(i,s,l):Ye(i,s,l)}}(e,bi(e),t);else for(var i in e)yi.call(e,i)&&Ye(t,i,e[i])},We((function(t,e){var i=-1,n=e.length,o=n>1?e[n-1]:void 0,r=n>2?e[2]:void 0;for(o=wi.length>3&&"function"==typeof o?(n--,o):void 0,r&&function(t,e,i){if(!ve(i))return!1;var n=typeof e;return!!("number"==n?He(i)&&Pe(e,i.length):"string"==n&&e in i)&&_e(i[e],t)}(e[0],e[1],r)&&(o=n<3?void 0:o,n=1),t=Object(t);++i<n;){var a=e[i];a&&wi(t,a,i,o)}return t}));var xi=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",[t._t("default",null,{images:t.images,options:t.options})],2)},ki=[];function zi(t,e,i,n,o,r,a,s){var l,h="function"==typeof t?t.options:t;if(e&&(h.render=e,h.staticRenderFns=i,h._compiled=!0),n&&(h.functional=!0),r&&(h._scopeId="data-v-"+r),a?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},h._ssrRegister=l):o&&(l=s?function(){o.call(this,(h.functional?this.parent:this).$root.$options.shadowRoot)}:o),l)if(h.functional){h._injectStyles=l;var c=h.render;h.render=function(t,e){return l.call(e),c(t,e)}}else{var u=h.beforeCreate;h.beforeCreate=u?[].concat(u,l):[l]}return{exports:t,options:h}}const Ti={props:{images:{type:Array},rebuild:{type:Boolean,default:!1},trigger:{},options:{type:Object}},data:()=>({}),computed:{},watch:{images(){this.$nextTick((()=>{this.onChange()}))},trigger:{handler(){this.$nextTick((()=>{this.onChange()}))},deep:!0},options:{handler(){this.$nextTick((()=>{this.rebuildViewer()}))},deep:!0}},mounted(){this.createViewer()},unmounted(){this.destroyViewer()},methods:{onChange(){this.rebuild?this.rebuildViewer():this.updateViewer()},rebuildViewer(){this.destroyViewer(),this.createViewer()},updateViewer(){this.$viewer?(this.$viewer.update(),this.$emit("inited",this.$viewer)):this.createViewer()},destroyViewer(){this.$viewer&&this.$viewer.destroy()},createViewer(){this.$viewer=new te(this.$el,this.options),this.$emit("inited",this.$viewer)}}},Oi={};var ji=zi(Ti,xi,ki,!1,Ei,null,null,null);function Ei(t){for(let e in Oi)this[e]=Oi[e]}var Si=function(){return ji.exports}();t("default",o(i({__name:"ImageViewer",props:{image:null},setup(t){const e=t,i=n((()=>e.image?[{src:e.image,index:0}]:[]));return{__sfc:!0,props:e,images:i,VueViewer:Si}}}),(function(){var t=this,e=t._self._c,i=t._self._setupProxy;return e(i.VueViewer,{staticStyle:{height:"100%"},attrs:{images:i.images}},t._l(i.images,(function(t){return e("img",{key:t.index,staticClass:"image",attrs:{alt:"图片",src:t.src}})})),0)}),[],!1,null,"f2a567ad",null,null).exports)}}}));
