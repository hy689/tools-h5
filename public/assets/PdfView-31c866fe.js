var ii=Object.defineProperty;var si=(N,C,e)=>C in N?ii(N,C,{enumerable:!0,configurable:!0,writable:!0,value:e}):N[C]=e;var tt=(N,C,e)=>(si(N,typeof C!="symbol"?C+"":C,e),e),Jt=(N,C,e)=>{if(!C.has(N))throw TypeError("Cannot "+e)};var l=(N,C,e)=>(Jt(N,C,"read from private field"),e?e.call(N):C.get(N)),_=(N,C,e)=>{if(C.has(N))throw TypeError("Cannot add the same private member more than once");C instanceof WeakSet?C.add(N):C.set(N,e)},ce=(N,C,e,u)=>(Jt(N,C,"write to private field"),u?u.call(N,e):C.set(N,e),e);var ut=(N,C,e,u)=>({set _(y){ce(N,C,y,e)},get _(){return l(N,C,u)}}),J=(N,C,e)=>(Jt(N,C,"access private method"),e);import{d as defineComponent,r as ref$1,n as normalizeComponent,o as onMounted,a as onUnmounted}from"./index-b22709fb.js";import{a as getAugmentedNamespace,c as commonjsGlobal}from"./_commonjsHelpers-de833af9.js";import{c as commonjsRequire}from"./_commonjs-dynamic-modules-302442b1.js";import{r as refWorker}from"./worker-ref-e1853dd2.js";var pdf$1={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$6=getAugmentedNamespace(__viteBrowserExternal$1);var path2dPolyfill_esm={},hasRequiredPath2dPolyfill_esm;function requirePath2dPolyfill_esm(){if(hasRequiredPath2dPolyfill_esm)return path2dPolyfill_esm;hasRequiredPath2dPolyfill_esm=1;function N(s,r,o){if(o||arguments.length===2)for(var g=0,v=r.length,A;g<v;g++)(A||!(g in r))&&(A||(A=Array.prototype.slice.call(r,0,g)),A[g]=r[g]);return s.concat(A||Array.prototype.slice.call(r))}var C={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},e=/([astvzqmhlc])([^astvzqmhlc]*)/gi,u=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi;function y(s){var r=s.match(u);return r?r.map(Number):[]}function k(s){var r=[],o=String(s).trim();return o[0]!=="M"&&o[0]!=="m"||o.replace(e,function(g,v,A){var b=y(A),c=v.toLowerCase(),a=v;if(c==="m"&&b.length>2&&(r.push(N([a],b.splice(0,2),!0)),c="l",a=a==="m"?"l":"L"),b.length<C[c])return"";for(r.push(N([a],b.splice(0,C[c]),!0));b.length>=C[c]&&b.length&&C[c];)r.push(N([a],b.splice(0,C[c]),!0));return""}),r}function f(s,r){var o=s.x*Math.cos(r)-s.y*Math.sin(r),g=s.y*Math.cos(r)+s.x*Math.sin(r);s.x=o,s.y=g}function m(s,r,o){s.x+=r,s.y+=o}function t(s,r){s.x*=r,s.y*=r}var i=function(){function s(r){var o;this.commands=[],r&&r instanceof s?(o=this.commands).push.apply(o,r.commands):r&&(this.commands=k(r))}return s.prototype.addPath=function(r){var o;r&&r instanceof s&&(o=this.commands).push.apply(o,r.commands)},s.prototype.moveTo=function(r,o){this.commands.push(["M",r,o])},s.prototype.lineTo=function(r,o){this.commands.push(["L",r,o])},s.prototype.arc=function(r,o,g,v,A,b){this.commands.push(["AC",r,o,g,v,A,!!b])},s.prototype.arcTo=function(r,o,g,v,A){this.commands.push(["AT",r,o,g,v,A])},s.prototype.ellipse=function(r,o,g,v,A,b,c,a){this.commands.push(["E",r,o,g,v,A,b,c,!!a])},s.prototype.closePath=function(){this.commands.push(["Z"])},s.prototype.bezierCurveTo=function(r,o,g,v,A,b){this.commands.push(["C",r,o,g,v,A,b])},s.prototype.quadraticCurveTo=function(r,o,g,v){this.commands.push(["Q",r,o,g,v])},s.prototype.rect=function(r,o,g,v){this.commands.push(["R",r,o,g,v])},s.prototype.roundRect=function(r,o,g,v,A){typeof A>"u"?this.commands.push(["RR",r,o,g,v,0]):this.commands.push(["RR",r,o,g,v,A])},s}();function n(s,r){var o=0,g=0,v,A,b,c,a,x,T,S,D,I,$,Z,W,Q,he,Y,z,te,oe,ye,Pe,L=null,P=null,M=null,E=null,R=null,O=null;s.beginPath();for(var B=0;B<r.length;++B){te=r[B][0],te!=="S"&&te!=="s"&&te!=="C"&&te!=="c"&&(L=null,P=null),te!=="T"&&te!=="t"&&te!=="Q"&&te!=="q"&&(M=null,E=null);var F=void 0;switch(te){case"m":case"M":F=r[B],te==="m"?(o+=F[1],g+=F[2]):(o=F[1],g=F[2]),(te==="M"||!R)&&(R={x:o,y:g}),s.moveTo(o,g);break;case"l":F=r[B],o+=F[1],g+=F[2],s.lineTo(o,g);break;case"L":F=r[B],o=F[1],g=F[2],s.lineTo(o,g);break;case"H":F=r[B],o=F[1],s.lineTo(o,g);break;case"h":F=r[B],o+=F[1],s.lineTo(o,g);break;case"V":F=r[B],g=F[1],s.lineTo(o,g);break;case"v":F=r[B],g+=F[1],s.lineTo(o,g);break;case"a":case"A":if(F=r[B],O===null)throw new Error("This should never happen");te==="a"?(o+=F[6],g+=F[7]):(o=F[6],g=F[7]),Q=F[1],he=F[2],T=F[3]*Math.PI/180,b=!!F[4],c=!!F[5],a={x:o,y:g},x={x:(O.x-a.x)/2,y:(O.y-a.y)/2},f(x,-T),S=x.x*x.x/(Q*Q)+x.y*x.y/(he*he),S>1&&(S=Math.sqrt(S),Q*=S,he*=S),oe={x:Q*x.y/he,y:-(he*x.x)/Q},D=Q*Q*he*he,I=Q*Q*x.y*x.y+he*he*x.x*x.x,c!==b?t(oe,Math.sqrt((D-I)/I)||0):t(oe,-Math.sqrt((D-I)/I)||0),A=Math.atan2((x.y-oe.y)/he,(x.x-oe.x)/Q),v=Math.atan2(-(x.y+oe.y)/he,-(x.x+oe.x)/Q),f(oe,T),m(oe,(a.x+O.x)/2,(a.y+O.y)/2),s.save(),s.translate(oe.x,oe.y),s.rotate(T),s.scale(Q,he),s.arc(0,0,1,A,v,!c),s.restore();break;case"C":F=r[B],L=F[3],P=F[4],o=F[5],g=F[6],s.bezierCurveTo(F[1],F[2],L,P,o,g);break;case"c":F=r[B],s.bezierCurveTo(F[1]+o,F[2]+g,F[3]+o,F[4]+g,F[5]+o,F[6]+g),L=F[3]+o,P=F[4]+g,o+=F[5],g+=F[6];break;case"S":F=r[B],(L===null||P===null)&&(L=o,P=g),s.bezierCurveTo(2*o-L,2*g-P,F[1],F[2],F[3],F[4]),L=F[1],P=F[2],o=F[3],g=F[4];break;case"s":F=r[B],(L===null||P===null)&&(L=o,P=g),s.bezierCurveTo(2*o-L,2*g-P,F[1]+o,F[2]+g,F[3]+o,F[4]+g),L=F[1]+o,P=F[2]+g,o+=F[3],g+=F[4];break;case"Q":F=r[B],M=F[1],E=F[2],o=F[3],g=F[4],s.quadraticCurveTo(M,E,o,g);break;case"q":F=r[B],M=F[1]+o,E=F[2]+g,o+=F[3],g+=F[4],s.quadraticCurveTo(M,E,o,g);break;case"T":F=r[B],(M===null||E===null)&&(M=o,E=g),M=2*o-M,E=2*g-E,o=F[1],g=F[2],s.quadraticCurveTo(M,E,o,g);break;case"t":F=r[B],(M===null||E===null)&&(M=o,E=g),M=2*o-M,E=2*g-E,o+=F[1],g+=F[2],s.quadraticCurveTo(M,E,o,g);break;case"z":case"Z":R&&(o=R.x,g=R.y),R=null,s.closePath();break;case"AC":F=r[B],o=F[1],g=F[2],W=F[3],A=F[4],v=F[5],ye=F[6],s.arc(o,g,W,A,v,ye);break;case"AT":F=r[B],$=F[1],Z=F[2],o=F[3],g=F[4],W=F[5],s.arcTo($,Z,o,g,W);break;case"E":F=r[B],o=F[1],g=F[2],Q=F[3],he=F[4],T=F[5],A=F[6],v=F[7],ye=F[8],s.save(),s.translate(o,g),s.rotate(T),s.scale(Q,he),s.arc(0,0,1,A,v,ye),s.restore();break;case"R":F=r[B],o=F[1],g=F[2],Y=F[3],z=F[4],R={x:o,y:g},s.rect(o,g,Y,z);break;case"RR":F=r[B],o=F[1],g=F[2],Y=F[3],z=F[4],Pe=F[5],R={x:o,y:g},s.roundRect(o,g,Y,z,Pe);break}O?(O.x=o,O.y=g):O={x:o,y:g}}}function p(s){if(!(!s||!s.CanvasRenderingContext2D||s.Path2D)){var r=s.CanvasRenderingContext2D,o=r.prototype.fill,g=r.prototype.stroke,v=r.prototype.isPointInPath;r.prototype.fill=function(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];if(b[0]instanceof i){var a=b[0],x=b[1]||"nonzero";n(this,a.commands),o.apply(this,[x])}else{var x=b[0]||"nonzero";return o.apply(this,[x])}},r.prototype.stroke=function(b){b&&n(this,b.commands),g.apply(this)},r.prototype.isPointInPath=function(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];if(b[0]instanceof i){var a=b[0],x=b[1],T=b[2],S=b[3]||"nonzero";return n(this,a.commands),v.apply(this,[x,T,S])}else return v.apply(this,b)},s.Path2D=i}}function h(s,r,o,g,v){var A=this;if(v===void 0&&(v=0),typeof v=="number"&&(v=[v]),Array.isArray(v)){if(v.length===0||v.length>4)throw new RangeError("Failed to execute 'roundRect' on '".concat(this.constructor.name,"': ").concat(v.length," radii provided. Between one and four radii are necessary."));v.forEach(function(S){if(S<0)throw new RangeError("Failed to execute 'roundRect' on '".concat(A.constructor.name,"': Radius value ").concat(S," is negative."))})}else return;if(v.length===1&&v[0]===0)return this.rect(s,r,o,g);var b=Math.min(o,g)/2,c,a,x,T=c=a=x=Math.min(b,v[0]);v.length===2&&(c=x=Math.min(b,v[1])),v.length===3&&(c=x=Math.min(b,v[1]),a=Math.min(b,v[2])),v.length===4&&(c=Math.min(b,v[1]),a=Math.min(b,v[2]),x=Math.min(b,v[3])),this.moveTo(s,r+g-x),this.arcTo(s,r,s+T,r,T),this.arcTo(s+o,r,s+o,r+c,c),this.arcTo(s+o,r+g,s+o-a,r+g,a),this.arcTo(s,r+g,s,r+g-x,x),this.moveTo(s,r)}function d(s){if(!(!s||!s.CanvasRenderingContext2D)){var r=s.CanvasRenderingContext2D,o=s.Path2D;r&&!r.prototype.roundRect&&(r.prototype.roundRect=h),o&&!o.prototype.roundRect&&(o.prototype.roundRect=h)}}return p(window),d(window),path2dPolyfill_esm}(function(module,exports){(function(C,e){module.exports=C.pdfjsLib=e()})(globalThis,()=>(()=>{var __webpack_modules__=[,(N,C,e)=>{var Xe;Object.defineProperty(C,"__esModule",{value:!0}),C.VerbosityLevel=C.Util=C.UnknownErrorException=C.UnexpectedResponseException=C.TextRenderingMode=C.RenderingIntentFlag=C.PromiseCapability=C.PermissionFlag=C.PasswordResponses=C.PasswordException=C.PageActionEventType=C.OPS=C.MissingPDFException=C.MAX_IMAGE_SIZE_TO_CACHE=C.LINE_FACTOR=C.LINE_DESCENT_FACTOR=C.InvalidPDFException=C.ImageKind=C.IDENTITY_MATRIX=C.FormatError=C.FeatureTest=C.FONT_IDENTITY_MATRIX=C.DocumentActionEventType=C.CMapCompressionType=C.BaseException=C.BASELINE_FACTOR=C.AnnotationType=C.AnnotationReplyType=C.AnnotationPrefix=C.AnnotationMode=C.AnnotationFlag=C.AnnotationFieldFlag=C.AnnotationEditorType=C.AnnotationEditorPrefix=C.AnnotationEditorParamsType=C.AnnotationBorderStyleType=C.AnnotationActionEventType=C.AbortException=void 0,C.assert=oe,C.bytesToString=ae,C.createValidAbsoluteUrl=Pe,C.getModificationDate=He,C.getUuid=Je,C.getVerbosityLevel=he,C.info=Y,C.isArrayBuffer=Ce,C.isArrayEqual=Me,C.isNodeJS=void 0,C.normalizeUnicode=Ye,C.objectFromMap=me,C.objectSize=ne,C.setVerbosityLevel=Q,C.shadow=L,C.string32=pe,C.stringToBytes=q,C.stringToPDFString=ee,C.stringToUTF8String=le,C.unreachable=te,C.utf8StringToString=ge,C.warn=z,e(2),e(84),e(86),e(87),e(89),e(93),e(101),e(102),e(105),e(107),e(109),e(113),e(116),e(123);const u=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");C.isNodeJS=u;const y=[1,0,0,1,0,0];C.IDENTITY_MATRIX=y;const k=[.001,0,0,.001,0,0];C.FONT_IDENTITY_MATRIX=k;const f=1e7;C.MAX_IMAGE_SIZE_TO_CACHE=f;const m=1.35;C.LINE_FACTOR=m;const t=.35;C.LINE_DESCENT_FACTOR=t;const i=t/m;C.BASELINE_FACTOR=i;const n={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};C.RenderingIntentFlag=n;const p={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};C.AnnotationMode=p;const h="pdfjs_internal_editor_";C.AnnotationEditorPrefix=h;const d={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};C.AnnotationEditorType=d;const s={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};C.AnnotationEditorParamsType=s;const r={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};C.PermissionFlag=r;const o={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};C.TextRenderingMode=o;const g={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};C.ImageKind=g;const v={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};C.AnnotationType=v;const A={GROUP:"Group",REPLY:"R"};C.AnnotationReplyType=A;const b={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};C.AnnotationFlag=b;const c={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};C.AnnotationFieldFlag=c;const a={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};C.AnnotationBorderStyleType=a;const x={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};C.AnnotationActionEventType=x;const T={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};C.DocumentActionEventType=T;const S={O:"PageOpen",C:"PageClose"};C.PageActionEventType=S;const D={ERRORS:0,WARNINGS:1,INFOS:5};C.VerbosityLevel=D;const I={NONE:0,BINARY:1};C.CMapCompressionType=I;const $={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};C.OPS=$;const Z={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};C.PasswordResponses=Z;let W=D.WARNINGS;function Q(V){Number.isInteger(V)&&(W=V)}function he(){return W}function Y(V){W>=D.INFOS&&console.log("Info: ".concat(V))}function z(V){W>=D.WARNINGS&&console.log("Warning: ".concat(V))}function te(V){throw new Error(V)}function oe(V,H){V||te(H)}function ye(V){switch(V==null?void 0:V.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Pe(V){let H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!V)return null;try{if(X&&typeof V=="string"){if(X.addDefaultProtocol&&V.startsWith("www.")){const Se=V.match(/\./g);(Se==null?void 0:Se.length)>=2&&(V="http://".concat(V))}if(X.tryConvertEncoding)try{V=le(V)}catch(Se){}}const de=H?new URL(V,H):new URL(V);if(ye(de))return de}catch(de){}return null}function L(V,H,X){let de=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return Object.defineProperty(V,H,{value:X,enumerable:!de,configurable:!0,writable:!1}),X}const P=function(){function H(X,de){this.constructor===H&&te("Cannot initialize BaseException."),this.message=X,this.name=de}return H.prototype=new Error,H.constructor=H,H}();C.BaseException=P;class M extends P{constructor(H,X){super(H,"PasswordException"),this.code=X}}C.PasswordException=M;class E extends P{constructor(H,X){super(H,"UnknownErrorException"),this.details=X}}C.UnknownErrorException=E;class R extends P{constructor(H){super(H,"InvalidPDFException")}}C.InvalidPDFException=R;class O extends P{constructor(H){super(H,"MissingPDFException")}}C.MissingPDFException=O;class B extends P{constructor(H,X){super(H,"UnexpectedResponseException"),this.status=X}}C.UnexpectedResponseException=B;class F extends P{constructor(H){super(H,"FormatError")}}C.FormatError=F;class j extends P{constructor(H){super(H,"AbortException")}}C.AbortException=j;function ae(V){(typeof V!="object"||(V==null?void 0:V.length)===void 0)&&te("Invalid argument for bytesToString");const H=V.length,X=8192;if(H<X)return String.fromCharCode.apply(null,V);const de=[];for(let Se=0;Se<H;Se+=X){const K=Math.min(Se+X,H),U=V.subarray(Se,K);de.push(String.fromCharCode.apply(null,U))}return de.join("")}function q(V){typeof V!="string"&&te("Invalid argument for stringToBytes");const H=V.length,X=new Uint8Array(H);for(let de=0;de<H;++de)X[de]=V.charCodeAt(de)&255;return X}function pe(V){return String.fromCharCode(V>>24&255,V>>16&255,V>>8&255,V&255)}function ne(V){return Object.keys(V).length}function me(V){const H=Object.create(null);for(const[X,de]of V)H[X]=de;return H}function ve(){const V=new Uint8Array(4);return V[0]=1,new Uint32Array(V.buffer,0,1)[0]===1}function Re(){try{return new Function(""),!0}catch(V){return!1}}class Oe{static get isLittleEndian(){return L(this,"isLittleEndian",ve())}static get isEvalSupported(){return L(this,"isEvalSupported",Re())}static get isOffscreenCanvasSupported(){return L(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?L(this,"platform",{isWin:!1,isMac:!1}):L(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var H,X;return L(this,"isCSSRoundSupported",(X=(H=globalThis.CSS)==null?void 0:H.supports)==null?void 0:X.call(H,"width: round(1.5px, 1px)"))}}C.FeatureTest=Oe;const Ie=[...Array(256).keys()].map(V=>V.toString(16).padStart(2,"0"));class Le{static makeHexColor(H,X,de){return"#".concat(Ie[H]).concat(Ie[X]).concat(Ie[de])}static scaleMinMax(H,X){let de;H[0]?(H[0]<0&&(de=X[0],X[0]=X[1],X[1]=de),X[0]*=H[0],X[1]*=H[0],H[3]<0&&(de=X[2],X[2]=X[3],X[3]=de),X[2]*=H[3],X[3]*=H[3]):(de=X[0],X[0]=X[2],X[2]=de,de=X[1],X[1]=X[3],X[3]=de,H[1]<0&&(de=X[2],X[2]=X[3],X[3]=de),X[2]*=H[1],X[3]*=H[1],H[2]<0&&(de=X[0],X[0]=X[1],X[1]=de),X[0]*=H[2],X[1]*=H[2]),X[0]+=H[4],X[1]+=H[4],X[2]+=H[5],X[3]+=H[5]}static transform(H,X){return[H[0]*X[0]+H[2]*X[1],H[1]*X[0]+H[3]*X[1],H[0]*X[2]+H[2]*X[3],H[1]*X[2]+H[3]*X[3],H[0]*X[4]+H[2]*X[5]+H[4],H[1]*X[4]+H[3]*X[5]+H[5]]}static applyTransform(H,X){const de=H[0]*X[0]+H[1]*X[2]+X[4],Se=H[0]*X[1]+H[1]*X[3]+X[5];return[de,Se]}static applyInverseTransform(H,X){const de=X[0]*X[3]-X[1]*X[2],Se=(H[0]*X[3]-H[1]*X[2]+X[2]*X[5]-X[4]*X[3])/de,K=(-H[0]*X[1]+H[1]*X[0]+X[4]*X[1]-X[5]*X[0])/de;return[Se,K]}static getAxialAlignedBoundingBox(H,X){const de=this.applyTransform(H,X),Se=this.applyTransform(H.slice(2,4),X),K=this.applyTransform([H[0],H[3]],X),U=this.applyTransform([H[2],H[1]],X);return[Math.min(de[0],Se[0],K[0],U[0]),Math.min(de[1],Se[1],K[1],U[1]),Math.max(de[0],Se[0],K[0],U[0]),Math.max(de[1],Se[1],K[1],U[1])]}static inverseTransform(H){const X=H[0]*H[3]-H[1]*H[2];return[H[3]/X,-H[1]/X,-H[2]/X,H[0]/X,(H[2]*H[5]-H[4]*H[3])/X,(H[4]*H[1]-H[5]*H[0])/X]}static singularValueDecompose2dScale(H){const X=[H[0],H[2],H[1],H[3]],de=H[0]*X[0]+H[1]*X[2],Se=H[0]*X[1]+H[1]*X[3],K=H[2]*X[0]+H[3]*X[2],U=H[2]*X[1]+H[3]*X[3],re=(de+U)/2,Ae=Math.sqrt((de+U)**2-4*(de*U-K*Se))/2,Ee=re+Ae||1,we=re-Ae||1;return[Math.sqrt(Ee),Math.sqrt(we)]}static normalizeRect(H){const X=H.slice(0);return H[0]>H[2]&&(X[0]=H[2],X[2]=H[0]),H[1]>H[3]&&(X[1]=H[3],X[3]=H[1]),X}static intersect(H,X){const de=Math.max(Math.min(H[0],H[2]),Math.min(X[0],X[2])),Se=Math.min(Math.max(H[0],H[2]),Math.max(X[0],X[2]));if(de>Se)return null;const K=Math.max(Math.min(H[1],H[3]),Math.min(X[1],X[3])),U=Math.min(Math.max(H[1],H[3]),Math.max(X[1],X[3]));return K>U?null:[de,K,Se,U]}static bezierBoundingBox(H,X,de,Se,K,U,re,Ae){const Ee=[],we=[[],[]];let Te,Ne,ke,Ue,Be,ie,w,G;for(let xe=0;xe<2;++xe){if(xe===0?(Ne=6*H-12*de+6*K,Te=-3*H+9*de-9*K+3*re,ke=3*de-3*H):(Ne=6*X-12*Se+6*U,Te=-3*X+9*Se-9*U+3*Ae,ke=3*Se-3*X),Math.abs(Te)<1e-12){if(Math.abs(Ne)<1e-12)continue;Ue=-ke/Ne,0<Ue&&Ue<1&&Ee.push(Ue);continue}w=Ne*Ne-4*ke*Te,G=Math.sqrt(w),!(w<0)&&(Be=(-Ne+G)/(2*Te),0<Be&&Be<1&&Ee.push(Be),ie=(-Ne-G)/(2*Te),0<ie&&ie<1&&Ee.push(ie))}let se=Ee.length,fe;const be=se;for(;se--;)Ue=Ee[se],fe=1-Ue,we[0][se]=fe*fe*fe*H+3*fe*fe*Ue*de+3*fe*Ue*Ue*K+Ue*Ue*Ue*re,we[1][se]=fe*fe*fe*X+3*fe*fe*Ue*Se+3*fe*Ue*Ue*U+Ue*Ue*Ue*Ae;return we[0][be]=H,we[1][be]=X,we[0][be+1]=re,we[1][be+1]=Ae,we[0].length=we[1].length=be+2,[Math.min(...we[0]),Math.min(...we[1]),Math.max(...we[0]),Math.max(...we[1])]}}C.Util=Le;const ue=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function ee(V){if(V[0]>="ï"){let X;if(V[0]==="þ"&&V[1]==="ÿ"?X="utf-16be":V[0]==="ÿ"&&V[1]==="þ"?X="utf-16le":V[0]==="ï"&&V[1]==="»"&&V[2]==="¿"&&(X="utf-8"),X)try{const de=new TextDecoder(X,{fatal:!0}),Se=q(V);return de.decode(Se)}catch(de){z('stringToPDFString: "'.concat(de,'".'))}}const H=[];for(let X=0,de=V.length;X<de;X++){const Se=ue[V.charCodeAt(X)];H.push(Se?String.fromCharCode(Se):V.charAt(X))}return H.join("")}function le(V){return decodeURIComponent(escape(V))}function ge(V){return unescape(encodeURIComponent(V))}function Ce(V){return typeof V=="object"&&(V==null?void 0:V.byteLength)!==void 0}function Me(V,H){if(V.length!==H.length)return!1;for(let X=0,de=V.length;X<de;X++)if(V[X]!==H[X])return!1;return!0}function He(){let V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Date;return[V.getUTCFullYear().toString(),(V.getUTCMonth()+1).toString().padStart(2,"0"),V.getUTCDate().toString().padStart(2,"0"),V.getUTCHours().toString().padStart(2,"0"),V.getUTCMinutes().toString().padStart(2,"0"),V.getUTCSeconds().toString().padStart(2,"0")].join("")}class We{constructor(){_(this,Xe,!1);this.promise=new Promise((H,X)=>{this.resolve=de=>{ce(this,Xe,!0),H(de)},this.reject=de=>{ce(this,Xe,!0),X(de)}})}get settled(){return l(this,Xe)}}Xe=new WeakMap,C.PromiseCapability=We;let _e=null,ze=null;function Ye(V){return _e||(_e=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,ze=new Map([["ﬅ","ſt"]])),V.replaceAll(_e,(H,X,de)=>X?X.normalize("NFKC"):ze.get(de))}function Je(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const V=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(V);else for(let H=0;H<32;H++)V[H]=Math.floor(Math.random()*255);return ae(V)}const Ze="pdfjs_internal_id_";C.AnnotationPrefix=Ze},(N,C,e)=>{var u=e(3),y=e(4),k=e(69),f=e(70),m="WebAssembly",t=y[m],i=Error("e",{cause:7}).cause!==7,n=function(h,d){var s={};s[h]=f(h,d,i),u({global:!0,constructor:!0,arity:1,forced:i},s)},p=function(h,d){if(t&&t[h]){var s={};s[h]=f(m+"."+h,d,i),u({target:m,stat:!0,constructor:!0,arity:1,forced:i},s)}};n("Error",function(h){return function(s){return k(h,this,arguments)}}),n("EvalError",function(h){return function(s){return k(h,this,arguments)}}),n("RangeError",function(h){return function(s){return k(h,this,arguments)}}),n("ReferenceError",function(h){return function(s){return k(h,this,arguments)}}),n("SyntaxError",function(h){return function(s){return k(h,this,arguments)}}),n("TypeError",function(h){return function(s){return k(h,this,arguments)}}),n("URIError",function(h){return function(s){return k(h,this,arguments)}}),p("CompileError",function(h){return function(s){return k(h,this,arguments)}}),p("LinkError",function(h){return function(s){return k(h,this,arguments)}}),p("RuntimeError",function(h){return function(s){return k(h,this,arguments)}})},(N,C,e)=>{var u=e(4),y=e(5).f,k=e(44),f=e(48),m=e(38),t=e(56),i=e(68);N.exports=function(n,p){var h=n.target,d=n.global,s=n.stat,r,o,g,v,A,b;if(d?o=u:s?o=u[h]||m(h,{}):o=(u[h]||{}).prototype,o)for(g in p){if(A=p[g],n.dontCallGetSet?(b=y(o,g),v=b&&b.value):v=o[g],r=i(d?g:h+(s?".":"#")+g,n.forced),!r&&v!==void 0){if(typeof A==typeof v)continue;t(A,v)}(n.sham||v&&v.sham)&&k(A,"sham",!0),f(o,g,A,n)}}},function(N){var C=function(e){return e&&e.Math===Math&&e};N.exports=C(typeof globalThis=="object"&&globalThis)||C(typeof window=="object"&&window)||C(typeof self=="object"&&self)||C(typeof commonjsGlobal=="object"&&commonjsGlobal)||function(){return this}()||this||Function("return this")()},(N,C,e)=>{var u=e(6),y=e(8),k=e(10),f=e(11),m=e(12),t=e(18),i=e(39),n=e(42),p=Object.getOwnPropertyDescriptor;C.f=u?p:function(d,s){if(d=m(d),s=t(s),n)try{return p(d,s)}catch(r){}if(i(d,s))return f(!y(k.f,d,s),d[s])}},(N,C,e)=>{var u=e(7);N.exports=!u(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},N=>{N.exports=function(C){try{return!!C()}catch(e){return!0}}},(N,C,e)=>{var u=e(9),y=Function.prototype.call;N.exports=u?y.bind(y):function(){return y.apply(y,arguments)}},(N,C,e)=>{var u=e(7);N.exports=!u(function(){var y=(function(){}).bind();return typeof y!="function"||y.hasOwnProperty("prototype")})},(N,C)=>{var e={}.propertyIsEnumerable,u=Object.getOwnPropertyDescriptor,y=u&&!e.call({1:2},1);C.f=y?function(f){var m=u(this,f);return!!m&&m.enumerable}:e},N=>{N.exports=function(C,e){return{enumerable:!(C&1),configurable:!(C&2),writable:!(C&4),value:e}}},(N,C,e)=>{var u=e(13),y=e(16);N.exports=function(k){return u(y(k))}},(N,C,e)=>{var u=e(14),y=e(7),k=e(15),f=Object,m=u("".split);N.exports=y(function(){return!f("z").propertyIsEnumerable(0)})?function(t){return k(t)==="String"?m(t,""):f(t)}:f},(N,C,e)=>{var u=e(9),y=Function.prototype,k=y.call,f=u&&y.bind.bind(k,k);N.exports=u?f:function(m){return function(){return k.apply(m,arguments)}}},(N,C,e)=>{var u=e(14),y=u({}.toString),k=u("".slice);N.exports=function(f){return k(y(f),8,-1)}},(N,C,e)=>{var u=e(17),y=TypeError;N.exports=function(k){if(u(k))throw y("Can't call method on "+k);return k}},N=>{N.exports=function(C){return C==null}},(N,C,e)=>{var u=e(19),y=e(23);N.exports=function(k){var f=u(k,"string");return y(f)?f:f+""}},(N,C,e)=>{var u=e(8),y=e(20),k=e(23),f=e(30),m=e(33),t=e(34),i=TypeError,n=t("toPrimitive");N.exports=function(p,h){if(!y(p)||k(p))return p;var d=f(p,n),s;if(d){if(h===void 0&&(h="default"),s=u(d,p,h),!y(s)||k(s))return s;throw i("Can't convert object to primitive value")}return h===void 0&&(h="number"),m(p,h)}},(N,C,e)=>{var u=e(21),y=e(22),k=y.all;N.exports=y.IS_HTMLDDA?function(f){return typeof f=="object"?f!==null:u(f)||f===k}:function(f){return typeof f=="object"?f!==null:u(f)}},(N,C,e)=>{var u=e(22),y=u.all;N.exports=u.IS_HTMLDDA?function(k){return typeof k=="function"||k===y}:function(k){return typeof k=="function"}},N=>{var C=typeof document=="object"&&document.all,e=typeof C>"u"&&C!==void 0;N.exports={all:C,IS_HTMLDDA:e}},(N,C,e)=>{var u=e(24),y=e(21),k=e(25),f=e(26),m=Object;N.exports=f?function(t){return typeof t=="symbol"}:function(t){var i=u("Symbol");return y(i)&&k(i.prototype,m(t))}},(N,C,e)=>{var u=e(4),y=e(21),k=function(f){return y(f)?f:void 0};N.exports=function(f,m){return arguments.length<2?k(u[f]):u[f]&&u[f][m]}},(N,C,e)=>{var u=e(14);N.exports=u({}.isPrototypeOf)},(N,C,e)=>{var u=e(27);N.exports=u&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},(N,C,e)=>{var u=e(28),y=e(7),k=e(4),f=k.String;N.exports=!!Object.getOwnPropertySymbols&&!y(function(){var m=Symbol("symbol detection");return!f(m)||!(Object(m)instanceof Symbol)||!Symbol.sham&&u&&u<41})},(N,C,e)=>{var u=e(4),y=e(29),k=u.process,f=u.Deno,m=k&&k.versions||f&&f.version,t=m&&m.v8,i,n;t&&(i=t.split("."),n=i[0]>0&&i[0]<4?1:+(i[0]+i[1])),!n&&y&&(i=y.match(/Edge\/(\d+)/),(!i||i[1]>=74)&&(i=y.match(/Chrome\/(\d+)/),i&&(n=+i[1]))),N.exports=n},N=>{N.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},(N,C,e)=>{var u=e(31),y=e(17);N.exports=function(k,f){var m=k[f];return y(m)?void 0:u(m)}},(N,C,e)=>{var u=e(21),y=e(32),k=TypeError;N.exports=function(f){if(u(f))return f;throw k(y(f)+" is not a function")}},N=>{var C=String;N.exports=function(e){try{return C(e)}catch(u){return"Object"}}},(N,C,e)=>{var u=e(8),y=e(21),k=e(20),f=TypeError;N.exports=function(m,t){var i,n;if(t==="string"&&y(i=m.toString)&&!k(n=u(i,m))||y(i=m.valueOf)&&!k(n=u(i,m))||t!=="string"&&y(i=m.toString)&&!k(n=u(i,m)))return n;throw f("Can't convert object to primitive value")}},(N,C,e)=>{var u=e(4),y=e(35),k=e(39),f=e(41),m=e(27),t=e(26),i=u.Symbol,n=y("wks"),p=t?i.for||i:i&&i.withoutSetter||f;N.exports=function(h){return k(n,h)||(n[h]=m&&k(i,h)?i[h]:p("Symbol."+h)),n[h]}},(N,C,e)=>{var u=e(36),y=e(37);(N.exports=function(k,f){return y[k]||(y[k]=f!==void 0?f:{})})("versions",[]).push({version:"3.32.2",mode:u?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.32.2/LICENSE",source:"https://github.com/zloirock/core-js"})},N=>{N.exports=!1},(N,C,e)=>{var u=e(4),y=e(38),k="__core-js_shared__",f=u[k]||y(k,{});N.exports=f},(N,C,e)=>{var u=e(4),y=Object.defineProperty;N.exports=function(k,f){try{y(u,k,{value:f,configurable:!0,writable:!0})}catch(m){u[k]=f}return f}},(N,C,e)=>{var u=e(14),y=e(40),k=u({}.hasOwnProperty);N.exports=Object.hasOwn||function(m,t){return k(y(m),t)}},(N,C,e)=>{var u=e(16),y=Object;N.exports=function(k){return y(u(k))}},(N,C,e)=>{var u=e(14),y=0,k=Math.random(),f=u(1 .toString);N.exports=function(m){return"Symbol("+(m===void 0?"":m)+")_"+f(++y+k,36)}},(N,C,e)=>{var u=e(6),y=e(7),k=e(43);N.exports=!u&&!y(function(){return Object.defineProperty(k("div"),"a",{get:function(){return 7}}).a!==7})},(N,C,e)=>{var u=e(4),y=e(20),k=u.document,f=y(k)&&y(k.createElement);N.exports=function(m){return f?k.createElement(m):{}}},(N,C,e)=>{var u=e(6),y=e(45),k=e(11);N.exports=u?function(f,m,t){return y.f(f,m,k(1,t))}:function(f,m,t){return f[m]=t,f}},(N,C,e)=>{var u=e(6),y=e(42),k=e(46),f=e(47),m=e(18),t=TypeError,i=Object.defineProperty,n=Object.getOwnPropertyDescriptor,p="enumerable",h="configurable",d="writable";C.f=u?k?function(r,o,g){if(f(r),o=m(o),f(g),typeof r=="function"&&o==="prototype"&&"value"in g&&d in g&&!g[d]){var v=n(r,o);v&&v[d]&&(r[o]=g.value,g={configurable:h in g?g[h]:v[h],enumerable:p in g?g[p]:v[p],writable:!1})}return i(r,o,g)}:i:function(r,o,g){if(f(r),o=m(o),f(g),y)try{return i(r,o,g)}catch(v){}if("get"in g||"set"in g)throw t("Accessors not supported");return"value"in g&&(r[o]=g.value),r}},(N,C,e)=>{var u=e(6),y=e(7);N.exports=u&&y(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},(N,C,e)=>{var u=e(20),y=String,k=TypeError;N.exports=function(f){if(u(f))return f;throw k(y(f)+" is not an object")}},(N,C,e)=>{var u=e(21),y=e(45),k=e(49),f=e(38);N.exports=function(m,t,i,n){n||(n={});var p=n.enumerable,h=n.name!==void 0?n.name:t;if(u(i)&&k(i,h,n),n.global)p?m[t]=i:f(t,i);else{try{n.unsafe?m[t]&&(p=!0):delete m[t]}catch(d){}p?m[t]=i:y.f(m,t,{value:i,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return m}},(N,C,e)=>{var u=e(14),y=e(7),k=e(21),f=e(39),m=e(6),t=e(50).CONFIGURABLE,i=e(51),n=e(52),p=n.enforce,h=n.get,d=String,s=Object.defineProperty,r=u("".slice),o=u("".replace),g=u([].join),v=m&&!y(function(){return s(function(){},"length",{value:8}).length!==8}),A=String(String).split("String"),b=N.exports=function(c,a,x){r(d(a),0,7)==="Symbol("&&(a="["+o(d(a),/^Symbol\(([^)]*)\)/,"$1")+"]"),x&&x.getter&&(a="get "+a),x&&x.setter&&(a="set "+a),(!f(c,"name")||t&&c.name!==a)&&(m?s(c,"name",{value:a,configurable:!0}):c.name=a),v&&x&&f(x,"arity")&&c.length!==x.arity&&s(c,"length",{value:x.arity});try{x&&f(x,"constructor")&&x.constructor?m&&s(c,"prototype",{writable:!1}):c.prototype&&(c.prototype=void 0)}catch(S){}var T=p(c);return f(T,"source")||(T.source=g(A,typeof a=="string"?a:"")),c};Function.prototype.toString=b(function(){return k(this)&&h(this).source||i(this)},"toString")},(N,C,e)=>{var u=e(6),y=e(39),k=Function.prototype,f=u&&Object.getOwnPropertyDescriptor,m=y(k,"name"),t=m&&(function(){}).name==="something",i=m&&(!u||u&&f(k,"name").configurable);N.exports={EXISTS:m,PROPER:t,CONFIGURABLE:i}},(N,C,e)=>{var u=e(14),y=e(21),k=e(37),f=u(Function.toString);y(k.inspectSource)||(k.inspectSource=function(m){return f(m)}),N.exports=k.inspectSource},(N,C,e)=>{var u=e(53),y=e(4),k=e(20),f=e(44),m=e(39),t=e(37),i=e(54),n=e(55),p="Object already initialized",h=y.TypeError,d=y.WeakMap,s,r,o,g=function(c){return o(c)?r(c):s(c,{})},v=function(c){return function(a){var x;if(!k(a)||(x=r(a)).type!==c)throw h("Incompatible receiver, "+c+" required");return x}};if(u||t.state){var A=t.state||(t.state=new d);A.get=A.get,A.has=A.has,A.set=A.set,s=function(c,a){if(A.has(c))throw h(p);return a.facade=c,A.set(c,a),a},r=function(c){return A.get(c)||{}},o=function(c){return A.has(c)}}else{var b=i("state");n[b]=!0,s=function(c,a){if(m(c,b))throw h(p);return a.facade=c,f(c,b,a),a},r=function(c){return m(c,b)?c[b]:{}},o=function(c){return m(c,b)}}N.exports={set:s,get:r,has:o,enforce:g,getterFor:v}},(N,C,e)=>{var u=e(4),y=e(21),k=u.WeakMap;N.exports=y(k)&&/native code/.test(String(k))},(N,C,e)=>{var u=e(35),y=e(41),k=u("keys");N.exports=function(f){return k[f]||(k[f]=y(f))}},N=>{N.exports={}},(N,C,e)=>{var u=e(39),y=e(57),k=e(5),f=e(45);N.exports=function(m,t,i){for(var n=y(t),p=f.f,h=k.f,d=0;d<n.length;d++){var s=n[d];!u(m,s)&&!(i&&u(i,s))&&p(m,s,h(t,s))}}},(N,C,e)=>{var u=e(24),y=e(14),k=e(58),f=e(67),m=e(47),t=y([].concat);N.exports=u("Reflect","ownKeys")||function(n){var p=k.f(m(n)),h=f.f;return h?t(p,h(n)):p}},(N,C,e)=>{var u=e(59),y=e(66),k=y.concat("length","prototype");C.f=Object.getOwnPropertyNames||function(m){return u(m,k)}},(N,C,e)=>{var u=e(14),y=e(39),k=e(12),f=e(60).indexOf,m=e(55),t=u([].push);N.exports=function(i,n){var p=k(i),h=0,d=[],s;for(s in p)!y(m,s)&&y(p,s)&&t(d,s);for(;n.length>h;)y(p,s=n[h++])&&(~f(d,s)||t(d,s));return d}},(N,C,e)=>{var u=e(12),y=e(61),k=e(64),f=function(m){return function(t,i,n){var p=u(t),h=k(p),d=y(n,h),s;if(m&&i!==i){for(;h>d;)if(s=p[d++],s!==s)return!0}else for(;h>d;d++)if((m||d in p)&&p[d]===i)return m||d||0;return!m&&-1}};N.exports={includes:f(!0),indexOf:f(!1)}},(N,C,e)=>{var u=e(62),y=Math.max,k=Math.min;N.exports=function(f,m){var t=u(f);return t<0?y(t+m,0):k(t,m)}},(N,C,e)=>{var u=e(63);N.exports=function(y){var k=+y;return k!==k||k===0?0:u(k)}},N=>{var C=Math.ceil,e=Math.floor;N.exports=Math.trunc||function(y){var k=+y;return(k>0?e:C)(k)}},(N,C,e)=>{var u=e(65);N.exports=function(y){return u(y.length)}},(N,C,e)=>{var u=e(62),y=Math.min;N.exports=function(k){return k>0?y(u(k),9007199254740991):0}},N=>{N.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},(N,C)=>{C.f=Object.getOwnPropertySymbols},(N,C,e)=>{var u=e(7),y=e(21),k=/#|\.prototype\./,f=function(p,h){var d=t[m(p)];return d===n?!0:d===i?!1:y(h)?u(h):!!h},m=f.normalize=function(p){return String(p).replace(k,".").toLowerCase()},t=f.data={},i=f.NATIVE="N",n=f.POLYFILL="P";N.exports=f},(N,C,e)=>{var u=e(9),y=Function.prototype,k=y.apply,f=y.call;N.exports=typeof Reflect=="object"&&Reflect.apply||(u?f.bind(k):function(){return f.apply(k,arguments)})},(N,C,e)=>{var u=e(24),y=e(39),k=e(44),f=e(25),m=e(71),t=e(56),i=e(74),n=e(75),p=e(76),h=e(80),d=e(81),s=e(6),r=e(36);N.exports=function(o,g,v,A){var b="stackTraceLimit",c=A?2:1,a=o.split("."),x=a[a.length-1],T=u.apply(null,a);if(T){var S=T.prototype;if(!r&&y(S,"cause")&&delete S.cause,!v)return T;var D=u("Error"),I=g(function($,Z){var W=p(A?Z:$,void 0),Q=A?new T($):new T;return W!==void 0&&k(Q,"message",W),d(Q,I,Q.stack,2),this&&f(S,this)&&n(Q,this,I),arguments.length>c&&h(Q,arguments[c]),Q});if(I.prototype=S,x!=="Error"?m?m(I,D):t(I,D,{name:!0}):s&&b in T&&(i(I,T,b),i(I,T,"prepareStackTrace")),t(I,T),!r)try{S.name!==x&&k(S,"name",x),S.constructor=I}catch($){}return I}}},(N,C,e)=>{var u=e(72),y=e(47),k=e(73);N.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var f=!1,m={},t;try{t=u(Object.prototype,"__proto__","set"),t(m,[]),f=m instanceof Array}catch(i){}return function(n,p){return y(n),k(p),f?t(n,p):n.__proto__=p,n}}():void 0)},(N,C,e)=>{var u=e(14),y=e(31);N.exports=function(k,f,m){try{return u(y(Object.getOwnPropertyDescriptor(k,f)[m]))}catch(t){}}},(N,C,e)=>{var u=e(21),y=String,k=TypeError;N.exports=function(f){if(typeof f=="object"||u(f))return f;throw k("Can't set "+y(f)+" as a prototype")}},(N,C,e)=>{var u=e(45).f;N.exports=function(y,k,f){f in y||u(y,f,{configurable:!0,get:function(){return k[f]},set:function(m){k[f]=m}})}},(N,C,e)=>{var u=e(21),y=e(20),k=e(71);N.exports=function(f,m,t){var i,n;return k&&u(i=m.constructor)&&i!==t&&y(n=i.prototype)&&n!==t.prototype&&k(f,n),f}},(N,C,e)=>{var u=e(77);N.exports=function(y,k){return y===void 0?arguments.length<2?"":k:u(y)}},(N,C,e)=>{var u=e(78),y=String;N.exports=function(k){if(u(k)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return y(k)}},(N,C,e)=>{var u=e(79),y=e(21),k=e(15),f=e(34),m=f("toStringTag"),t=Object,i=k(function(){return arguments}())==="Arguments",n=function(p,h){try{return p[h]}catch(d){}};N.exports=u?k:function(p){var h,d,s;return p===void 0?"Undefined":p===null?"Null":typeof(d=n(h=t(p),m))=="string"?d:i?k(h):(s=k(h))==="Object"&&y(h.callee)?"Arguments":s}},(N,C,e)=>{var u=e(34),y=u("toStringTag"),k={};k[y]="z",N.exports=String(k)==="[object z]"},(N,C,e)=>{var u=e(20),y=e(44);N.exports=function(k,f){u(f)&&"cause"in f&&y(k,"cause",f.cause)}},(N,C,e)=>{var u=e(44),y=e(82),k=e(83),f=Error.captureStackTrace;N.exports=function(m,t,i,n){k&&(f?f(m,t):u(m,"stack",y(i,n)))}},(N,C,e)=>{var u=e(14),y=Error,k=u("".replace),f=function(i){return String(y(i).stack)}("zxcasd"),m=/\n\s*at [^:]*:[^\n]*/,t=m.test(f);N.exports=function(i,n){if(t&&typeof i=="string"&&!y.prepareStackTrace)for(;n--;)i=k(i,m,"");return i}},(N,C,e)=>{var u=e(7),y=e(11);N.exports=!u(function(){var k=Error("a");return"stack"in k?(Object.defineProperty(k,"stack",y(1,7)),k.stack!==7):!0})},(N,C,e)=>{var u=e(48),y=e(14),k=e(77),f=e(85),m=URLSearchParams,t=m.prototype,i=y(t.append),n=y(t.delete),p=y(t.forEach),h=y([].push),d=new m("a=1&a=2&b=3");d.delete("a",1),d.delete("b",void 0),d+""!="a=2"&&u(t,"delete",function(s){var r=arguments.length,o=r<2?void 0:arguments[1];if(r&&o===void 0)return n(this,s);var g=[];p(this,function(S,D){h(g,{key:D,value:S})}),f(r,1);for(var v=k(s),A=k(o),b=0,c=0,a=!1,x=g.length,T;b<x;)T=g[b++],a||T.key===v?(a=!0,n(this,T.key)):c++;for(;c<x;)T=g[c++],T.key===v&&T.value===A||i(this,T.key,T.value)},{enumerable:!0,unsafe:!0})},N=>{var C=TypeError;N.exports=function(e,u){if(e<u)throw C("Not enough arguments");return e}},(N,C,e)=>{var u=e(48),y=e(14),k=e(77),f=e(85),m=URLSearchParams,t=m.prototype,i=y(t.getAll),n=y(t.has),p=new m("a=1");(p.has("a",2)||!p.has("a",void 0))&&u(t,"has",function(d){var s=arguments.length,r=s<2?void 0:arguments[1];if(s&&r===void 0)return n(this,d);var o=i(this,d);f(s,1);for(var g=k(r),v=0;v<o.length;)if(o[v++]===g)return!0;return!1},{enumerable:!0,unsafe:!0})},(N,C,e)=>{var u=e(6),y=e(14),k=e(88),f=URLSearchParams.prototype,m=y(f.forEach);u&&!("size"in f)&&k(f,"size",{get:function(){var i=0;return m(this,function(){i++}),i},configurable:!0,enumerable:!0})},(N,C,e)=>{var u=e(49),y=e(45);N.exports=function(k,f,m){return m.get&&u(m.get,f,{getter:!0}),m.set&&u(m.set,f,{setter:!0}),y.f(k,f,m)}},(N,C,e)=>{var u=e(3),y=e(40),k=e(64),f=e(90),m=e(92),t=e(7),i=t(function(){return[].push.call({length:4294967296},1)!==4294967297}),n=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(h){return h instanceof TypeError}},p=i||!n();u({target:"Array",proto:!0,arity:1,forced:p},{push:function(d){var s=y(this),r=k(s),o=arguments.length;m(r+o);for(var g=0;g<o;g++)s[r]=arguments[g],r++;return f(s,r),r}})},(N,C,e)=>{var u=e(6),y=e(91),k=TypeError,f=Object.getOwnPropertyDescriptor,m=u&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();N.exports=m?function(t,i){if(y(t)&&!f(t,"length").writable)throw k("Cannot set read only .length");return t.length=i}:function(t,i){return t.length=i}},(N,C,e)=>{var u=e(15);N.exports=Array.isArray||function(k){return u(k)==="Array"}},N=>{var C=TypeError,e=9007199254740991;N.exports=function(u){if(u>e)throw C("Maximum allowed index exceeded");return u}},(N,C,e)=>{var u=e(94),y=e(98).findLast,k=u.aTypedArray,f=u.exportTypedArrayMethod;f("findLast",function(t){return y(k(this),t,arguments.length>1?arguments[1]:void 0)})},(N,C,e)=>{var u=e(95),y=e(6),k=e(4),f=e(21),m=e(20),t=e(39),i=e(78),n=e(32),p=e(44),h=e(48),d=e(88),s=e(25),r=e(96),o=e(71),g=e(34),v=e(41),A=e(52),b=A.enforce,c=A.get,a=k.Int8Array,x=a&&a.prototype,T=k.Uint8ClampedArray,S=T&&T.prototype,D=a&&r(a),I=x&&r(x),$=Object.prototype,Z=k.TypeError,W=g("toStringTag"),Q=v("TYPED_ARRAY_TAG"),he="TypedArrayConstructor",Y=u&&!!o&&i(k.opera)!=="Opera",z=!1,te,oe,ye,Pe={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},L={BigInt64Array:8,BigUint64Array:8},P=function(ae){if(!m(ae))return!1;var q=i(ae);return q==="DataView"||t(Pe,q)||t(L,q)},M=function(j){var ae=r(j);if(m(ae)){var q=c(ae);return q&&t(q,he)?q[he]:M(ae)}},E=function(j){if(!m(j))return!1;var ae=i(j);return t(Pe,ae)||t(L,ae)},R=function(j){if(E(j))return j;throw Z("Target is not a typed array")},O=function(j){if(f(j)&&(!o||s(D,j)))return j;throw Z(n(j)+" is not a typed array constructor")},B=function(j,ae,q,pe){if(y){if(q)for(var ne in Pe){var me=k[ne];if(me&&t(me.prototype,j))try{delete me.prototype[j]}catch(ve){try{me.prototype[j]=ae}catch(Re){}}}(!I[j]||q)&&h(I,j,q?ae:Y&&x[j]||ae,pe)}},F=function(j,ae,q){var pe,ne;if(y){if(o){if(q){for(pe in Pe)if(ne=k[pe],ne&&t(ne,j))try{delete ne[j]}catch(me){}}if(!D[j]||q)try{return h(D,j,q?ae:Y&&D[j]||ae)}catch(me){}else return}for(pe in Pe)ne=k[pe],ne&&(!ne[j]||q)&&h(ne,j,ae)}};for(te in Pe)oe=k[te],ye=oe&&oe.prototype,ye?b(ye)[he]=oe:Y=!1;for(te in L)oe=k[te],ye=oe&&oe.prototype,ye&&(b(ye)[he]=oe);if((!Y||!f(D)||D===Function.prototype)&&(D=function(){throw Z("Incorrect invocation")},Y))for(te in Pe)k[te]&&o(k[te],D);if((!Y||!I||I===$)&&(I=D.prototype,Y))for(te in Pe)k[te]&&o(k[te].prototype,I);if(Y&&r(S)!==I&&o(S,I),y&&!t(I,W)){z=!0,d(I,W,{configurable:!0,get:function(){return m(this)?this[Q]:void 0}});for(te in Pe)k[te]&&p(k[te],Q,te)}N.exports={NATIVE_ARRAY_BUFFER_VIEWS:Y,TYPED_ARRAY_TAG:z&&Q,aTypedArray:R,aTypedArrayConstructor:O,exportTypedArrayMethod:B,exportTypedArrayStaticMethod:F,getTypedArrayConstructor:M,isView:P,isTypedArray:E,TypedArray:D,TypedArrayPrototype:I}},N=>{N.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},(N,C,e)=>{var u=e(39),y=e(21),k=e(40),f=e(54),m=e(97),t=f("IE_PROTO"),i=Object,n=i.prototype;N.exports=m?i.getPrototypeOf:function(p){var h=k(p);if(u(h,t))return h[t];var d=h.constructor;return y(d)&&h instanceof d?d.prototype:h instanceof i?n:null}},(N,C,e)=>{var u=e(7);N.exports=!u(function(){function y(){}return y.prototype.constructor=null,Object.getPrototypeOf(new y)!==y.prototype})},(N,C,e)=>{var u=e(99),y=e(13),k=e(40),f=e(64),m=function(t){var i=t===1;return function(n,p,h){for(var d=k(n),s=y(d),r=u(p,h),o=f(s),g,v;o-- >0;)if(g=s[o],v=r(g,o,d),v)switch(t){case 0:return g;case 1:return o}return i?-1:void 0}};N.exports={findLast:m(0),findLastIndex:m(1)}},(N,C,e)=>{var u=e(100),y=e(31),k=e(9),f=u(u.bind);N.exports=function(m,t){return y(m),t===void 0?m:k?f(m,t):function(){return m.apply(t,arguments)}}},(N,C,e)=>{var u=e(15),y=e(14);N.exports=function(k){if(u(k)==="Function")return y(k)}},(N,C,e)=>{var u=e(94),y=e(98).findLastIndex,k=u.aTypedArray,f=u.exportTypedArrayMethod;f("findLastIndex",function(t){return y(k(this),t,arguments.length>1?arguments[1]:void 0)})},(N,C,e)=>{var u=e(4),y=e(8),k=e(94),f=e(64),m=e(103),t=e(40),i=e(7),n=u.RangeError,p=u.Int8Array,h=p&&p.prototype,d=h&&h.set,s=k.aTypedArray,r=k.exportTypedArrayMethod,o=!i(function(){var v=new Uint8ClampedArray(2);return y(d,v,{length:1,0:3},1),v[1]!==3}),g=o&&k.NATIVE_ARRAY_BUFFER_VIEWS&&i(function(){var v=new p(2);return v.set(1),v.set("2",1),v[0]!==0||v[1]!==2});r("set",function(A){s(this);var b=m(arguments.length>1?arguments[1]:void 0,1),c=t(A);if(o)return y(d,this,c,b);var a=this.length,x=f(c),T=0;if(x+b>a)throw n("Wrong length");for(;T<x;)this[b+T]=c[T++]},!o||g)},(N,C,e)=>{var u=e(104),y=RangeError;N.exports=function(k,f){var m=u(k);if(m%f)throw y("Wrong offset");return m}},(N,C,e)=>{var u=e(62),y=RangeError;N.exports=function(k){var f=u(k);if(f<0)throw y("The argument can't be less than 0");return f}},(N,C,e)=>{var u=e(106),y=e(94),k=y.aTypedArray,f=y.exportTypedArrayMethod,m=y.getTypedArrayConstructor;f("toReversed",function(){return u(k(this),m(this))})},(N,C,e)=>{var u=e(64);N.exports=function(y,k){for(var f=u(y),m=new k(f),t=0;t<f;t++)m[t]=y[f-t-1];return m}},(N,C,e)=>{var u=e(94),y=e(14),k=e(31),f=e(108),m=u.aTypedArray,t=u.getTypedArrayConstructor,i=u.exportTypedArrayMethod,n=y(u.TypedArrayPrototype.sort);i("toSorted",function(h){h!==void 0&&k(h);var d=m(this),s=f(t(d),d);return n(s,h)})},(N,C,e)=>{var u=e(64);N.exports=function(y,k){for(var f=0,m=u(k),t=new y(m);m>f;)t[f]=k[f++];return t}},(N,C,e)=>{var u=e(110),y=e(94),k=e(111),f=e(62),m=e(112),t=y.aTypedArray,i=y.getTypedArrayConstructor,n=y.exportTypedArrayMethod,p=!!function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(h){return h===8}}();n("with",function(h,d){var s=t(this),r=f(h),o=k(s)?m(d):+d;return u(s,i(s),r,o)},!p)},(N,C,e)=>{var u=e(64),y=e(62),k=RangeError;N.exports=function(f,m,t,i){var n=u(f),p=y(t),h=p<0?n+p:p;if(h>=n||h<0)throw k("Incorrect index");for(var d=new m(n),s=0;s<n;s++)d[s]=s===h?i:f[s];return d}},(N,C,e)=>{var u=e(78);N.exports=function(y){var k=u(y);return k==="BigInt64Array"||k==="BigUint64Array"}},(N,C,e)=>{var u=e(19),y=TypeError;N.exports=function(k){var f=u(k,"number");if(typeof f=="number")throw y("Can't convert number to bigint");return BigInt(f)}},(N,C,e)=>{var u=e(6),y=e(88),k=e(114),f=ArrayBuffer.prototype;u&&!("detached"in f)&&y(f,"detached",{configurable:!0,get:function(){return k(this)}})},(N,C,e)=>{var u=e(14),y=e(115),k=u(ArrayBuffer.prototype.slice);N.exports=function(f){if(y(f)!==0)return!1;try{return k(f,0,0),!1}catch(m){return!0}}},(N,C,e)=>{var u=e(72),y=e(15),k=TypeError;N.exports=u(ArrayBuffer.prototype,"byteLength","get")||function(f){if(y(f)!=="ArrayBuffer")throw k("ArrayBuffer expected");return f.byteLength}},(N,C,e)=>{var u=e(3),y=e(117);y&&u({target:"ArrayBuffer",proto:!0},{transfer:function(){return y(this,arguments.length?arguments[0]:void 0,!0)}})},(N,C,e)=>{var u=e(4),y=e(14),k=e(72),f=e(118),m=e(114),t=e(115),i=e(119),n=u.TypeError,p=u.structuredClone,h=u.ArrayBuffer,d=u.DataView,s=Math.min,r=h.prototype,o=d.prototype,g=y(r.slice),v=k(r,"resizable","get"),A=k(r,"maxByteLength","get"),b=y(o.getInt8),c=y(o.setInt8);N.exports=i&&function(a,x,T){var S=t(a),D=x===void 0?S:f(x),I=!v||!v(a);if(m(a))throw n("ArrayBuffer is detached");var $=p(a,{transfer:[a]});if(S===D&&(T||I))return $;if(S>=D&&(!T||I))return g($,0,D);for(var Z=T&&!I&&A?{maxByteLength:A($)}:void 0,W=new h(D,Z),Q=new d($),he=new d(W),Y=s(D,S),z=0;z<Y;z++)c(he,z,b(Q,z));return W}},(N,C,e)=>{var u=e(62),y=e(65),k=RangeError;N.exports=function(f){if(f===void 0)return 0;var m=u(f),t=y(m);if(m!==t)throw k("Wrong length or index");return t}},(N,C,e)=>{var u=e(4),y=e(7),k=e(28),f=e(120),m=e(121),t=e(122),i=u.structuredClone;N.exports=!!i&&!y(function(){if(m&&k>92||t&&k>94||f&&k>97)return!1;var n=new ArrayBuffer(8),p=i(n,{transfer:[n]});return n.byteLength!==0||p.byteLength!==8})},(N,C,e)=>{var u=e(121),y=e(122);N.exports=!u&&!y&&typeof window=="object"&&typeof document=="object"},N=>{N.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},(N,C,e)=>{var u=e(4),y=e(15);N.exports=y(u.process)==="process"},(N,C,e)=>{var u=e(3),y=e(117);y&&u({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return y(this,arguments.length?arguments[0]:void 0,!1)}})},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var N,e,u,y,dt,f,Rt,t,i,n,p,h,d,s,r,o,Mt,v,A,Qt,c,a;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0,__w_pdfjs_require__(84),__w_pdfjs_require__(86),__w_pdfjs_require__(87),__w_pdfjs_require__(2),__w_pdfjs_require__(93),__w_pdfjs_require__(101),__w_pdfjs_require__(102),__w_pdfjs_require__(105),__w_pdfjs_require__(107),__w_pdfjs_require__(109),__w_pdfjs_require__(113),__w_pdfjs_require__(116),__w_pdfjs_require__(123),__w_pdfjs_require__(89),__w_pdfjs_require__(125),__w_pdfjs_require__(136),__w_pdfjs_require__(138),__w_pdfjs_require__(141),__w_pdfjs_require__(143),__w_pdfjs_require__(145),__w_pdfjs_require__(147),__w_pdfjs_require__(149),__w_pdfjs_require__(152);var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(163),_display_utils=__w_pdfjs_require__(168),_font_loader=__w_pdfjs_require__(171),_displayNode_utils=__w_pdfjs_require__(172),_canvas=__w_pdfjs_require__(173),_worker_options=__w_pdfjs_require__(176),_message_handler=__w_pdfjs_require__(177),_metadata=__w_pdfjs_require__(178),_optional_content_config=__w_pdfjs_require__(179),_transport_stream=__w_pdfjs_require__(180),_displayFetch_stream=__w_pdfjs_require__(181),_displayNetwork=__w_pdfjs_require__(184),_displayNode_stream=__w_pdfjs_require__(185),_displaySvg=__w_pdfjs_require__(186),_xfa_text=__w_pdfjs_require__(194);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(T){var He,We;if(typeof T=="string"||T instanceof URL?T={url:T}:(0,_util.isArrayBuffer)(T)&&(T={data:T}),typeof T!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!T.url&&!T.data&&!T.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const S=new PDFDocumentLoadingTask,{docId:D}=S,I=T.url?getUrlProp(T.url):null,$=T.data?getDataProp(T.data):null,Z=T.httpHeaders||null,W=T.withCredentials===!0,Q=(He=T.password)!=null?He:null,he=T.range instanceof PDFDataRangeTransport?T.range:null,Y=Number.isInteger(T.rangeChunkSize)&&T.rangeChunkSize>0?T.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let z=T.worker instanceof PDFWorker?T.worker:null;const te=T.verbosity,oe=typeof T.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(T.docBaseUrl)?T.docBaseUrl:null,ye=typeof T.cMapUrl=="string"?T.cMapUrl:null,Pe=T.cMapPacked!==!1,L=T.CMapReaderFactory||DefaultCMapReaderFactory,P=typeof T.standardFontDataUrl=="string"?T.standardFontDataUrl:null,M=T.StandardFontDataFactory||DefaultStandardFontDataFactory,E=T.stopAtErrors!==!0,R=Number.isInteger(T.maxImageSize)&&T.maxImageSize>-1?T.maxImageSize:-1,O=T.isEvalSupported!==!1,B=typeof T.isOffscreenCanvasSupported=="boolean"?T.isOffscreenCanvasSupported:!_util.isNodeJS,F=Number.isInteger(T.canvasMaxAreaInBytes)?T.canvasMaxAreaInBytes:-1,j=typeof T.disableFontFace=="boolean"?T.disableFontFace:_util.isNodeJS,ae=T.fontExtraProperties===!0,q=T.enableXfa===!0,pe=T.ownerDocument||globalThis.document,ne=T.disableRange===!0,me=T.disableStream===!0,ve=T.disableAutoFetch===!0,Re=T.pdfBug===!0,Oe=he?he.length:(We=T.length)!=null?We:NaN,Ie=typeof T.useSystemFonts=="boolean"?T.useSystemFonts:!_util.isNodeJS&&!j,Le=typeof T.useWorkerFetch=="boolean"?T.useWorkerFetch:L===_display_utils.DOMCMapReaderFactory&&M===_display_utils.DOMStandardFontDataFactory&&ye&&P&&(0,_display_utils.isValidFetchUrl)(ye,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(P,document.baseURI),ue=T.canvasFactory||new DefaultCanvasFactory({ownerDocument:pe}),ee=T.filterFactory||new DefaultFilterFactory({docId:D,ownerDocument:pe}),le=null;(0,_util.setVerbosityLevel)(te);const ge={canvasFactory:ue,filterFactory:ee};if(Le||(ge.cMapReaderFactory=new L({baseUrl:ye,isCompressed:Pe}),ge.standardFontDataFactory=new M({baseUrl:P})),!z){const _e={verbosity:te,port:_worker_options.GlobalWorkerOptions.workerPort};z=_e.port?PDFWorker.fromPort(_e):new PDFWorker(_e),S._worker=z}const Ce={docId:D,apiVersion:"3.11.174",data:$,password:Q,disableAutoFetch:ve,rangeChunkSize:Y,length:Oe,docBaseUrl:oe,enableXfa:q,evaluatorOptions:{maxImageSize:R,disableFontFace:j,ignoreErrors:E,isEvalSupported:O,isOffscreenCanvasSupported:B,canvasMaxAreaInBytes:F,fontExtraProperties:ae,useSystemFonts:Ie,cMapUrl:Le?ye:null,standardFontDataUrl:Le?P:null}},Me={ignoreErrors:E,isEvalSupported:O,disableFontFace:j,fontExtraProperties:ae,enableXfa:q,ownerDocument:pe,disableAutoFetch:ve,pdfBug:Re,styleElement:le};return z.promise.then(function(){if(S.destroyed)throw new Error("Loading aborted");const _e=_fetchDocument(z,Ce),ze=new Promise(function(Ye){let Je;he?Je=new _transport_stream.PDFDataTransportStream({length:Oe,initialData:he.initialData,progressiveDone:he.progressiveDone,contentDispositionFilename:he.contentDispositionFilename,disableRange:ne,disableStream:me},he):$||(Je=(Xe=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(Xe):(0,_display_utils.isValidFetchUrl)(Xe.url)?new _displayFetch_stream.PDFFetchStream(Xe):new _displayNetwork.PDFNetworkStream(Xe))({url:I,length:Oe,httpHeaders:Z,withCredentials:W,rangeChunkSize:Y,disableRange:ne,disableStream:me})),Ye(Je)});return Promise.all([_e,ze]).then(function(Ye){let[Je,Ze]=Ye;if(S.destroyed)throw new Error("Loading aborted");const Xe=new _message_handler.MessageHandler(D,Je,z.port),V=new WorkerTransport(Xe,S,Ze,Me,ge);S._transport=V,Xe.send("Ready",null)})}).catch(S._capability.reject),S}async function _fetchDocument(T,S){if(T.destroyed)throw new Error("Worker was destroyed");const D=await T.messageHandler.sendWithPromise("GetDocRequest",S,S.data?[S.data.buffer]:null);if(T.destroyed)throw new Error("Worker was destroyed");return D}function getUrlProp(T){if(T instanceof URL)return T.href;try{return new URL(T,window.location).href}catch(S){if(_util.isNodeJS&&typeof T=="string")return T}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(T){if(_util.isNodeJS&&typeof Buffer<"u"&&T instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(T instanceof Uint8Array&&T.byteLength===T.buffer.byteLength)return T;if(typeof T=="string")return(0,_util.stringToBytes)(T);if(typeof T=="object"&&!isNaN(T==null?void 0:T.length)||(0,_util.isArrayBuffer)(T))return new Uint8Array(T);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const C=class C{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId="d".concat(ut(C,N)._++),this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var S,D,I;this.destroyed=!0;try{(S=this._worker)!=null&&S.port&&(this._worker._pendingDestroy=!0),await((D=this._transport)==null?void 0:D.destroy())}catch($){throw(I=this._worker)!=null&&I.port&&delete this._worker._pendingDestroy,$}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};N=new WeakMap,_(C,N,0);let PDFDocumentLoadingTask=C;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(S,D){let I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,$=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;this.length=S,this.initialData=D,this.progressiveDone=I,this.contentDispositionFilename=$,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(S){this._rangeListeners.push(S)}addProgressListener(S){this._progressListeners.push(S)}addProgressiveReadListener(S){this._progressiveReadListeners.push(S)}addProgressiveDoneListener(S){this._progressiveDoneListeners.push(S)}onDataRange(S,D){for(const I of this._rangeListeners)I(S,D)}onDataProgress(S,D){this._readyCapability.promise.then(()=>{for(const I of this._progressListeners)I(S,D)})}onDataProgressiveRead(S){this._readyCapability.promise.then(()=>{for(const D of this._progressiveReadListeners)D(S)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const S of this._progressiveDoneListeners)S()})}transportReady(){this._readyCapability.resolve()}requestDataRange(S,D){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(S,D){this._pdfInfo=S,this._transport=D,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(I=>{if(!I)return I;const $=[];for(const Z in I)$.push(...I[Z]);return $}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(S){return this._transport.getPage(S)}getPageIndex(S){return this._transport.getPageIndex(S)}getDestinations(){return this._transport.getDestinations()}getDestination(S){return this._transport.getDestination(S)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(){let S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this._transport.startCleanup(S||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(S,D,I){_(this,y);_(this,f);_(this,e,null);_(this,u,!1);let $=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;this._pageIndex=S,this._pageInfo=D,this._transport=I,this._stats=$?new _display_utils.StatTimer:null,this._pdfBug=$,this.commonObjs=I.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport(){let{scale:S,rotation:D=this.rotate,offsetX:I=0,offsetY:$=0,dontFlip:Z=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new _display_utils.PageViewport({viewBox:this.view,scale:S,rotation:D,offsetX:I,offsetY:$,dontFlip:Z})}getAnnotations(){let{intent:S="display"}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const D=this._transport.getRenderingIntent(S);return this._transport.getAnnotations(this._pageIndex,D.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var S;return((S=this._transport._htmlForXfa)==null?void 0:S.children[this._pageIndex])||null}render(S){var E,R;let{canvasContext:D,viewport:I,intent:$="display",annotationMode:Z=_util.AnnotationMode.ENABLE,transform:W=null,background:Q=null,optionalContentConfigPromise:he=null,annotationCanvasMap:Y=null,pageColors:z=null,printAnnotationStorage:te=null}=S;(E=this._stats)==null||E.time("Overall");const oe=this._transport.getRenderingIntent($,Z,te);ce(this,u,!1),J(this,f,Rt).call(this),he||(he=this._transport.getOptionalContentConfig());let ye=this._intentStates.get(oe.cacheKey);ye||(ye=Object.create(null),this._intentStates.set(oe.cacheKey,ye)),ye.streamReaderCancelTimeout&&(clearTimeout(ye.streamReaderCancelTimeout),ye.streamReaderCancelTimeout=null);const Pe=!!(oe.renderingIntent&_util.RenderingIntentFlag.PRINT);ye.displayReadyCapability||(ye.displayReadyCapability=new _util.PromiseCapability,ye.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(R=this._stats)==null||R.time("Page Request"),this._pumpOperatorList(oe));const L=O=>{var B,F;ye.renderTasks.delete(P),(this._maybeCleanupAfterRender||Pe)&&ce(this,u,!0),J(this,y,dt).call(this,!Pe),O?(P.capability.reject(O),this._abortOperatorList({intentState:ye,reason:O instanceof Error?O:new Error(O)})):P.capability.resolve(),(B=this._stats)==null||B.timeEnd("Rendering"),(F=this._stats)==null||F.timeEnd("Overall")},P=new InternalRenderTask({callback:L,params:{canvasContext:D,viewport:I,transform:W,background:Q},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:Y,operatorList:ye.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!Pe,pdfBug:this._pdfBug,pageColors:z});(ye.renderTasks||(ye.renderTasks=new Set)).add(P);const M=P.task;return Promise.all([ye.displayReadyCapability.promise,he]).then(O=>{var j;let[B,F]=O;if(this.destroyed){L();return}(j=this._stats)==null||j.time("Rendering"),P.initializeGraphics({transparency:B,optionalContentConfig:F}),P.operatorListChanged()}).catch(L),M}getOperatorList(){var he;let{intent:S="display",annotationMode:D=_util.AnnotationMode.ENABLE,printAnnotationStorage:I=null}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};function $(){W.operatorList.lastChunk&&(W.opListReadCapability.resolve(W.operatorList),W.renderTasks.delete(Q))}const Z=this._transport.getRenderingIntent(S,D,I,!0);let W=this._intentStates.get(Z.cacheKey);W||(W=Object.create(null),this._intentStates.set(Z.cacheKey,W));let Q;return W.opListReadCapability||(Q=Object.create(null),Q.operatorListChanged=$,W.opListReadCapability=new _util.PromiseCapability,(W.renderTasks||(W.renderTasks=new Set)).add(Q),W.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(he=this._stats)==null||he.time("Page Request"),this._pumpOperatorList(Z)),W.opListReadCapability.promise}streamTextContent(){let{includeMarkedContent:S=!1,disableNormalization:D=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const I=100;return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:S===!0,disableNormalization:D===!0},{highWaterMark:I,size($){return $.items.length}})}getTextContent(){let S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then(I=>_xfa_text.XfaText.textContent(I));const D=this.streamTextContent(S);return new Promise(function(I,$){function Z(){W.read().then(function(he){let{value:Y,done:z}=he;if(z){I(Q);return}Object.assign(Q.styles,Y.styles),Q.items.push(...Y.items),Z()},$)}const W=D.getReader(),Q={items:[],styles:Object.create(null)};Z()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const S=[];for(const D of this._intentStates.values())if(this._abortOperatorList({intentState:D,reason:new Error("Page was destroyed."),force:!0}),!D.opListReadCapability)for(const I of D.renderTasks)S.push(I.completed),I.cancel();return this.objs.clear(),ce(this,u,!1),J(this,f,Rt).call(this),Promise.all(S)}cleanup(){let S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;ce(this,u,!0);const D=J(this,y,dt).call(this,!1);return S&&D&&this._stats&&(this._stats=new _display_utils.StatTimer),D}_startRenderPage(S,D){var $,Z;const I=this._intentStates.get(D);I&&(($=this._stats)==null||$.timeEnd("Page Request"),(Z=I.displayReadyCapability)==null||Z.resolve(S))}_renderPageChunk(S,D){for(let I=0,$=S.length;I<$;I++)D.operatorList.fnArray.push(S.fnArray[I]),D.operatorList.argsArray.push(S.argsArray[I]);D.operatorList.lastChunk=S.lastChunk,D.operatorList.separateAnnots=S.separateAnnots;for(const I of D.renderTasks)I.operatorListChanged();S.lastChunk&&J(this,y,dt).call(this,!0)}_pumpOperatorList(S){let{renderingIntent:D,cacheKey:I,annotationStorageSerializable:$}=S;const{map:Z,transfers:W}=$,he=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:D,cacheKey:I,annotationStorage:Z},W).getReader(),Y=this._intentStates.get(I);Y.streamReader=he;const z=()=>{he.read().then(te=>{let{value:oe,done:ye}=te;if(ye){Y.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(oe,Y),z())},te=>{if(Y.streamReader=null,!this._transport.destroyed){if(Y.operatorList){Y.operatorList.lastChunk=!0;for(const oe of Y.renderTasks)oe.operatorListChanged();J(this,y,dt).call(this,!0)}if(Y.displayReadyCapability)Y.displayReadyCapability.reject(te);else if(Y.opListReadCapability)Y.opListReadCapability.reject(te);else throw te}})};z()}_abortOperatorList(S){let{intentState:D,reason:I,force:$=!1}=S;if(D.streamReader){if(D.streamReaderCancelTimeout&&(clearTimeout(D.streamReaderCancelTimeout),D.streamReaderCancelTimeout=null),!$){if(D.renderTasks.size>0)return;if(I instanceof _display_utils.RenderingCancelledException){let Z=RENDERING_CANCELLED_TIMEOUT;I.extraDelay>0&&I.extraDelay<1e3&&(Z+=I.extraDelay),D.streamReaderCancelTimeout=setTimeout(()=>{D.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:D,reason:I,force:!0})},Z);return}}if(D.streamReader.cancel(new _util.AbortException(I.message)).catch(()=>{}),D.streamReader=null,!this._transport.destroyed){for(const[Z,W]of this._intentStates)if(W===D){this._intentStates.delete(Z);break}this.cleanup()}}}get stats(){return this._stats}}e=new WeakMap,u=new WeakMap,y=new WeakSet,dt=function(){let S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(J(this,f,Rt).call(this),!l(this,u)||this.destroyed)return!1;if(S)return ce(this,e,setTimeout(()=>{ce(this,e,null),J(this,y,dt).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:D,operatorList:I}of this._intentStates.values())if(D.size>0||!I.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),ce(this,u,!1),!0},f=new WeakSet,Rt=function(){l(this,e)&&(clearTimeout(l(this,e)),ce(this,e,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){_(this,t,new Set);_(this,i,Promise.resolve())}postMessage(S,D){const I={data:structuredClone(S,null)};l(this,i).then(()=>{for(const $ of l(this,t))$.call(this,I)})}addEventListener(S,D){l(this,t).add(D)}removeEventListener(S,D){l(this,t).delete(D)}terminate(){l(this,t).clear()}}t=new WeakMap,i=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const T=(n=document==null?void 0:document.currentScript)==null?void 0:n.src;T&&(PDFWorkerUtil.fallbackWorkerSrc=T.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(T,S){let D;try{if(D=new URL(T),!D.origin||D.origin==="null")return!1}catch($){return!1}const I=new URL(S,D);return D.origin===I.origin},PDFWorkerUtil.createCDNWrapper=function(T){const S='importScripts("'.concat(T,'");');return URL.createObjectURL(new Blob([S]))}}const _PDFWorker=class _PDFWorker{constructor(){var I;let{name:T=null,port:S=null,verbosity:D=(0,_util.getVerbosityLevel)()}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this.name=T,this.destroyed=!1,this.verbosity=D,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,S){if((I=l(_PDFWorker,p))!=null&&I.has(S))throw new Error("Cannot use more than one PDFWorker per port.");(l(_PDFWorker,p)||ce(_PDFWorker,p,new WeakMap)).set(S,this),this._initializeFromPort(S);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(T){this._port=T,this._messageHandler=new _message_handler.MessageHandler("main","worker",T),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:T}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,T)||(T=PDFWorkerUtil.createCDNWrapper(new URL(T,window.location).href));const S=new Worker(T),D=new _message_handler.MessageHandler("main","worker",S),I=()=>{S.removeEventListener("error",$),D.destroy(),S.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},$=()=>{this._webWorker||I()};S.addEventListener("error",$),D.on("test",W=>{if(S.removeEventListener("error",$),this.destroyed){I();return}W?(this._messageHandler=D,this._port=S,this._webWorker=S,this._readyCapability.resolve(),D.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),D.destroy(),S.terminate())}),D.on("ready",W=>{if(S.removeEventListener("error",$),this.destroyed){I();return}try{Z()}catch(Q){this._setupFakeWorker()}});const Z=()=>{const W=new Uint8Array;D.send("test",W,[W.buffer])};Z();return}catch(S){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(T=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const S=new LoopbackPort;this._port=S;const D="fake".concat(PDFWorkerUtil.fakeWorkerId++),I=new _message_handler.MessageHandler(D+"_worker",D,S);T.setup(I,S);const $=new _message_handler.MessageHandler(D,D+"_worker",S);this._messageHandler=$,this._readyCapability.resolve(),$.send("configure",{verbosity:this.verbosity})}).catch(T=>{this._readyCapability.reject(new Error('Setting up fake worker failed: "'.concat(T.message,'".')))})}destroy(){var T;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(T=l(_PDFWorker,p))==null||T.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(T){var D;if(!(T!=null&&T.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const S=(D=l(this,p))==null?void 0:D.get(T.port);if(S){if(S._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return S}return new _PDFWorker(T)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var T;try{return((T=globalThis.pdfjsWorker)==null?void 0:T.WorkerMessageHandler)||null}catch(S){return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};p=new WeakMap,_(_PDFWorker,p,void 0);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(S,D,I,$,Z){_(this,o);_(this,h,new Map);_(this,d,new Map);_(this,s,new Map);_(this,r,null);this.messageHandler=S,this.loadingTask=D,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:$.ownerDocument,styleElement:$.styleElement}),this._params=$,this.canvasFactory=Z.canvasFactory,this.filterFactory=Z.filterFactory,this.cMapReaderFactory=Z.cMapReaderFactory,this.standardFontDataFactory=Z.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=I,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(S){let D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_util.AnnotationMode.ENABLE,I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,$=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,Z=_util.RenderingIntentFlag.DISPLAY,W=_annotation_storage.SerializableEmpty;switch(S){case"any":Z=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":Z=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)("getRenderingIntent - invalid intent: ".concat(S))}switch(D){case _util.AnnotationMode.DISABLE:Z+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:Z+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:Z+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,W=(Z&_util.RenderingIntentFlag.PRINT&&I instanceof _annotation_storage.PrintAnnotationStorage?I:this.annotationStorage).serializable;break;default:(0,_util.warn)("getRenderingIntent - invalid annotationMode: ".concat(D))}return $&&(Z+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:Z,cacheKey:"".concat(Z,"_").concat(W.hash),annotationStorageSerializable:W}}destroy(){var I;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(I=l(this,r))==null||I.reject(new Error("Worker was destroyed during onPassword callback"));const S=[];for(const $ of l(this,d).values())S.push($._destroy());l(this,d).clear(),l(this,s).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const D=this.messageHandler.sendWithPromise("Terminate",null);return S.push(D),Promise.all(S).then(()=>{var $;this.commonObjs.clear(),this.fontLoader.clear(),l(this,h).clear(),this.filterFactory.destroy(),($=this._networkStream)==null||$.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:S,loadingTask:D}=this;S.on("GetReader",(I,$)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=Z=>{this._lastProgress={loaded:Z.loaded,total:Z.total}},$.onPull=()=>{this._fullReader.read().then(function(Z){let{value:W,done:Q}=Z;if(Q){$.close();return}(0,_util.assert)(W instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),$.enqueue(new Uint8Array(W),1,[W])}).catch(Z=>{$.error(Z)})},$.onCancel=Z=>{this._fullReader.cancel(Z),$.ready.catch(W=>{if(!this.destroyed)throw W})}}),S.on("ReaderHeadersReady",I=>{const $=new _util.PromiseCapability,Z=this._fullReader;return Z.headersReady.then(()=>{var W;(!Z.isStreamingSupported||!Z.isRangeSupported)&&(this._lastProgress&&((W=D.onProgress)==null||W.call(D,this._lastProgress)),Z.onProgress=Q=>{var he;(he=D.onProgress)==null||he.call(D,{loaded:Q.loaded,total:Q.total})}),$.resolve({isStreamingSupported:Z.isStreamingSupported,isRangeSupported:Z.isRangeSupported,contentLength:Z.contentLength})},$.reject),$.promise}),S.on("GetRangeReader",(I,$)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const Z=this._networkStream.getRangeReader(I.begin,I.end);if(!Z){$.close();return}$.onPull=()=>{Z.read().then(function(W){let{value:Q,done:he}=W;if(he){$.close();return}(0,_util.assert)(Q instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),$.enqueue(new Uint8Array(Q),1,[Q])}).catch(W=>{$.error(W)})},$.onCancel=W=>{Z.cancel(W),$.ready.catch(Q=>{if(!this.destroyed)throw Q})}}),S.on("GetDoc",I=>{let{pdfInfo:$}=I;this._numPages=$.numPages,this._htmlForXfa=$.htmlForXfa,delete $.htmlForXfa,D._capability.resolve(new PDFDocumentProxy($,this))}),S.on("DocException",function(I){let $;switch(I.name){case"PasswordException":$=new _util.PasswordException(I.message,I.code);break;case"InvalidPDFException":$=new _util.InvalidPDFException(I.message);break;case"MissingPDFException":$=new _util.MissingPDFException(I.message);break;case"UnexpectedResponseException":$=new _util.UnexpectedResponseException(I.message,I.status);break;case"UnknownErrorException":$=new _util.UnknownErrorException(I.message,I.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}D._capability.reject($)}),S.on("PasswordRequest",I=>{if(ce(this,r,new _util.PromiseCapability),D.onPassword){const $=Z=>{Z instanceof Error?l(this,r).reject(Z):l(this,r).resolve({password:Z})};try{D.onPassword($,I.code)}catch(Z){l(this,r).reject(Z)}}else l(this,r).reject(new _util.PasswordException(I.message,I.code));return l(this,r).promise}),S.on("DataLoaded",I=>{var $;($=D.onProgress)==null||$.call(D,{loaded:I.length,total:I.length}),this.downloadInfoCapability.resolve(I)}),S.on("StartRenderPage",I=>{if(this.destroyed)return;l(this,d).get(I.pageIndex)._startRenderPage(I.transparency,I.cacheKey)}),S.on("commonobj",I=>{var Q;let[$,Z,W]=I;if(!this.destroyed&&!this.commonObjs.has($))switch(Z){case"Font":const he=this._params;if("error"in W){const te=W.error;(0,_util.warn)("Error during font loading: ".concat(te)),this.commonObjs.resolve($,te);break}const Y=he.pdfBug&&((Q=globalThis.FontInspector)!=null&&Q.enabled)?(te,oe)=>globalThis.FontInspector.fontAdded(te,oe):null,z=new _font_loader.FontFaceObject(W,{isEvalSupported:he.isEvalSupported,disableFontFace:he.disableFontFace,ignoreErrors:he.ignoreErrors,inspectFont:Y});this.fontLoader.bind(z).catch(te=>S.sendWithPromise("FontFallback",{id:$})).finally(()=>{!he.fontExtraProperties&&z.data&&(z.data=null),this.commonObjs.resolve($,z)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve($,W);break;default:throw new Error("Got unknown common object type ".concat(Z))}}),S.on("obj",I=>{var Y;let[$,Z,W,Q]=I;if(this.destroyed)return;const he=l(this,d).get(Z);if(!he.objs.has($))switch(W){case"Image":if(he.objs.resolve($,Q),Q){let z;if(Q.bitmap){const{width:te,height:oe}=Q;z=te*oe*4}else z=((Y=Q.data)==null?void 0:Y.length)||0;z>_util.MAX_IMAGE_SIZE_TO_CACHE&&(he._maybeCleanupAfterRender=!0)}break;case"Pattern":he.objs.resolve($,Q);break;default:throw new Error("Got unknown object type ".concat(W))}}),S.on("DocProgress",I=>{var $;this.destroyed||($=D.onProgress)==null||$.call(D,{loaded:I.loaded,total:I.total})}),S.on("FetchBuiltInCMap",I=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(I):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),S.on("FetchStandardFontData",I=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(I):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var I,$;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:S,transfers:D}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:S,filename:($=(I=this._fullReader)==null?void 0:I.filename)!=null?$:null},D).finally(()=>{this.annotationStorage.resetModified()})}getPage(S){if(!Number.isInteger(S)||S<=0||S>this._numPages)return Promise.reject(new Error("Invalid page request."));const D=S-1,I=l(this,s).get(D);if(I)return I;const $=this.messageHandler.sendWithPromise("GetPage",{pageIndex:D}).then(Z=>{if(this.destroyed)throw new Error("Transport destroyed");const W=new PDFPageProxy(D,Z,this,this._params.pdfBug);return l(this,d).set(D,W),W});return l(this,s).set(D,$),$}getPageIndex(S){return typeof S!="object"||S===null||!Number.isInteger(S.num)||S.num<0||!Number.isInteger(S.gen)||S.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:S.num,gen:S.gen})}getAnnotations(S,D){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:S,intent:D})}getFieldObjects(){return J(this,o,Mt).call(this,"GetFieldObjects")}hasJSActions(){return J(this,o,Mt).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(S){return typeof S!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:S})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return J(this,o,Mt).call(this,"GetDocJSActions")}getPageJSActions(S){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:S})}getStructTree(S){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:S})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(S=>new _optional_content_config.OptionalContentConfig(S))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const S="GetMetadata",D=l(this,h).get(S);if(D)return D;const I=this.messageHandler.sendWithPromise(S,null).then($=>{var Z,W,Q,he;return{info:$[0],metadata:$[1]?new _metadata.Metadata($[1]):null,contentDispositionFilename:(W=(Z=this._fullReader)==null?void 0:Z.filename)!=null?W:null,contentLength:(he=(Q=this._fullReader)==null?void 0:Q.contentLength)!=null?he:null}});return l(this,h).set(S,I),I}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(){let S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const D of l(this,d).values())if(!D.cleanup())throw new Error("startCleanup: Page ".concat(D.pageNumber," is currently rendering."));this.commonObjs.clear(),S||this.fontLoader.clear(),l(this,h).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:S,enableXfa:D}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:S,enableXfa:D})}}h=new WeakMap,d=new WeakMap,s=new WeakMap,r=new WeakMap,o=new WeakSet,Mt=function(S){let D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const I=l(this,h).get(S);if(I)return I;const $=this.messageHandler.sendWithPromise(S,D);return l(this,h).set(S,$),$};class PDFObjects{constructor(){_(this,A);_(this,v,Object.create(null))}get(S){let D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(D){const $=J(this,A,Qt).call(this,S);return $.capability.promise.then(()=>D($.data)),null}const I=l(this,v)[S];if(!(I!=null&&I.capability.settled))throw new Error("Requesting object that isn't resolved yet ".concat(S,"."));return I.data}has(S){const D=l(this,v)[S];return(D==null?void 0:D.capability.settled)||!1}resolve(S){let D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const I=J(this,A,Qt).call(this,S);I.data=D,I.capability.resolve()}clear(){var S;for(const D in l(this,v)){const{data:I}=l(this,v)[D];(S=I==null?void 0:I.bitmap)==null||S.close()}ce(this,v,Object.create(null))}}v=new WeakMap,A=new WeakSet,Qt=function(S){var D;return(D=l(this,v))[S]||(D[S]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(S){_(this,c,null);ce(this,c,S),this.onContinue=null}get promise(){return l(this,c).capability.promise}cancel(){let S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;l(this,c).cancel(null,S)}get separateAnnots(){const{separateAnnots:S}=l(this,c).operatorList;if(!S)return!1;const{annotationCanvasMap:D}=l(this,c);return S.form||S.canvas&&(D==null?void 0:D.size)>0}}c=new WeakMap,exports.RenderTask=RenderTask;const x=class x{constructor(S){let{callback:D,params:I,objs:$,commonObjs:Z,annotationCanvasMap:W,operatorList:Q,pageIndex:he,canvasFactory:Y,filterFactory:z,useRequestAnimationFrame:te=!1,pdfBug:oe=!1,pageColors:ye=null}=S;this.callback=D,this.params=I,this.objs=$,this.commonObjs=Z,this.annotationCanvasMap=W,this.operatorListIdx=null,this.operatorList=Q,this._pageIndex=he,this.canvasFactory=Y,this.filterFactory=z,this._pdfBug=oe,this.pageColors=ye,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=te===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=I.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics(S){var he,Y;let{transparency:D=!1,optionalContentConfig:I}=S;if(this.cancelled)return;if(this._canvas){if(l(x,a).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");l(x,a).add(this._canvas)}this._pdfBug&&((he=globalThis.StepperManager)!=null&&he.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:$,viewport:Z,transform:W,background:Q}=this.params;this.gfx=new _canvas.CanvasGraphics($,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:I},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:W,viewport:Z,transparency:D,background:Q}),this.operatorListIdx=0,this.graphicsReady=!0,(Y=this.graphicsReadyCallback)==null||Y.call(this)}cancel(){var I;let S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.running=!1,this.cancelled=!0,(I=this.gfx)==null||I.endDrawing(),l(x,a).delete(this._canvas),this.callback(S||new _display_utils.RenderingCancelledException("Rendering cancelled, page ".concat(this._pageIndex+1),D))}operatorListChanged(){var S;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(S=this.stepper)==null||S.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),l(x,a).delete(this._canvas),this.callback())))}};a=new WeakMap,_(x,a,new WeakSet);let InternalRenderTask=x;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(N,C,e)=>{var u=e(3),y=e(126),k=e(135);u({target:"Set",proto:!0,real:!0,forced:!k("difference")},{difference:y})},(N,C,e)=>{var u=e(127),y=e(128),k=e(129),f=e(132),m=e(133),t=e(130),i=e(131),n=y.has,p=y.remove;N.exports=function(d){var s=u(this),r=m(d),o=k(s);return f(s)<=r.size?t(s,function(g){r.includes(g)&&p(o,g)}):i(r.getIterator(),function(g){n(s,g)&&p(o,g)}),o}},(N,C,e)=>{var u=e(128).has;N.exports=function(y){return u(y),y}},(N,C,e)=>{var u=e(14),y=Set.prototype;N.exports={Set,add:u(y.add),has:u(y.has),remove:u(y.delete),proto:y}},(N,C,e)=>{var u=e(128),y=e(130),k=u.Set,f=u.add;N.exports=function(m){var t=new k;return y(m,function(i){f(t,i)}),t}},(N,C,e)=>{var u=e(14),y=e(131),k=e(128),f=k.Set,m=k.proto,t=u(m.forEach),i=u(m.keys),n=i(new f).next;N.exports=function(p,h,d){return d?y({iterator:i(p),next:n},h):t(p,h)}},(N,C,e)=>{var u=e(8);N.exports=function(y,k,f){for(var m=f?y:y.iterator,t=y.next,i,n;!(i=u(t,m)).done;)if(n=k(i.value),n!==void 0)return n}},(N,C,e)=>{var u=e(72),y=e(128);N.exports=u(y.proto,"size","get")||function(k){return k.size}},(N,C,e)=>{var u=e(31),y=e(47),k=e(8),f=e(62),m=e(134),t="Invalid size",i=RangeError,n=TypeError,p=Math.max,h=function(d,s,r,o){this.set=d,this.size=s,this.has=r,this.keys=o};h.prototype={getIterator:function(){return m(y(k(this.keys,this.set)))},includes:function(d){return k(this.has,this.set,d)}},N.exports=function(d){y(d);var s=+d.size;if(s!==s)throw n(t);var r=f(s);if(r<0)throw i(t);return new h(d,p(r,0),u(d.has),u(d.keys))}},N=>{N.exports=function(C){return{iterator:C,next:C.next,done:!1}}},(N,C,e)=>{var u=e(24),y=function(k){return{size:k,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}};N.exports=function(k){var f=u("Set");try{new f()[k](y(0));try{return new f()[k](y(-1)),!1}catch(m){return!0}}catch(m){return!1}}},(N,C,e)=>{var u=e(3),y=e(7),k=e(137),f=e(135),m=!f("intersection")||y(function(){return Array.from(new Set([1,2,3]).intersection(new Set([3,2])))!=="3,2"});u({target:"Set",proto:!0,real:!0,forced:m},{intersection:k})},(N,C,e)=>{var u=e(127),y=e(128),k=e(132),f=e(133),m=e(130),t=e(131),i=y.Set,n=y.add,p=y.has;N.exports=function(d){var s=u(this),r=f(d),o=new i;return k(s)>r.size?t(r.getIterator(),function(g){p(s,g)&&n(o,g)}):m(s,function(g){r.includes(g)&&n(o,g)}),o}},(N,C,e)=>{var u=e(3),y=e(139),k=e(135);u({target:"Set",proto:!0,real:!0,forced:!k("isDisjointFrom")},{isDisjointFrom:y})},(N,C,e)=>{var u=e(127),y=e(128).has,k=e(132),f=e(133),m=e(130),t=e(131),i=e(140);N.exports=function(p){var h=u(this),d=f(p);if(k(h)<=d.size)return m(h,function(r){if(d.includes(r))return!1},!0)!==!1;var s=d.getIterator();return t(s,function(r){if(y(h,r))return i(s,"normal",!1)})!==!1}},(N,C,e)=>{var u=e(8),y=e(47),k=e(30);N.exports=function(f,m,t){var i,n;y(f);try{if(i=k(f,"return"),!i){if(m==="throw")throw t;return t}i=u(i,f)}catch(p){n=!0,i=p}if(m==="throw")throw t;if(n)throw i;return y(i),t}},(N,C,e)=>{var u=e(3),y=e(142),k=e(135);u({target:"Set",proto:!0,real:!0,forced:!k("isSubsetOf")},{isSubsetOf:y})},(N,C,e)=>{var u=e(127),y=e(132),k=e(130),f=e(133);N.exports=function(t){var i=u(this),n=f(t);return y(i)>n.size?!1:k(i,function(p){if(!n.includes(p))return!1},!0)!==!1}},(N,C,e)=>{var u=e(3),y=e(144),k=e(135);u({target:"Set",proto:!0,real:!0,forced:!k("isSupersetOf")},{isSupersetOf:y})},(N,C,e)=>{var u=e(127),y=e(128).has,k=e(132),f=e(133),m=e(131),t=e(140);N.exports=function(n){var p=u(this),h=f(n);if(k(p)<h.size)return!1;var d=h.getIterator();return m(d,function(s){if(!y(p,s))return t(d,"normal",!1)})!==!1}},(N,C,e)=>{var u=e(3),y=e(146),k=e(135);u({target:"Set",proto:!0,real:!0,forced:!k("symmetricDifference")},{symmetricDifference:y})},(N,C,e)=>{var u=e(127),y=e(128),k=e(129),f=e(133),m=e(131),t=y.add,i=y.has,n=y.remove;N.exports=function(h){var d=u(this),s=f(h).getIterator(),r=k(d);return m(s,function(o){i(d,o)?n(r,o):t(r,o)}),r}},(N,C,e)=>{var u=e(3),y=e(148),k=e(135);u({target:"Set",proto:!0,real:!0,forced:!k("union")},{union:y})},(N,C,e)=>{var u=e(127),y=e(128).add,k=e(129),f=e(133),m=e(131);N.exports=function(i){var n=u(this),p=f(i).getIterator(),h=k(n);return m(p,function(d){y(h,d)}),h}},(N,C,e)=>{var u=e(3),y=e(4),k=e(24),f=e(11),m=e(45).f,t=e(39),i=e(150),n=e(75),p=e(76),h=e(151),d=e(82),s=e(6),r=e(36),o="DOMException",g=k("Error"),v=k(o),A=function(){i(this,b);var he=arguments.length,Y=p(he<1?void 0:arguments[0]),z=p(he<2?void 0:arguments[1],"Error"),te=new v(Y,z),oe=g(Y);return oe.name=o,m(te,"stack",f(1,d(oe.stack,1))),n(te,this,A),te},b=A.prototype=v.prototype,c="stack"in g(o),a="stack"in new v(1,2),x=v&&s&&Object.getOwnPropertyDescriptor(y,o),T=!!x&&!(x.writable&&x.configurable),S=c&&!T&&!a;u({global:!0,constructor:!0,forced:r||S},{DOMException:S?A:v});var D=k(o),I=D.prototype;if(I.constructor!==D){r||m(I,"constructor",f(1,D));for(var $ in h)if(t(h,$)){var Z=h[$],W=Z.s;t(D,W)||m(D,W,f(6,Z.c))}}},(N,C,e)=>{var u=e(25),y=TypeError;N.exports=function(k,f){if(u(f,k))return k;throw y("Incorrect invocation")}},N=>{N.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},(N,C,e)=>{var u=e(36),y=e(3),k=e(4),f=e(24),m=e(14),t=e(7),i=e(41),n=e(21),p=e(153),h=e(17),d=e(20),s=e(23),r=e(154),o=e(47),g=e(78),v=e(39),A=e(159),b=e(44),c=e(64),a=e(85),x=e(160),T=e(162),S=e(128),D=e(83),I=e(119),$=k.Object,Z=k.Array,W=k.Date,Q=k.Error,he=k.EvalError,Y=k.RangeError,z=k.ReferenceError,te=k.SyntaxError,oe=k.TypeError,ye=k.URIError,Pe=k.PerformanceMark,L=k.WebAssembly,P=L&&L.CompileError||Q,M=L&&L.LinkError||Q,E=L&&L.RuntimeError||Q,R=f("DOMException"),O=T.Map,B=T.has,F=T.get,j=T.set,ae=S.Set,q=S.add,pe=f("Object","keys"),ne=m([].push),me=m((!0).valueOf),ve=m(1 .valueOf),Re=m("".valueOf),Oe=m(W.prototype.getTime),Ie=i("structuredClone"),Le="DataCloneError",ue="Transferring",ee=function(K){return!t(function(){var U=new k.Set([7]),re=K(U),Ae=K($(7));return re===U||!re.has(7)||typeof Ae!="object"||+Ae!=7})&&K},le=function(K,U){return!t(function(){var re=new U,Ae=K({a:re,b:re});return!(Ae&&Ae.a===Ae.b&&Ae.a instanceof U&&Ae.a.stack===re.stack)})},ge=function(K){return!t(function(){var U=K(new k.AggregateError([1],Ie,{cause:3}));return U.name!=="AggregateError"||U.errors[0]!==1||U.message!==Ie||U.cause!==3})},Ce=k.structuredClone,Me=u||!le(Ce,Q)||!le(Ce,R)||!ge(Ce),He=!Ce&&ee(function(K){return new Pe(Ie,{detail:K}).detail}),We=ee(Ce)||He,_e=function(K){throw new R("Uncloneable type: "+K,Le)},ze=function(K,U){throw new R((U||"Cloning")+" of "+K+" cannot be properly polyfilled in this engine",Le)},Ye=function(K,U){return We||ze(U),We(K)},Je=function(){var K;try{K=new k.DataTransfer}catch(U){try{K=new k.ClipboardEvent("").clipboardData}catch(re){}}return K&&K.items&&K.files?K:null},Ze=function(K,U,re){if(B(U,K))return F(U,K);var Ae=re||g(K),Ee,we,Te,Ne,ke,Ue;if(Ae==="SharedArrayBuffer")We?Ee=We(K):Ee=K;else{var Be=k.DataView;!Be&&typeof K.slice!="function"&&ze("ArrayBuffer");try{if(typeof K.slice=="function"&&!K.resizable)Ee=K.slice(0);else for(we=K.byteLength,Te=("maxByteLength"in K)?{maxByteLength:K.maxByteLength}:void 0,Ee=new ArrayBuffer(we,Te),Ne=new Be(K),ke=new Be(Ee),Ue=0;Ue<we;Ue++)ke.setUint8(Ue,Ne.getUint8(Ue))}catch(ie){throw new R("ArrayBuffer is detached",Le)}}return j(U,K,Ee),Ee},Xe=function(K,U,re,Ae,Ee){var we=k[U];return d(we)||ze(U),new we(Ze(K.buffer,Ee),re,Ae)},V=function(K,U,re){this.object=K,this.type=U,this.metadata=re},H=function(K,U,re){if(s(K)&&_e("Symbol"),!d(K))return K;if(U){if(B(U,K))return F(U,K)}else U=new O;var Ae=g(K),Ee,we,Te,Ne,ke,Ue,Be,ie;switch(Ae){case"Array":Te=Z(c(K));break;case"Object":Te={};break;case"Map":Te=new O;break;case"Set":Te=new ae;break;case"RegExp":Te=new RegExp(K.source,x(K));break;case"Error":switch(we=K.name,we){case"AggregateError":Te=f("AggregateError")([]);break;case"EvalError":Te=he();break;case"RangeError":Te=Y();break;case"ReferenceError":Te=z();break;case"SyntaxError":Te=te();break;case"TypeError":Te=oe();break;case"URIError":Te=ye();break;case"CompileError":Te=P();break;case"LinkError":Te=M();break;case"RuntimeError":Te=E();break;default:Te=Q()}break;case"DOMException":Te=new R(K.message,K.name);break;case"ArrayBuffer":case"SharedArrayBuffer":Te=re?new V(K,Ae):Ze(K,U,Ae);break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float16Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":Ue=Ae==="DataView"?K.byteLength:K.length,Te=re?new V(K,Ae,{offset:K.byteOffset,length:Ue}):Xe(K,Ae,K.byteOffset,Ue,U);break;case"DOMQuad":try{Te=new DOMQuad(H(K.p1,U,re),H(K.p2,U,re),H(K.p3,U,re),H(K.p4,U,re))}catch(w){Te=Ye(K,Ae)}break;case"File":if(We)try{Te=We(K),g(Te)!==Ae&&(Te=void 0)}catch(w){}if(!Te)try{Te=new File([K],K.name,K)}catch(w){}Te||ze(Ae);break;case"FileList":if(Ne=Je(),Ne){for(ke=0,Ue=c(K);ke<Ue;ke++)Ne.items.add(H(K[ke],U,re));Te=Ne.files}else Te=Ye(K,Ae);break;case"ImageData":try{Te=new ImageData(H(K.data,U,re),K.width,K.height,{colorSpace:K.colorSpace})}catch(w){Te=Ye(K,Ae)}break;default:if(We)Te=We(K);else switch(Ae){case"BigInt":Te=$(K.valueOf());break;case"Boolean":Te=$(me(K));break;case"Number":Te=$(ve(K));break;case"String":Te=$(Re(K));break;case"Date":Te=new W(Oe(K));break;case"Blob":try{Te=K.slice(0,K.size,K.type)}catch(w){ze(Ae)}break;case"DOMPoint":case"DOMPointReadOnly":Ee=k[Ae];try{Te=Ee.fromPoint?Ee.fromPoint(K):new Ee(K.x,K.y,K.z,K.w)}catch(w){ze(Ae)}break;case"DOMRect":case"DOMRectReadOnly":Ee=k[Ae];try{Te=Ee.fromRect?Ee.fromRect(K):new Ee(K.x,K.y,K.width,K.height)}catch(w){ze(Ae)}break;case"DOMMatrix":case"DOMMatrixReadOnly":Ee=k[Ae];try{Te=Ee.fromMatrix?Ee.fromMatrix(K):new Ee(K)}catch(w){ze(Ae)}break;case"AudioData":case"VideoFrame":n(K.clone)||ze(Ae);try{Te=K.clone()}catch(w){_e(Ae)}break;case"CropTarget":case"CryptoKey":case"FileSystemDirectoryHandle":case"FileSystemFileHandle":case"FileSystemHandle":case"GPUCompilationInfo":case"GPUCompilationMessage":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":ze(Ae);default:_e(Ae)}}switch(j(U,K,Te),Ae){case"Array":case"Object":for(Be=pe(K),ke=0,Ue=c(Be);ke<Ue;ke++)ie=Be[ke],A(Te,ie,H(K[ie],U,re));break;case"Map":K.forEach(function(w,G){j(Te,H(G,U,re),H(w,U,re))});break;case"Set":K.forEach(function(w){q(Te,H(w,U,re))});break;case"Error":b(Te,"message",H(K.message,U,re)),v(K,"cause")&&b(Te,"cause",H(K.cause,U,re)),we==="AggregateError"&&(Te.errors=H(K.errors,U,re));case"DOMException":D&&b(Te,"stack",H(K.stack,U,re))}return Te},X=function(K,U){if(!d(K))return K;if(B(U,K))return F(U,K);var re,Ae,Ee,we,Te,Ne,ke,Ue;if(K instanceof V)switch(re=K.type,Ae=K.object,re){case"ArrayBuffer":case"SharedArrayBuffer":Ue=Ze(Ae,U,re);break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float16Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":Ee=K.metadata,Ue=Xe(Ae,re,Ee.offset,Ee.length,U)}else switch(g(K)){case"Array":case"Object":for(Ne=pe(K),we=0,Te=c(Ne);we<Te;we++)ke=Ne[we],K[ke]=X(K[ke],U);break;case"Map":Ue=new O,K.forEach(function(Be,ie){j(Ue,X(ie,U),X(Be,U))});break;case"Set":Ue=new ae,K.forEach(function(Be){q(Ue,X(Be,U))});break;case"Error":K.message=X(K.message,U),v(K,"cause")&&(K.cause=X(K.cause,U)),K.name==="AggregateError"&&(K.errors=X(K.errors,U));case"DOMException":D&&(K.stack=X(K.stack,U))}return j(U,K,Ue||K),Ue||K},de=function(K,U){if(!d(K))throw oe("Transfer option cannot be converted to a sequence");var re=[];r(K,function(w){ne(re,o(w))});for(var Ae=0,Ee=c(re),we=[],Te,Ne,ke,Ue,Be,ie;Ae<Ee;){if(Te=re[Ae++],Ne=g(Te),Ne==="ArrayBuffer"){ne(we,Te);continue}if(B(U,Te))throw new R("Duplicate transferable",Le);if(I)Ue=Ce(Te,{transfer:[Te]});else switch(Ne){case"ImageBitmap":ke=k.OffscreenCanvas,p(ke)||ze(Ne,ue);try{Be=new ke(Te.width,Te.height),ie=Be.getContext("bitmaprenderer"),ie.transferFromImageBitmap(Te),Ue=Be.transferToImageBitmap()}catch(w){}break;case"AudioData":case"VideoFrame":(!n(Te.clone)||!n(Te.close))&&ze(Ne,ue);try{Ue=Te.clone(),Te.close()}catch(w){}break;case"MediaSourceHandle":case"MessagePort":case"OffscreenCanvas":case"ReadableStream":case"TransformStream":case"WritableStream":ze(Ne,ue)}if(Ue===void 0)throw new R("This object cannot be transferred: "+Ne,Le);j(U,Te,Ue)}return we},Se=function(K,U){for(var re=0,Ae=c(K),Ee,we;re<Ae;){if(Ee=K[re++],B(U,Ee))throw new R("Duplicate transferable",Le);I?we=Ce(Ee,{transfer:[Ee]}):(n(Ee.transfer)||ze("ArrayBuffer",ue),we=Ee.transfer()),j(U,Ee,we)}};y({global:!0,enumerable:!0,sham:!I,forced:Me},{structuredClone:function(U){var re=a(arguments.length,1)>1&&!h(arguments[1])?o(arguments[1]):void 0,Ae=re?re.transfer:void 0,Ee=!1,we,Te;Ae!==void 0&&(we=new O,Te=de(Ae,we),Ee=!!c(Te));var Ne=H(U,we,Ee);return Ee&&(we=new O,Se(Ae,we),Ne=X(Ne,we)),Ne}})},(N,C,e)=>{var u=e(14),y=e(7),k=e(21),f=e(78),m=e(24),t=e(51),i=function(){},n=[],p=m("Reflect","construct"),h=/^\s*(?:class|function)\b/,d=u(h.exec),s=!h.exec(i),r=function(v){if(!k(v))return!1;try{return p(i,n,v),!0}catch(A){return!1}},o=function(v){if(!k(v))return!1;switch(f(v)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return s||!!d(h,t(v))}catch(A){return!0}};o.sham=!0,N.exports=!p||y(function(){var g;return r(r.call)||!r(Object)||!r(function(){g=!0})||g})?o:r},(N,C,e)=>{var u=e(99),y=e(8),k=e(47),f=e(32),m=e(155),t=e(64),i=e(25),n=e(157),p=e(158),h=e(140),d=TypeError,s=function(o,g){this.stopped=o,this.result=g},r=s.prototype;N.exports=function(o,g,v){var A=v&&v.that,b=!!(v&&v.AS_ENTRIES),c=!!(v&&v.IS_RECORD),a=!!(v&&v.IS_ITERATOR),x=!!(v&&v.INTERRUPTED),T=u(g,A),S,D,I,$,Z,W,Q,he=function(z){return S&&h(S,"normal",z),new s(!0,z)},Y=function(z){return b?(k(z),x?T(z[0],z[1],he):T(z[0],z[1])):x?T(z,he):T(z)};if(c)S=o.iterator;else if(a)S=o;else{if(D=p(o),!D)throw d(f(o)+" is not iterable");if(m(D)){for(I=0,$=t(o);$>I;I++)if(Z=Y(o[I]),Z&&i(r,Z))return Z;return new s(!1)}S=n(o,D)}for(W=c?o.next:S.next;!(Q=y(W,S)).done;){try{Z=Y(Q.value)}catch(z){h(S,"throw",z)}if(typeof Z=="object"&&Z&&i(r,Z))return Z}return new s(!1)}},(N,C,e)=>{var u=e(34),y=e(156),k=u("iterator"),f=Array.prototype;N.exports=function(m){return m!==void 0&&(y.Array===m||f[k]===m)}},N=>{N.exports={}},(N,C,e)=>{var u=e(8),y=e(31),k=e(47),f=e(32),m=e(158),t=TypeError;N.exports=function(i,n){var p=arguments.length<2?m(i):n;if(y(p))return k(u(p,i));throw t(f(i)+" is not iterable")}},(N,C,e)=>{var u=e(78),y=e(30),k=e(17),f=e(156),m=e(34),t=m("iterator");N.exports=function(i){if(!k(i))return y(i,t)||y(i,"@@iterator")||f[u(i)]}},(N,C,e)=>{var u=e(18),y=e(45),k=e(11);N.exports=function(f,m,t){var i=u(m);i in f?y.f(f,i,k(0,t)):f[i]=t}},(N,C,e)=>{var u=e(8),y=e(39),k=e(25),f=e(161),m=RegExp.prototype;N.exports=function(t){var i=t.flags;return i===void 0&&!("flags"in m)&&!y(t,"flags")&&k(m,t)?u(f,t):i}},(N,C,e)=>{var u=e(47);N.exports=function(){var y=u(this),k="";return y.hasIndices&&(k+="d"),y.global&&(k+="g"),y.ignoreCase&&(k+="i"),y.multiline&&(k+="m"),y.dotAll&&(k+="s"),y.unicode&&(k+="u"),y.unicodeSets&&(k+="v"),y.sticky&&(k+="y"),k}},(N,C,e)=>{var u=e(14),y=Map.prototype;N.exports={Map,set:u(y.set),get:u(y.get),has:u(y.has),remove:u(y.delete),proto:y}},(N,C,e)=>{var i,n,p,er,d;Object.defineProperty(C,"__esModule",{value:!0}),C.SerializableEmpty=C.PrintAnnotationStorage=C.AnnotationStorage=void 0,e(89),e(149),e(152);var u=e(1),y=e(164),k=e(170);const f=Object.freeze({map:null,hash:"",transfers:void 0});C.SerializableEmpty=f;class m{constructor(){_(this,p);_(this,i,!1);_(this,n,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(r,o){const g=l(this,n).get(r);return g===void 0?o:Object.assign(o,g)}getRawValue(r){return l(this,n).get(r)}remove(r){if(l(this,n).delete(r),l(this,n).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const o of l(this,n).values())if(o instanceof y.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(r,o){const g=l(this,n).get(r);let v=!1;if(g!==void 0)for(const[A,b]of Object.entries(o))g[A]!==b&&(v=!0,g[A]=b);else v=!0,l(this,n).set(r,o);v&&J(this,p,er).call(this),o instanceof y.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(o.constructor._type)}has(r){return l(this,n).has(r)}getAll(){return l(this,n).size>0?(0,u.objectFromMap)(l(this,n)):null}setAll(r){for(const[o,g]of Object.entries(r))this.setValue(o,g)}get size(){return l(this,n).size}resetModified(){l(this,i)&&(ce(this,i,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new t(this)}get serializable(){if(l(this,n).size===0)return f;const r=new Map,o=new k.MurmurHash3_64,g=[],v=Object.create(null);let A=!1;for(const[b,c]of l(this,n)){const a=c instanceof y.AnnotationEditor?c.serialize(!1,v):c;a&&(r.set(b,a),o.update("".concat(b,":").concat(JSON.stringify(a))),A||(A=!!a.bitmap))}if(A)for(const b of r.values())b.bitmap&&g.push(b.bitmap);return r.size>0?{map:r,hash:o.hexdigest(),transfers:g}:f}}i=new WeakMap,n=new WeakMap,p=new WeakSet,er=function(){l(this,i)||(ce(this,i,!0),typeof this.onSetModified=="function"&&this.onSetModified())},C.AnnotationStorage=m;class t extends m{constructor(o){super();_(this,d,void 0);const{map:g,hash:v,transfers:A}=o.serializable,b=structuredClone(g,null);ce(this,d,{map:b,hash:v,transfers:A})}get print(){(0,u.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return l(this,d)}}d=new WeakMap,C.PrintAnnotationStorage=t},(N,C,e)=>{var t,i,n,p,h,d,s,r,o,g,v,A,b,c,a,Zt,T,jt,D,qt,$,en,W,tr,he,nr,z,rr,oe,tn,Pe,ir;Object.defineProperty(C,"__esModule",{value:!0}),C.AnnotationEditor=void 0,e(89),e(2);var u=e(165),y=e(1),k=e(168);const P=class P{constructor(E){_(this,a);_(this,T);_(this,$);_(this,W);_(this,he);_(this,z);_(this,oe);_(this,Pe);_(this,t,"");_(this,i,!1);_(this,n,null);_(this,p,null);_(this,h,null);_(this,d,!1);_(this,s,null);_(this,r,this.focusin.bind(this));_(this,o,this.focusout.bind(this));_(this,g,!1);_(this,v,!1);_(this,A,!1);tt(this,"_initialOptions",Object.create(null));tt(this,"_uiManager",null);tt(this,"_focusEventsAllowed",!0);tt(this,"_l10nPromise",null);_(this,b,!1);_(this,c,P._zIndex++);this.constructor===P&&(0,y.unreachable)("Cannot initialize AnnotationEditor."),this.parent=E.parent,this.id=E.id,this.width=this.height=null,this.pageIndex=E.parent.pageIndex,this.name=E.name,this.div=null,this._uiManager=E.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=E.isCentered,this._structTreeParentId=null;const{rotation:R,rawDims:{pageWidth:O,pageHeight:B,pageX:F,pageY:j}}=this.parent.viewport;this.rotation=R,this.pageRotation=(360+R-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[O,B],this.pageTranslation=[F,j];const[ae,q]=this.parentDimensions;this.x=E.x/ae,this.y=E.y/q,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,y.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(E){const R=new m({id:E.parent.getNextId(),parent:E.parent,uiManager:E._uiManager});R.annotationElementId=E.annotationElementId,R.deleted=!0,R._uiManager.addToAnnotationStorage(R)}static initialize(E){let R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(P._l10nPromise||(P._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(B=>[B,E.get(B)]))),R!=null&&R.strings)for(const B of R.strings)P._l10nPromise.set(B,E.get(B));if(P._borderLineWidth!==-1)return;const O=getComputedStyle(document.documentElement);P._borderLineWidth=parseFloat(O.getPropertyValue("--outline-width"))||0}static updateDefaultParams(E,R){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(E){return!1}static paste(E,R){(0,y.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return l(this,b)}set _isDraggable(E){var R;ce(this,b,E),(R=this.div)==null||R.classList.toggle("draggable",E)}center(){const[E,R]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*R/(E*2),this.y+=this.width*E/(R*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*R/(E*2),this.y-=this.width*E/(R*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(E){this._uiManager.addCommands(E)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=l(this,c)}setParent(E){E!==null&&(this.pageIndex=E.pageIndex,this.pageDimensions=E.pageDimensions),this.parent=E}focusin(E){this._focusEventsAllowed&&(l(this,g)?ce(this,g,!1):this.parent.setSelected(this))}focusout(E){var O;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const R=E.relatedTarget;R!=null&&R.closest("#".concat(this.id))||(E.preventDefault(),(O=this.parent)!=null&&O.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(E,R,O,B){const[F,j]=this.parentDimensions;[O,B]=this.screenToPageTranslation(O,B),this.x=(E+O)/F,this.y=(R+B)/j,this.fixAndSetPosition()}translate(E,R){J(this,a,Zt).call(this,this.parentDimensions,E,R)}translateInPage(E,R){J(this,a,Zt).call(this,this.pageDimensions,E,R),this.div.scrollIntoView({block:"nearest"})}drag(E,R){const[O,B]=this.parentDimensions;if(this.x+=E/O,this.y+=R/B,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:pe,y:ne}=this.div.getBoundingClientRect();this.parent.findNewParent(this,pe,ne)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:F,y:j}=this;const[ae,q]=J(this,T,jt).call(this);F+=ae,j+=q,this.div.style.left="".concat((100*F).toFixed(2),"%"),this.div.style.top="".concat((100*j).toFixed(2),"%"),this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[E,R]=this.pageDimensions;let{x:O,y:B,width:F,height:j}=this;switch(F*=E,j*=R,O*=E,B*=R,this.rotation){case 0:O=Math.max(0,Math.min(E-F,O)),B=Math.max(0,Math.min(R-j,B));break;case 90:O=Math.max(0,Math.min(E-j,O)),B=Math.min(R,Math.max(F,B));break;case 180:O=Math.min(E,Math.max(F,O)),B=Math.min(R,Math.max(j,B));break;case 270:O=Math.min(E,Math.max(j,O)),B=Math.max(0,Math.min(R-F,B));break}this.x=O/=E,this.y=B/=R;const[ae,q]=J(this,T,jt).call(this);O+=ae,B+=q;const{style:pe}=this.div;pe.left="".concat((100*O).toFixed(2),"%"),pe.top="".concat((100*B).toFixed(2),"%"),this.moveInDOM()}screenToPageTranslation(E,R){var O;return J(O=P,D,qt).call(O,E,R,this.parentRotation)}pageTranslationToScreen(E,R){var O;return J(O=P,D,qt).call(O,E,R,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:E,pageDimensions:[R,O]}=this,B=R*E,F=O*E;return y.FeatureTest.isCSSRoundSupported?[Math.round(B),Math.round(F)]:[B,F]}setDims(E,R){var F;const[O,B]=this.parentDimensions;this.div.style.width="".concat((100*E/O).toFixed(2),"%"),l(this,d)||(this.div.style.height="".concat((100*R/B).toFixed(2),"%")),(F=l(this,n))==null||F.classList.toggle("small",E<P.SMALL_EDITOR_SIZE||R<P.SMALL_EDITOR_SIZE)}fixDims(){const{style:E}=this.div,{height:R,width:O}=E,B=O.endsWith("%"),F=!l(this,d)&&R.endsWith("%");if(B&&F)return;const[j,ae]=this.parentDimensions;B||(E.width="".concat((100*parseFloat(O)/j).toFixed(2),"%")),!l(this,d)&&!F&&(E.height="".concat((100*parseFloat(R)/ae).toFixed(2),"%"))}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(l(this,n))return;const E=ce(this,n,document.createElement("button"));E.className="altText";const R=await P._l10nPromise.get("editor_alt_text_button_label");E.textContent=R,E.setAttribute("aria-label",R),E.tabIndex="0",E.addEventListener("contextmenu",k.noContextMenu),E.addEventListener("pointerdown",O=>O.stopPropagation()),E.addEventListener("click",O=>{O.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),E.addEventListener("keydown",O=>{O.target===E&&O.key==="Enter"&&(O.preventDefault(),this._uiManager.editAltText(this))}),J(this,oe,tn).call(this),this.div.append(E),P.SMALL_EDITOR_SIZE||(P.SMALL_EDITOR_SIZE=Math.min(128,Math.round(E.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:l(this,t),decorative:l(this,i)}}set altTextData(E){let{altText:R,decorative:O}=E;l(this,t)===R&&l(this,i)===O||(ce(this,t,R),ce(this,i,O),J(this,oe,tn).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",l(this,r)),this.div.addEventListener("focusout",l(this,o));const[E,R]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth="".concat((100*R/E).toFixed(2),"%"),this.div.style.maxHeight="".concat((100*E/R).toFixed(2),"%"));const[O,B]=this.getInitialTranslation();return this.translate(O,B),(0,u.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(E){const{isMac:R}=y.FeatureTest.platform;if(E.button!==0||E.ctrlKey&&R){E.preventDefault();return}ce(this,g,!0),J(this,Pe,ir).call(this,E)}moveInDOM(){var E;(E=this.parent)==null||E.moveEditorInDOM(this)}_setParentAndPosition(E,R,O){E.changeParent(this),this.x=R,this.y=O,this.fixAndSetPosition()}getRect(E,R){const O=this.parentScale,[B,F]=this.pageDimensions,[j,ae]=this.pageTranslation,q=E/O,pe=R/O,ne=this.x*B,me=this.y*F,ve=this.width*B,Re=this.height*F;switch(this.rotation){case 0:return[ne+q+j,F-me-pe-Re+ae,ne+q+ve+j,F-me-pe+ae];case 90:return[ne+pe+j,F-me+q+ae,ne+pe+Re+j,F-me+q+ve+ae];case 180:return[ne-q-ve+j,F-me+pe+ae,ne-q+j,F-me+pe+Re+ae];case 270:return[ne-pe-Re+j,F-me-q-ve+ae,ne-pe+j,F-me-q+ae];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(E,R){const[O,B,F,j]=E,ae=F-O,q=j-B;switch(this.rotation){case 0:return[O,R-j,ae,q];case 90:return[O,R-B,q,ae];case 180:return[F,R-B,ae,q];case 270:return[F,R-j,q,ae];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){ce(this,A,!0)}disableEditMode(){ce(this,A,!1)}isInEditMode(){return l(this,A)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var E,R;(E=this.div)==null||E.addEventListener("focusin",l(this,r)),(R=this.div)==null||R.addEventListener("focusout",l(this,o))}serialize(){(0,y.unreachable)("An editor must be serializable")}static deserialize(E,R,O){const B=new this.prototype.constructor({parent:R,id:R.getNextId(),uiManager:O});B.rotation=E.rotation;const[F,j]=B.pageDimensions,[ae,q,pe,ne]=B.getRectInCurrentCoords(E.rect,j);return B.x=ae/F,B.y=q/j,B.width=pe/F,B.height=ne/j,B}remove(){var E;this.div.removeEventListener("focusin",l(this,r)),this.div.removeEventListener("focusout",l(this,o)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(E=l(this,n))==null||E.remove(),ce(this,n,null),ce(this,p,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(J(this,W,tr).call(this),l(this,s).classList.remove("hidden"))}select(){var E;this.makeResizable(),(E=this.div)==null||E.classList.add("selectedEditor")}unselect(){var E,R,O;(E=l(this,s))==null||E.classList.add("hidden"),(R=this.div)==null||R.classList.remove("selectedEditor"),(O=this.div)!=null&&O.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(E,R){}disableEditing(){l(this,n)&&(l(this,n).hidden=!0)}enableEditing(){l(this,n)&&(l(this,n).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return l(this,v)}set isEditing(E){ce(this,v,E),this.parent&&(E?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(E,R){ce(this,d,!0);const O=E/R,{style:B}=this.div;B.aspectRatio=O,B.height="auto"}static get MIN_SIZE(){return 16}};t=new WeakMap,i=new WeakMap,n=new WeakMap,p=new WeakMap,h=new WeakMap,d=new WeakMap,s=new WeakMap,r=new WeakMap,o=new WeakMap,g=new WeakMap,v=new WeakMap,A=new WeakMap,b=new WeakMap,c=new WeakMap,a=new WeakSet,Zt=function(E,R,O){let[B,F]=E;[R,O]=this.screenToPageTranslation(R,O),this.x+=R/B,this.y+=O/F,this.fixAndSetPosition()},T=new WeakSet,jt=function(){const[E,R]=this.parentDimensions,{_borderLineWidth:O}=P,B=O/E,F=O/R;switch(this.rotation){case 90:return[-B,F];case 180:return[B,F];case 270:return[B,-F];default:return[-B,-F]}},D=new WeakSet,qt=function(E,R,O){switch(O){case 90:return[R,-E];case 180:return[-E,-R];case 270:return[-R,E];default:return[E,R]}},$=new WeakSet,en=function(E){switch(E){case 90:{const[R,O]=this.pageDimensions;return[0,-R/O,O/R,0]}case 180:return[-1,0,0,-1];case 270:{const[R,O]=this.pageDimensions;return[0,R/O,-O/R,0]}default:return[1,0,0,1]}},W=new WeakSet,tr=function(){if(l(this,s))return;ce(this,s,document.createElement("div")),l(this,s).classList.add("resizers");const E=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||E.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const R of E){const O=document.createElement("div");l(this,s).append(O),O.classList.add("resizer",R),O.addEventListener("pointerdown",J(this,he,nr).bind(this,R)),O.addEventListener("contextmenu",k.noContextMenu)}this.div.prepend(l(this,s))},he=new WeakSet,nr=function(E,R){R.preventDefault();const{isMac:O}=y.FeatureTest.platform;if(R.button!==0||R.ctrlKey&&O)return;const B=J(this,z,rr).bind(this,E),F=this._isDraggable;this._isDraggable=!1;const j={passive:!0,capture:!0};window.addEventListener("pointermove",B,j);const ae=this.x,q=this.y,pe=this.width,ne=this.height,me=this.parent.div.style.cursor,ve=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(R.target).cursor;const Re=()=>{this._isDraggable=F,window.removeEventListener("pointerup",Re),window.removeEventListener("blur",Re),window.removeEventListener("pointermove",B,j),this.parent.div.style.cursor=me,this.div.style.cursor=ve;const Oe=this.x,Ie=this.y,Le=this.width,ue=this.height;Oe===ae&&Ie===q&&Le===pe&&ue===ne||this.addCommands({cmd:()=>{this.width=Le,this.height=ue,this.x=Oe,this.y=Ie;const[ee,le]=this.parentDimensions;this.setDims(ee*Le,le*ue),this.fixAndSetPosition()},undo:()=>{this.width=pe,this.height=ne,this.x=ae,this.y=q;const[ee,le]=this.parentDimensions;this.setDims(ee*pe,le*ne),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",Re),window.addEventListener("blur",Re)},z=new WeakSet,rr=function(E,R){const[O,B]=this.parentDimensions,F=this.x,j=this.y,ae=this.width,q=this.height,pe=P.MIN_SIZE/O,ne=P.MIN_SIZE/B,me=X=>Math.round(X*1e4)/1e4,ve=J(this,$,en).call(this,this.rotation),Re=(X,de)=>[ve[0]*X+ve[2]*de,ve[1]*X+ve[3]*de],Oe=J(this,$,en).call(this,360-this.rotation),Ie=(X,de)=>[Oe[0]*X+Oe[2]*de,Oe[1]*X+Oe[3]*de];let Le,ue,ee=!1,le=!1;switch(E){case"topLeft":ee=!0,Le=(X,de)=>[0,0],ue=(X,de)=>[X,de];break;case"topMiddle":Le=(X,de)=>[X/2,0],ue=(X,de)=>[X/2,de];break;case"topRight":ee=!0,Le=(X,de)=>[X,0],ue=(X,de)=>[0,de];break;case"middleRight":le=!0,Le=(X,de)=>[X,de/2],ue=(X,de)=>[0,de/2];break;case"bottomRight":ee=!0,Le=(X,de)=>[X,de],ue=(X,de)=>[0,0];break;case"bottomMiddle":Le=(X,de)=>[X/2,de],ue=(X,de)=>[X/2,0];break;case"bottomLeft":ee=!0,Le=(X,de)=>[0,de],ue=(X,de)=>[X,0];break;case"middleLeft":le=!0,Le=(X,de)=>[0,de/2],ue=(X,de)=>[X,de/2];break}const ge=Le(ae,q),Ce=ue(ae,q);let Me=Re(...Ce);const He=me(F+Me[0]),We=me(j+Me[1]);let _e=1,ze=1,[Ye,Je]=this.screenToPageTranslation(R.movementX,R.movementY);if([Ye,Je]=Ie(Ye/O,Je/B),ee){const X=Math.hypot(ae,q);_e=ze=Math.max(Math.min(Math.hypot(Ce[0]-ge[0]-Ye,Ce[1]-ge[1]-Je)/X,1/ae,1/q),pe/ae,ne/q)}else le?_e=Math.max(pe,Math.min(1,Math.abs(Ce[0]-ge[0]-Ye)))/ae:ze=Math.max(ne,Math.min(1,Math.abs(Ce[1]-ge[1]-Je)))/q;const Ze=me(ae*_e),Xe=me(q*ze);Me=Re(...ue(Ze,Xe));const V=He-Me[0],H=We-Me[1];this.width=Ze,this.height=Xe,this.x=V,this.y=H,this.setDims(O*Ze,B*Xe),this.fixAndSetPosition()},oe=new WeakSet,tn=async function(){var O;const E=l(this,n);if(!E)return;if(!l(this,t)&&!l(this,i)){E.classList.remove("done"),(O=l(this,p))==null||O.remove();return}P._l10nPromise.get("editor_alt_text_edit_button_label").then(B=>{E.setAttribute("aria-label",B)});let R=l(this,p);if(!R){ce(this,p,R=document.createElement("span")),R.className="tooltip",R.setAttribute("role","tooltip");const B=R.id="alt-text-tooltip-".concat(this.id);E.setAttribute("aria-describedby",B);const F=100;E.addEventListener("mouseenter",()=>{ce(this,h,setTimeout(()=>{ce(this,h,null),l(this,p).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},F))}),E.addEventListener("mouseleave",()=>{var j;clearTimeout(l(this,h)),ce(this,h,null),(j=l(this,p))==null||j.classList.remove("show")})}E.classList.add("done"),R.innerText=l(this,i)?await P._l10nPromise.get("editor_alt_text_decorative_tooltip"):l(this,t),R.parentNode||E.append(R)},Pe=new WeakSet,ir=function(E){if(!this._isDraggable)return;const R=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let O,B;R&&(O={passive:!0,capture:!0},B=j=>{const[ae,q]=this.screenToPageTranslation(j.movementX,j.movementY);this._uiManager.dragSelectedEditors(ae,q)},window.addEventListener("pointermove",B,O));const F=()=>{if(window.removeEventListener("pointerup",F),window.removeEventListener("blur",F),R&&window.removeEventListener("pointermove",B,O),ce(this,g,!1),!this._uiManager.endDragSession()){const{isMac:j}=y.FeatureTest.platform;E.ctrlKey&&!j||E.shiftKey||E.metaKey&&j?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",F),window.addEventListener("blur",F)},_(P,D),tt(P,"_borderLineWidth",-1),tt(P,"_colorManager",new u.ColorManager),tt(P,"_zIndex",1),tt(P,"SMALL_EDITOR_SIZE",0);let f=P;C.AnnotationEditor=f;class m extends f{constructor(E){super(E),this.annotationElementId=E.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(N,C,e)=>{var d,s,r,o,g,nn,b,c,a,x,T,sr,I,$,Z,W,Q,he,Y,z,te,oe,ye,Pe,L,P,M,E,R,O,B,F,j,ae,q,pe,ne,me,ve,Re,Oe,Ie,Le,ue,ee,le,ge,ar,Me,rn,We,sn,ze,It,Je,an,Xe,on,H,st,de,bt,K,or,re,lr,Ee,ln,Te,yt,ke,cn;Object.defineProperty(C,"__esModule",{value:!0}),C.KeyboardManager=C.CommandManager=C.ColorManager=C.AnnotationEditorUIManager=void 0,C.bindEvents=k,C.opacityToHex=f,e(93),e(101),e(102),e(105),e(107),e(109),e(113),e(116),e(123),e(2),e(89),e(125),e(136),e(138),e(141),e(143),e(145),e(147),e(166);var u=e(1),y=e(168);function k(ie,w,G){for(const se of G)w.addEventListener(se,ie[se].bind(ie))}function f(ie){return Math.round(Math.min(255,Math.max(1,255*ie))).toString(16).padStart(2,"0")}class m{constructor(){_(this,d,0)}getId(){return"".concat(u.AnnotationEditorPrefix).concat(ut(this,d)._++)}}d=new WeakMap;const A=class A{constructor(){_(this,g);_(this,s,(0,u.getUuid)());_(this,r,0);_(this,o,null)}static get _isSVGFittingCanvas(){const w='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',se=new OffscreenCanvas(1,3).getContext("2d"),fe=new Image;fe.src=w;const be=fe.decode().then(()=>(se.drawImage(fe,0,0,1,1,0,0,1,3),new Uint32Array(se.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,u.shadow)(this,"_isSVGFittingCanvas",be)}async getFromFile(w){const{lastModified:G,name:se,size:fe,type:be}=w;return J(this,g,nn).call(this,"".concat(G,"_").concat(se,"_").concat(fe,"_").concat(be),w)}async getFromUrl(w){return J(this,g,nn).call(this,w,w)}async getFromId(w){l(this,o)||ce(this,o,new Map);const G=l(this,o).get(w);return G?G.bitmap?(G.refCounter+=1,G):G.file?this.getFromFile(G.file):this.getFromUrl(G.url):null}getSvgUrl(w){const G=l(this,o).get(w);return G!=null&&G.isSvg?G.svgUrl:null}deleteId(w){l(this,o)||ce(this,o,new Map);const G=l(this,o).get(w);G&&(G.refCounter-=1,G.refCounter===0&&(G.bitmap=null))}isValidId(w){return w.startsWith("image_".concat(l(this,s),"_"))}};s=new WeakMap,r=new WeakMap,o=new WeakMap,g=new WeakSet,nn=async function(w,G){l(this,o)||ce(this,o,new Map);let se=l(this,o).get(w);if(se===null)return null;if(se!=null&&se.bitmap)return se.refCounter+=1,se;try{se||(se={bitmap:null,id:"image_".concat(l(this,s),"_").concat(ut(this,r)._++),refCounter:0,isSvg:!1});let fe;if(typeof G=="string"){se.url=G;const be=await fetch(G);if(!be.ok)throw new Error(be.statusText);fe=await be.blob()}else fe=se.file=G;if(fe.type==="image/svg+xml"){const be=A._isSVGFittingCanvas,xe=new FileReader,De=new Image,Ve=new Promise((Fe,je)=>{De.onload=()=>{se.bitmap=De,se.isSvg=!0,Fe()},xe.onload=async()=>{const Ge=se.svgUrl=xe.result;De.src=await be?"".concat(Ge,"#svgView(preserveAspectRatio(none))"):Ge},De.onerror=xe.onerror=je});xe.readAsDataURL(fe),await Ve}else se.bitmap=await createImageBitmap(fe);se.refCounter=1}catch(fe){console.error(fe),se=null}return l(this,o).set(w,se),se&&l(this,o).set(se.id,se),se};let t=A;class i{constructor(){_(this,b,[]);_(this,c,!1);_(this,a,void 0);_(this,x,-1);let w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:128;ce(this,a,w)}add(w){let{cmd:G,undo:se,mustExec:fe,type:be=NaN,overwriteIfSameType:xe=!1,keepUndo:De=!1}=w;if(fe&&G(),l(this,c))return;const Ve={cmd:G,undo:se,type:be};if(l(this,x)===-1){l(this,b).length>0&&(l(this,b).length=0),ce(this,x,0),l(this,b).push(Ve);return}if(xe&&l(this,b)[l(this,x)].type===be){De&&(Ve.undo=l(this,b)[l(this,x)].undo),l(this,b)[l(this,x)]=Ve;return}const Fe=l(this,x)+1;Fe===l(this,a)?l(this,b).splice(0,1):(ce(this,x,Fe),Fe<l(this,b).length&&l(this,b).splice(Fe)),l(this,b).push(Ve)}undo(){l(this,x)!==-1&&(ce(this,c,!0),l(this,b)[l(this,x)].undo(),ce(this,c,!1),ce(this,x,l(this,x)-1))}redo(){l(this,x)<l(this,b).length-1&&(ce(this,x,l(this,x)+1),ce(this,c,!0),l(this,b)[l(this,x)].cmd(),ce(this,c,!1))}hasSomethingToUndo(){return l(this,x)!==-1}hasSomethingToRedo(){return l(this,x)<l(this,b).length-1}destroy(){ce(this,b,null)}}b=new WeakMap,c=new WeakMap,a=new WeakMap,x=new WeakMap,C.CommandManager=i;class n{constructor(w){_(this,T);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:G}=u.FeatureTest.platform;for(const[se,fe,be={}]of w)for(const xe of se){const De=xe.startsWith("mac+");G&&De?(this.callbacks.set(xe.slice(4),{callback:fe,options:be}),this.allKeys.add(xe.split("+").at(-1))):!G&&!De&&(this.callbacks.set(xe,{callback:fe,options:be}),this.allKeys.add(xe.split("+").at(-1)))}}exec(w,G){if(!this.allKeys.has(G.key))return;const se=this.callbacks.get(J(this,T,sr).call(this,G));if(!se)return;const{callback:fe,options:{bubbles:be=!1,args:xe=[],checker:De=null}}=se;De&&!De(w,G)||(fe.bind(w,...xe)(),be||(G.stopPropagation(),G.preventDefault()))}}T=new WeakSet,sr=function(w){w.altKey&&this.buffer.push("alt"),w.ctrlKey&&this.buffer.push("ctrl"),w.metaKey&&this.buffer.push("meta"),w.shiftKey&&this.buffer.push("shift"),this.buffer.push(w.key);const G=this.buffer.join("+");return this.buffer.length=0,G},C.KeyboardManager=n;const D=class D{get _colors(){const w=new Map([["CanvasText",null],["Canvas",null]]);return(0,y.getColorValues)(w),(0,u.shadow)(this,"_colors",w)}convert(w){const G=(0,y.getRGB)(w);if(!window.matchMedia("(forced-colors: active)").matches)return G;for(const[se,fe]of this._colors)if(fe.every((be,xe)=>be===G[xe]))return D._colorsMapping.get(se);return G}getHexCode(w){const G=this._colors.get(w);return G?u.Util.makeHexColor(...G):w}};tt(D,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let p=D;C.ColorManager=p;const Be=class Be{constructor(w,G,se,fe,be,xe){_(this,ge);_(this,Me);_(this,We);_(this,ze);_(this,Je);_(this,Xe);_(this,H);_(this,de);_(this,K);_(this,re);_(this,Ee);_(this,Te);_(this,ke);_(this,I,null);_(this,$,new Map);_(this,Z,new Map);_(this,W,null);_(this,Q,null);_(this,he,new i);_(this,Y,0);_(this,z,new Set);_(this,te,null);_(this,oe,null);_(this,ye,new Set);_(this,Pe,null);_(this,L,new m);_(this,P,!1);_(this,M,!1);_(this,E,null);_(this,R,u.AnnotationEditorType.NONE);_(this,O,new Set);_(this,B,null);_(this,F,this.blur.bind(this));_(this,j,this.focus.bind(this));_(this,ae,this.copy.bind(this));_(this,q,this.cut.bind(this));_(this,pe,this.paste.bind(this));_(this,ne,this.keydown.bind(this));_(this,me,this.onEditingAction.bind(this));_(this,ve,this.onPageChanging.bind(this));_(this,Re,this.onScaleChanging.bind(this));_(this,Oe,this.onRotationChanging.bind(this));_(this,Ie,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});_(this,Le,[0,0]);_(this,ue,null);_(this,ee,null);_(this,le,null);ce(this,ee,w),ce(this,le,G),ce(this,W,se),this._eventBus=fe,this._eventBus._on("editingaction",l(this,me)),this._eventBus._on("pagechanging",l(this,ve)),this._eventBus._on("scalechanging",l(this,Re)),this._eventBus._on("rotationchanging",l(this,Oe)),ce(this,Q,be.annotationStorage),ce(this,Pe,be.filterFactory),ce(this,B,xe),this.viewParameters={realScale:y.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const w=Be.prototype,G=be=>{const{activeElement:xe}=document;return xe&&l(be,ee).contains(xe)&&be.hasSomethingToControl()},se=this.TRANSLATE_SMALL,fe=this.TRANSLATE_BIG;return(0,u.shadow)(this,"_keyboardManager",new n([[["ctrl+a","mac+meta+a"],w.selectAll],[["ctrl+z","mac+meta+z"],w.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],w.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],w.delete],[["Escape","mac+Escape"],w.unselectAll],[["ArrowLeft","mac+ArrowLeft"],w.translateSelectedEditors,{args:[-se,0],checker:G}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],w.translateSelectedEditors,{args:[-fe,0],checker:G}],[["ArrowRight","mac+ArrowRight"],w.translateSelectedEditors,{args:[se,0],checker:G}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],w.translateSelectedEditors,{args:[fe,0],checker:G}],[["ArrowUp","mac+ArrowUp"],w.translateSelectedEditors,{args:[0,-se],checker:G}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],w.translateSelectedEditors,{args:[0,-fe],checker:G}],[["ArrowDown","mac+ArrowDown"],w.translateSelectedEditors,{args:[0,se],checker:G}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],w.translateSelectedEditors,{args:[0,fe],checker:G}]]))}destroy(){J(this,ze,It).call(this),J(this,Me,rn).call(this),this._eventBus._off("editingaction",l(this,me)),this._eventBus._off("pagechanging",l(this,ve)),this._eventBus._off("scalechanging",l(this,Re)),this._eventBus._off("rotationchanging",l(this,Oe));for(const w of l(this,Z).values())w.destroy();l(this,Z).clear(),l(this,$).clear(),l(this,ye).clear(),ce(this,I,null),l(this,O).clear(),l(this,he).destroy(),l(this,W).destroy()}get hcmFilter(){return(0,u.shadow)(this,"hcmFilter",l(this,B)?l(this,Pe).addHCMFilter(l(this,B).foreground,l(this,B).background):"none")}get direction(){return(0,u.shadow)(this,"direction",getComputedStyle(l(this,ee)).direction)}editAltText(w){var G;(G=l(this,W))==null||G.editAltText(this,w)}onPageChanging(w){let{pageNumber:G}=w;ce(this,Y,G-1)}focusMainContainer(){l(this,ee).focus()}findParent(w,G){for(const se of l(this,Z).values()){const{x:fe,y:be,width:xe,height:De}=se.div.getBoundingClientRect();if(w>=fe&&w<=fe+xe&&G>=be&&G<=be+De)return se}return null}disableUserSelect(){let w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;l(this,le).classList.toggle("noUserSelect",w)}addShouldRescale(w){l(this,ye).add(w)}removeShouldRescale(w){l(this,ye).delete(w)}onScaleChanging(w){let{scale:G}=w;this.commitOrRemove(),this.viewParameters.realScale=G*y.PixelsPerInch.PDF_TO_CSS_UNITS;for(const se of l(this,ye))se.onScaleChanging()}onRotationChanging(w){let{pagesRotation:G}=w;this.commitOrRemove(),this.viewParameters.rotation=G}addToAnnotationStorage(w){!w.isEmpty()&&l(this,Q)&&!l(this,Q).has(w.id)&&l(this,Q).setValue(w.id,w)}blur(){if(!this.hasSelection)return;const{activeElement:w}=document;for(const G of l(this,O))if(G.div.contains(w)){ce(this,E,[G,w]),G._focusEventsAllowed=!1;break}}focus(){if(!l(this,E))return;const[w,G]=l(this,E);ce(this,E,null),G.addEventListener("focusin",()=>{w._focusEventsAllowed=!0},{once:!0}),G.focus()}addEditListeners(){J(this,We,sn).call(this),J(this,Je,an).call(this)}removeEditListeners(){J(this,ze,It).call(this),J(this,Xe,on).call(this)}copy(w){var se;if(w.preventDefault(),(se=l(this,I))==null||se.commitOrRemove(),!this.hasSelection)return;const G=[];for(const fe of l(this,O)){const be=fe.serialize(!0);be&&G.push(be)}G.length!==0&&w.clipboardData.setData("application/pdfjs",JSON.stringify(G))}cut(w){this.copy(w),this.delete()}paste(w){w.preventDefault();const{clipboardData:G}=w;for(const be of G.items)for(const xe of l(this,oe))if(xe.isHandlingMimeForPasting(be.type)){xe.paste(be,this.currentLayer);return}let se=G.getData("application/pdfjs");if(!se)return;try{se=JSON.parse(se)}catch(be){(0,u.warn)('paste: "'.concat(be.message,'".'));return}if(!Array.isArray(se))return;this.unselectAll();const fe=this.currentLayer;try{const be=[];for(const Ve of se){const Fe=fe.deserialize(Ve);if(!Fe)return;be.push(Fe)}const xe=()=>{for(const Ve of be)J(this,Ee,ln).call(this,Ve);J(this,ke,cn).call(this,be)},De=()=>{for(const Ve of be)Ve.remove()};this.addCommands({cmd:xe,undo:De,mustExec:!0})}catch(be){(0,u.warn)('paste: "'.concat(be.message,'".'))}}keydown(w){var G;(G=this.getActive())!=null&&G.shouldGetKeyboardEvents()||Be._keyboardManager.exec(this,w)}onEditingAction(w){["undo","redo","delete","selectAll"].includes(w.name)&&this[w.name]()}setEditingState(w){w?(J(this,ge,ar).call(this),J(this,We,sn).call(this),J(this,Je,an).call(this),J(this,H,st).call(this,{isEditing:l(this,R)!==u.AnnotationEditorType.NONE,isEmpty:J(this,Te,yt).call(this),hasSomethingToUndo:l(this,he).hasSomethingToUndo(),hasSomethingToRedo:l(this,he).hasSomethingToRedo(),hasSelectedEditor:!1})):(J(this,Me,rn).call(this),J(this,ze,It).call(this),J(this,Xe,on).call(this),J(this,H,st).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(w){if(!l(this,oe)){ce(this,oe,w);for(const G of l(this,oe))J(this,de,bt).call(this,G.defaultPropertiesToUpdate)}}getId(){return l(this,L).getId()}get currentLayer(){return l(this,Z).get(l(this,Y))}getLayer(w){return l(this,Z).get(w)}get currentPageIndex(){return l(this,Y)}addLayer(w){l(this,Z).set(w.pageIndex,w),l(this,P)?w.enable():w.disable()}removeLayer(w){l(this,Z).delete(w.pageIndex)}updateMode(w){let G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(l(this,R)!==w){if(ce(this,R,w),w===u.AnnotationEditorType.NONE){this.setEditingState(!1),J(this,re,lr).call(this);return}this.setEditingState(!0),J(this,K,or).call(this),this.unselectAll();for(const se of l(this,Z).values())se.updateMode(w);if(G){for(const se of l(this,$).values())if(se.annotationElementId===G){this.setSelected(se),se.enterInEditMode();break}}}}updateToolbar(w){w!==l(this,R)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:w})}updateParams(w,G){if(l(this,oe)){if(w===u.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(w);return}for(const se of l(this,O))se.updateParams(w,G);for(const se of l(this,oe))se.updateDefaultParams(w,G)}}enableWaiting(){let w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(l(this,M)!==w){ce(this,M,w);for(const G of l(this,Z).values())w?G.disableClick():G.enableClick(),G.div.classList.toggle("waiting",w)}}getEditors(w){const G=[];for(const se of l(this,$).values())se.pageIndex===w&&G.push(se);return G}getEditor(w){return l(this,$).get(w)}addEditor(w){l(this,$).set(w.id,w)}removeEditor(w){var G;l(this,$).delete(w.id),this.unselect(w),(!w.annotationElementId||!l(this,z).has(w.annotationElementId))&&((G=l(this,Q))==null||G.remove(w.id))}addDeletedAnnotationElement(w){l(this,z).add(w.annotationElementId),w.deleted=!0}isDeletedAnnotationElement(w){return l(this,z).has(w)}removeDeletedAnnotationElement(w){l(this,z).delete(w.annotationElementId),w.deleted=!1}setActiveEditor(w){l(this,I)!==w&&(ce(this,I,w),w&&J(this,de,bt).call(this,w.propertiesToUpdate))}toggleSelected(w){if(l(this,O).has(w)){l(this,O).delete(w),w.unselect(),J(this,H,st).call(this,{hasSelectedEditor:this.hasSelection});return}l(this,O).add(w),w.select(),J(this,de,bt).call(this,w.propertiesToUpdate),J(this,H,st).call(this,{hasSelectedEditor:!0})}setSelected(w){for(const G of l(this,O))G!==w&&G.unselect();l(this,O).clear(),l(this,O).add(w),w.select(),J(this,de,bt).call(this,w.propertiesToUpdate),J(this,H,st).call(this,{hasSelectedEditor:!0})}isSelected(w){return l(this,O).has(w)}unselect(w){w.unselect(),l(this,O).delete(w),J(this,H,st).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return l(this,O).size!==0}undo(){l(this,he).undo(),J(this,H,st).call(this,{hasSomethingToUndo:l(this,he).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:J(this,Te,yt).call(this)})}redo(){l(this,he).redo(),J(this,H,st).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:l(this,he).hasSomethingToRedo(),isEmpty:J(this,Te,yt).call(this)})}addCommands(w){l(this,he).add(w),J(this,H,st).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:J(this,Te,yt).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const w=[...l(this,O)],G=()=>{for(const fe of w)fe.remove()},se=()=>{for(const fe of w)J(this,Ee,ln).call(this,fe)};this.addCommands({cmd:G,undo:se,mustExec:!0})}commitOrRemove(){var w;(w=l(this,I))==null||w.commitOrRemove()}hasSomethingToControl(){return l(this,I)||this.hasSelection}selectAll(){for(const w of l(this,O))w.commit();J(this,ke,cn).call(this,l(this,$).values())}unselectAll(){if(l(this,I)){l(this,I).commitOrRemove();return}if(this.hasSelection){for(const w of l(this,O))w.unselect();l(this,O).clear(),J(this,H,st).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(w,G){if((arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1)||this.commitOrRemove(),!this.hasSelection)return;l(this,Le)[0]+=w,l(this,Le)[1]+=G;const[fe,be]=l(this,Le),xe=[...l(this,O)],De=1e3;l(this,ue)&&clearTimeout(l(this,ue)),ce(this,ue,setTimeout(()=>{ce(this,ue,null),l(this,Le)[0]=l(this,Le)[1]=0,this.addCommands({cmd:()=>{for(const Ve of xe)l(this,$).has(Ve.id)&&Ve.translateInPage(fe,be)},undo:()=>{for(const Ve of xe)l(this,$).has(Ve.id)&&Ve.translateInPage(-fe,-be)},mustExec:!1})},De));for(const Ve of xe)Ve.translateInPage(w,G)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),ce(this,te,new Map);for(const w of l(this,O))l(this,te).set(w,{savedX:w.x,savedY:w.y,savedPageIndex:w.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!l(this,te))return!1;this.disableUserSelect(!1);const w=l(this,te);ce(this,te,null);let G=!1;for(const[{x:fe,y:be,pageIndex:xe},De]of w)De.newX=fe,De.newY=be,De.newPageIndex=xe,G||(G=fe!==De.savedX||be!==De.savedY||xe!==De.savedPageIndex);if(!G)return!1;const se=(fe,be,xe,De)=>{if(l(this,$).has(fe.id)){const Ve=l(this,Z).get(De);Ve?fe._setParentAndPosition(Ve,be,xe):(fe.pageIndex=De,fe.x=be,fe.y=xe)}};return this.addCommands({cmd:()=>{for(const[fe,{newX:be,newY:xe,newPageIndex:De}]of w)se(fe,be,xe,De)},undo:()=>{for(const[fe,{savedX:be,savedY:xe,savedPageIndex:De}]of w)se(fe,be,xe,De)},mustExec:!0}),!0}dragSelectedEditors(w,G){if(l(this,te))for(const se of l(this,te).keys())se.drag(w,G)}rebuild(w){if(w.parent===null){const G=this.getLayer(w.pageIndex);G?(G.changeParent(w),G.addOrRebuild(w)):(this.addEditor(w),this.addToAnnotationStorage(w),w.rebuild())}else w.parent.addOrRebuild(w)}isActive(w){return l(this,I)===w}getActive(){return l(this,I)}getMode(){return l(this,R)}get imageManager(){return(0,u.shadow)(this,"imageManager",new t)}};I=new WeakMap,$=new WeakMap,Z=new WeakMap,W=new WeakMap,Q=new WeakMap,he=new WeakMap,Y=new WeakMap,z=new WeakMap,te=new WeakMap,oe=new WeakMap,ye=new WeakMap,Pe=new WeakMap,L=new WeakMap,P=new WeakMap,M=new WeakMap,E=new WeakMap,R=new WeakMap,O=new WeakMap,B=new WeakMap,F=new WeakMap,j=new WeakMap,ae=new WeakMap,q=new WeakMap,pe=new WeakMap,ne=new WeakMap,me=new WeakMap,ve=new WeakMap,Re=new WeakMap,Oe=new WeakMap,Ie=new WeakMap,Le=new WeakMap,ue=new WeakMap,ee=new WeakMap,le=new WeakMap,ge=new WeakSet,ar=function(){window.addEventListener("focus",l(this,j)),window.addEventListener("blur",l(this,F))},Me=new WeakSet,rn=function(){window.removeEventListener("focus",l(this,j)),window.removeEventListener("blur",l(this,F))},We=new WeakSet,sn=function(){window.addEventListener("keydown",l(this,ne),{capture:!0})},ze=new WeakSet,It=function(){window.removeEventListener("keydown",l(this,ne),{capture:!0})},Je=new WeakSet,an=function(){document.addEventListener("copy",l(this,ae)),document.addEventListener("cut",l(this,q)),document.addEventListener("paste",l(this,pe))},Xe=new WeakSet,on=function(){document.removeEventListener("copy",l(this,ae)),document.removeEventListener("cut",l(this,q)),document.removeEventListener("paste",l(this,pe))},H=new WeakSet,st=function(w){Object.entries(w).some(se=>{let[fe,be]=se;return l(this,Ie)[fe]!==be})&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(l(this,Ie),w)})},de=new WeakSet,bt=function(w){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:w})},K=new WeakSet,or=function(){if(!l(this,P)){ce(this,P,!0);for(const w of l(this,Z).values())w.enable()}},re=new WeakSet,lr=function(){if(this.unselectAll(),l(this,P)){ce(this,P,!1);for(const w of l(this,Z).values())w.disable()}},Ee=new WeakSet,ln=function(w){const G=l(this,Z).get(w.pageIndex);G?G.addOrRebuild(w):this.addEditor(w)},Te=new WeakSet,yt=function(){if(l(this,$).size===0)return!0;if(l(this,$).size===1)for(const w of l(this,$).values())return w.isEmpty();return!1},ke=new WeakSet,cn=function(w){l(this,O).clear();for(const G of w)G.isEmpty()||(l(this,O).add(G),G.select());J(this,H,st).call(this,{hasSelectedEditor:!0})},tt(Be,"TRANSLATE_SMALL",1),tt(Be,"TRANSLATE_BIG",10);let h=Be;C.AnnotationEditorUIManager=h},(N,C,e)=>{var u=e(3),y=e(6),k=e(4),f=e(24),m=e(14),t=e(8),i=e(21),n=e(20),p=e(91),h=e(39),d=e(77),s=e(64),r=e(159),o=e(7),g=e(167),v=e(27),A=k.JSON,b=k.Number,c=k.SyntaxError,a=A&&A.parse,x=f("Object","keys"),T=Object.getOwnPropertyDescriptor,S=m("".charAt),D=m("".slice),I=m(/./.exec),$=m([].push),Z=/^\d$/,W=/^[1-9]$/,Q=/^(?:-|\d)$/,he=/^[\t\n\r ]$/,Y=0,z=1,te=function(E,R){E=d(E);var O=new L(E,0),B=O.parse(),F=B.value,j=O.skip(he,B.end);if(j<E.length)throw c('Unexpected extra character: "'+S(E,j)+'" after the parsed data at: '+j);return i(R)?oe({"":F},"",R,B):F},oe=function(E,R,O,B){var F=E[R],j=B&&F===B.value,ae=j&&typeof B.source=="string"?{source:B.source}:{},q,pe,ne,me,ve;if(n(F)){var Re=p(F),Oe=j?B.nodes:Re?[]:{};if(Re)for(q=Oe.length,ne=s(F),me=0;me<ne;me++)ye(F,me,oe(F,""+me,O,me<q?Oe[me]:void 0));else for(pe=x(F),ne=s(pe),me=0;me<ne;me++)ve=pe[me],ye(F,ve,oe(F,ve,O,h(Oe,ve)?Oe[ve]:void 0))}return t(O,E,R,F,ae)},ye=function(E,R,O){if(y){var B=T(E,R);if(B&&!B.configurable)return}O===void 0?delete E[R]:r(E,R,O)},Pe=function(E,R,O,B){this.value=E,this.end=R,this.source=O,this.nodes=B},L=function(E,R){this.source=E,this.index=R};L.prototype={fork:function(E){return new L(this.source,E)},parse:function(){var E=this.source,R=this.skip(he,this.index),O=this.fork(R),B=S(E,R);if(I(Q,B))return O.number();switch(B){case"{":return O.object();case"[":return O.array();case'"':return O.string();case"t":return O.keyword(!0);case"f":return O.keyword(!1);case"n":return O.keyword(null)}throw c('Unexpected character: "'+B+'" at: '+R)},node:function(E,R,O,B,F){return new Pe(R,B,E?null:D(this.source,O,B),F)},object:function(){for(var E=this.source,R=this.index+1,O=!1,B={},F={};R<E.length;){if(R=this.until(['"',"}"],R),S(E,R)==="}"&&!O){R++;break}var j=this.fork(R).string(),ae=j.value;R=j.end,R=this.until([":"],R)+1,R=this.skip(he,R),j=this.fork(R).parse(),r(F,ae,j),r(B,ae,j.value),R=this.until([",","}"],j.end);var q=S(E,R);if(q===",")O=!0,R++;else if(q==="}"){R++;break}}return this.node(z,B,this.index,R,F)},array:function(){for(var E=this.source,R=this.index+1,O=!1,B=[],F=[];R<E.length;){if(R=this.skip(he,R),S(E,R)==="]"&&!O){R++;break}var j=this.fork(R).parse();if($(F,j),$(B,j.value),R=this.until([",","]"],j.end),S(E,R)===",")O=!0,R++;else if(S(E,R)==="]"){R++;break}}return this.node(z,B,this.index,R,F)},string:function(){var E=this.index,R=g(this.source,this.index+1);return this.node(Y,R.value,E,R.end)},number:function(){var E=this.source,R=this.index,O=R;if(S(E,O)==="-"&&O++,S(E,O)==="0")O++;else if(I(W,S(E,O)))O=this.skip(Z,++O);else throw c("Failed to parse number at: "+O);if(S(E,O)==="."&&(O=this.skip(Z,++O)),S(E,O)==="e"||S(E,O)==="E"){O++,(S(E,O)==="+"||S(E,O)==="-")&&O++;var B=O;if(O=this.skip(Z,O),B===O)throw c("Failed to parse number's exponent value at: "+O)}return this.node(Y,b(D(E,R,O)),R,O)},keyword:function(E){var R=""+E,O=this.index,B=O+R.length;if(D(this.source,O,B)!==R)throw c("Failed to parse value at: "+O);return this.node(Y,E,O,B)},skip:function(E,R){for(var O=this.source;R<O.length&&I(E,S(O,R));R++);return R},until:function(E,R){R=this.skip(he,R);for(var O=S(this.source,R),B=0;B<E.length;B++)if(E[B]===O)return R;throw c('Unexpected character: "'+O+'" at: '+R)}};var P=o(function(){var E="9007199254740993",R;return a(E,function(O,B,F){R=F.source}),R!==E}),M=v&&!o(function(){return 1/a("-0 	")!==-1/0});u({target:"JSON",stat:!0,forced:P},{parse:function(R,O){return M&&!i(O)?a(R):te(R,O)}})},(N,C,e)=>{var u=e(14),y=e(39),k=SyntaxError,f=parseInt,m=String.fromCharCode,t=u("".charAt),i=u("".slice),n=u(/./.exec),p={'\\"':'"',"\\\\":"\\","\\/":"/","\\b":"\b","\\f":"\f","\\n":"\n","\\r":"\r","\\t":"	"},h=/^[\da-f]{4}$/i,d=/^[\u0000-\u001F]$/;N.exports=function(s,r){for(var o=!0,g="";r<s.length;){var v=t(s,r);if(v==="\\"){var A=i(s,r,r+2);if(y(p,A))g+=p[A],r+=2;else if(A==="\\u"){r+=2;var b=i(s,r,r+4);if(!n(h,b))throw k("Bad Unicode escape at: "+r);g+=m(f(b,16)),r+=4}else throw k('Unknown escape sequence: "'+A+'"')}else if(v==='"'){o=!1,r++;break}else{if(n(d,v))throw k("Bad control character in string literal at: "+r);g+=v,r++}}if(o)throw k("Unterminated string at: "+r);return{value:g,end:r}}},(N,C,e)=>{var Y,z,te,oe,ye,Pe,L,P,M,E,R,O,ft,F,pt,ae,hn,pe,Lt,me,Ot,Re,At,Ie,St;Object.defineProperty(C,"__esModule",{value:!0}),C.StatTimer=C.RenderingCancelledException=C.PixelsPerInch=C.PageViewport=C.PDFDateString=C.DOMStandardFontDataFactory=C.DOMSVGFactory=C.DOMFilterFactory=C.DOMCanvasFactory=C.DOMCMapReaderFactory=void 0,C.deprecated=x,C.getColorValues=$,C.getCurrentTransform=Z,C.getCurrentTransformInverse=W,C.getFilenameFromUrl=g,C.getPdfFilenameFromUrl=v,C.getRGB=I,C.getXfaPageViewport=D,C.isDataScheme=r,C.isPdfFile=o,C.isValidFetchUrl=b,C.loadScript=a,C.noContextMenu=c,C.setLayerDimensions=Q,e(2),e(93),e(101),e(102),e(105),e(107),e(109),e(113),e(116),e(123),e(89),e(84),e(86),e(87);var u=e(169),y=e(1);const k="http://www.w3.org/2000/svg",he=class he{};tt(he,"CSS",96),tt(he,"PDF",72),tt(he,"PDF_TO_CSS_UNITS",he.CSS/he.PDF);let f=he;C.PixelsPerInch=f;class m extends u.BaseFilterFactory{constructor(){let{docId:le,ownerDocument:ge=globalThis.document}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super();_(this,O);_(this,F);_(this,ae);_(this,pe);_(this,me);_(this,Re);_(this,Ie);_(this,Y,void 0);_(this,z,void 0);_(this,te,void 0);_(this,oe,void 0);_(this,ye,void 0);_(this,Pe,void 0);_(this,L,void 0);_(this,P,void 0);_(this,M,void 0);_(this,E,void 0);_(this,R,0);ce(this,te,le),ce(this,oe,ge)}addFilter(le){if(!le)return"none";let ge=l(this,O,ft).get(le);if(ge)return ge;let Ce,Me,He,We;if(le.length===1){const Je=le[0],Ze=new Array(256);for(let Xe=0;Xe<256;Xe++)Ze[Xe]=Je[Xe]/255;We=Ce=Me=He=Ze.join(",")}else{const[Je,Ze,Xe]=le,V=new Array(256),H=new Array(256),X=new Array(256);for(let de=0;de<256;de++)V[de]=Je[de]/255,H[de]=Ze[de]/255,X[de]=Xe[de]/255;Ce=V.join(","),Me=H.join(","),He=X.join(","),We="".concat(Ce).concat(Me).concat(He)}if(ge=l(this,O,ft).get(We),ge)return l(this,O,ft).set(le,ge),ge;const _e="g_".concat(l(this,te),"_transfer_map_").concat(ut(this,R)._++),ze="url(#".concat(_e,")");l(this,O,ft).set(le,ze),l(this,O,ft).set(We,ze);const Ye=J(this,pe,Lt).call(this,_e);return J(this,Re,At).call(this,Ce,Me,He,Ye),ze}addHCMFilter(le,ge){var Ze;const Ce="".concat(le,"-").concat(ge);if(l(this,Pe)===Ce)return l(this,L);if(ce(this,Pe,Ce),ce(this,L,"none"),(Ze=l(this,ye))==null||Ze.remove(),!le||!ge)return l(this,L);const Me=J(this,Ie,St).call(this,le);le=y.Util.makeHexColor(...Me);const He=J(this,Ie,St).call(this,ge);if(ge=y.Util.makeHexColor(...He),l(this,F,pt).style.color="",le==="#000000"&&ge==="#ffffff"||le===ge)return l(this,L);const We=new Array(256);for(let Xe=0;Xe<=255;Xe++){const V=Xe/255;We[Xe]=V<=.03928?V/12.92:((V+.055)/1.055)**2.4}const _e=We.join(","),ze="g_".concat(l(this,te),"_hcm_filter"),Ye=ce(this,P,J(this,pe,Lt).call(this,ze));J(this,Re,At).call(this,_e,_e,_e,Ye),J(this,ae,hn).call(this,Ye);const Je=(Xe,V)=>{const H=Me[Xe]/255,X=He[Xe]/255,de=new Array(V+1);for(let Se=0;Se<=V;Se++)de[Se]=H+Se/V*(X-H);return de.join(",")};return J(this,Re,At).call(this,Je(0,5),Je(1,5),Je(2,5),Ye),ce(this,L,"url(#".concat(ze,")")),l(this,L)}addHighlightHCMFilter(le,ge,Ce,Me){var X;const He="".concat(le,"-").concat(ge,"-").concat(Ce,"-").concat(Me);if(l(this,M)===He)return l(this,E);if(ce(this,M,He),ce(this,E,"none"),(X=l(this,P))==null||X.remove(),!le||!ge)return l(this,E);const[We,_e]=[le,ge].map(J(this,Ie,St).bind(this));let ze=Math.round(.2126*We[0]+.7152*We[1]+.0722*We[2]),Ye=Math.round(.2126*_e[0]+.7152*_e[1]+.0722*_e[2]),[Je,Ze]=[Ce,Me].map(J(this,Ie,St).bind(this));Ye<ze&&([ze,Ye,Je,Ze]=[Ye,ze,Ze,Je]),l(this,F,pt).style.color="";const Xe=(de,Se,K)=>{const U=new Array(256),re=(Ye-ze)/K,Ae=de/255,Ee=(Se-de)/(255*K);let we=0;for(let Te=0;Te<=K;Te++){const Ne=Math.round(ze+Te*re),ke=Ae+Te*Ee;for(let Ue=we;Ue<=Ne;Ue++)U[Ue]=ke;we=Ne+1}for(let Te=we;Te<256;Te++)U[Te]=U[we-1];return U.join(",")},V="g_".concat(l(this,te),"_hcm_highlight_filter"),H=ce(this,P,J(this,pe,Lt).call(this,V));return J(this,ae,hn).call(this,H),J(this,Re,At).call(this,Xe(Je[0],Ze[0],5),Xe(Je[1],Ze[1],5),Xe(Je[2],Ze[2],5),H),ce(this,E,"url(#".concat(V,")")),l(this,E)}destroy(){arguments.length>0&&arguments[0]!==void 0&&arguments[0]&&(l(this,L)||l(this,E))||(l(this,z)&&(l(this,z).parentNode.parentNode.remove(),ce(this,z,null)),l(this,Y)&&(l(this,Y).clear(),ce(this,Y,null)),ce(this,R,0))}}Y=new WeakMap,z=new WeakMap,te=new WeakMap,oe=new WeakMap,ye=new WeakMap,Pe=new WeakMap,L=new WeakMap,P=new WeakMap,M=new WeakMap,E=new WeakMap,R=new WeakMap,O=new WeakSet,ft=function(){return l(this,Y)||ce(this,Y,new Map)},F=new WeakSet,pt=function(){if(!l(this,z)){const le=l(this,oe).createElement("div"),{style:ge}=le;ge.visibility="hidden",ge.contain="strict",ge.width=ge.height=0,ge.position="absolute",ge.top=ge.left=0,ge.zIndex=-1;const Ce=l(this,oe).createElementNS(k,"svg");Ce.setAttribute("width",0),Ce.setAttribute("height",0),ce(this,z,l(this,oe).createElementNS(k,"defs")),le.append(Ce),Ce.append(l(this,z)),l(this,oe).body.append(le)}return l(this,z)},ae=new WeakSet,hn=function(le){const ge=l(this,oe).createElementNS(k,"feColorMatrix");ge.setAttribute("type","matrix"),ge.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),le.append(ge)},pe=new WeakSet,Lt=function(le){const ge=l(this,oe).createElementNS(k,"filter");return ge.setAttribute("color-interpolation-filters","sRGB"),ge.setAttribute("id",le),l(this,F,pt).append(ge),ge},me=new WeakSet,Ot=function(le,ge,Ce){const Me=l(this,oe).createElementNS(k,ge);Me.setAttribute("type","discrete"),Me.setAttribute("tableValues",Ce),le.append(Me)},Re=new WeakSet,At=function(le,ge,Ce,Me){const He=l(this,oe).createElementNS(k,"feComponentTransfer");Me.append(He),J(this,me,Ot).call(this,He,"feFuncR",le),J(this,me,Ot).call(this,He,"feFuncG",ge),J(this,me,Ot).call(this,He,"feFuncB",Ce)},Ie=new WeakSet,St=function(le){return l(this,F,pt).style.color=le,I(getComputedStyle(l(this,F,pt)).getPropertyValue("color"))},C.DOMFilterFactory=m;class t extends u.BaseCanvasFactory{constructor(){let{ownerDocument:ee=globalThis.document}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(),this._document=ee}_createCanvas(ee,le){const ge=this._document.createElement("canvas");return ge.width=ee,ge.height=le,ge}}C.DOMCanvasFactory=t;async function i(ue){let ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(b(ue,document.baseURI)){const le=await fetch(ue);if(!le.ok)throw new Error(le.statusText);return ee?new Uint8Array(await le.arrayBuffer()):(0,y.stringToBytes)(await le.text())}return new Promise((le,ge)=>{const Ce=new XMLHttpRequest;Ce.open("GET",ue,!0),ee&&(Ce.responseType="arraybuffer"),Ce.onreadystatechange=()=>{if(Ce.readyState===XMLHttpRequest.DONE){if(Ce.status===200||Ce.status===0){let Me;if(ee&&Ce.response?Me=new Uint8Array(Ce.response):!ee&&Ce.responseText&&(Me=(0,y.stringToBytes)(Ce.responseText)),Me){le(Me);return}}ge(new Error(Ce.statusText))}},Ce.send(null)})}class n extends u.BaseCMapReaderFactory{_fetchData(ee,le){return i(ee,this.isCompressed).then(ge=>({cMapData:ge,compressionType:le}))}}C.DOMCMapReaderFactory=n;class p extends u.BaseStandardFontDataFactory{_fetchData(ee){return i(ee,!0)}}C.DOMStandardFontDataFactory=p;class h extends u.BaseSVGFactory{_createSVG(ee){return document.createElementNS(k,ee)}}C.DOMSVGFactory=h;class d{constructor(ee){let{viewBox:le,scale:ge,rotation:Ce,offsetX:Me=0,offsetY:He=0,dontFlip:We=!1}=ee;this.viewBox=le,this.scale=ge,this.rotation=Ce,this.offsetX=Me,this.offsetY=He;const _e=(le[2]+le[0])/2,ze=(le[3]+le[1])/2;let Ye,Je,Ze,Xe;switch(Ce%=360,Ce<0&&(Ce+=360),Ce){case 180:Ye=-1,Je=0,Ze=0,Xe=1;break;case 90:Ye=0,Je=1,Ze=1,Xe=0;break;case 270:Ye=0,Je=-1,Ze=-1,Xe=0;break;case 0:Ye=1,Je=0,Ze=0,Xe=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}We&&(Ze=-Ze,Xe=-Xe);let V,H,X,de;Ye===0?(V=Math.abs(ze-le[1])*ge+Me,H=Math.abs(_e-le[0])*ge+He,X=(le[3]-le[1])*ge,de=(le[2]-le[0])*ge):(V=Math.abs(_e-le[0])*ge+Me,H=Math.abs(ze-le[1])*ge+He,X=(le[2]-le[0])*ge,de=(le[3]-le[1])*ge),this.transform=[Ye*ge,Je*ge,Ze*ge,Xe*ge,V-Ye*ge*_e-Ze*ge*ze,H-Je*ge*_e-Xe*ge*ze],this.width=X,this.height=de}get rawDims(){const{viewBox:ee}=this;return(0,y.shadow)(this,"rawDims",{pageWidth:ee[2]-ee[0],pageHeight:ee[3]-ee[1],pageX:ee[0],pageY:ee[1]})}clone(){let{scale:ee=this.scale,rotation:le=this.rotation,offsetX:ge=this.offsetX,offsetY:Ce=this.offsetY,dontFlip:Me=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new d({viewBox:this.viewBox.slice(),scale:ee,rotation:le,offsetX:ge,offsetY:Ce,dontFlip:Me})}convertToViewportPoint(ee,le){return y.Util.applyTransform([ee,le],this.transform)}convertToViewportRectangle(ee){const le=y.Util.applyTransform([ee[0],ee[1]],this.transform),ge=y.Util.applyTransform([ee[2],ee[3]],this.transform);return[le[0],le[1],ge[0],ge[1]]}convertToPdfPoint(ee,le){return y.Util.applyInverseTransform([ee,le],this.transform)}}C.PageViewport=d;class s extends y.BaseException{constructor(ee){let le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;super(ee,"RenderingCancelledException"),this.extraDelay=le}}C.RenderingCancelledException=s;function r(ue){const ee=ue.length;let le=0;for(;le<ee&&ue[le].trim()==="";)le++;return ue.substring(le,le+5).toLowerCase()==="data:"}function o(ue){return typeof ue=="string"&&/\.pdf$/i.test(ue)}function g(ue){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)||([ue]=ue.split(/[#?]/,1)),ue.substring(ue.lastIndexOf("/")+1)}function v(ue){let ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"document.pdf";if(typeof ue!="string")return ee;if(r(ue))return(0,y.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),ee;const le=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,ge=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Ce=le.exec(ue);let Me=ge.exec(Ce[1])||ge.exec(Ce[2])||ge.exec(Ce[3]);if(Me&&(Me=Me[0],Me.includes("%")))try{Me=ge.exec(decodeURIComponent(Me))[0]}catch(He){}return Me||ee}class A{constructor(){tt(this,"started",Object.create(null));tt(this,"times",[])}time(ee){ee in this.started&&(0,y.warn)("Timer is already running for ".concat(ee)),this.started[ee]=Date.now()}timeEnd(ee){ee in this.started||(0,y.warn)("Timer has not been started for ".concat(ee)),this.times.push({name:ee,start:this.started[ee],end:Date.now()}),delete this.started[ee]}toString(){const ee=[];let le=0;for(const{name:ge}of this.times)le=Math.max(ge.length,le);for(const{name:ge,start:Ce,end:Me}of this.times)ee.push("".concat(ge.padEnd(le)," ").concat(Me-Ce,"ms\n"));return ee.join("")}}C.StatTimer=A;function b(ue,ee){try{const{protocol:le}=ee?new URL(ue,ee):new URL(ue);return le==="http:"||le==="https:"}catch(le){return!1}}function c(ue){ue.preventDefault()}function a(ue){let ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return new Promise((le,ge)=>{const Ce=document.createElement("script");Ce.src=ue,Ce.onload=function(Me){ee&&Ce.remove(),le(Me)},Ce.onerror=function(){ge(new Error("Cannot load script at: ".concat(Ce.src)))},(document.head||document.documentElement).append(Ce)})}function x(ue){console.log("Deprecated API usage: "+ue)}let T;class S{static toDateObject(ee){if(!ee||typeof ee!="string")return null;T||(T=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const le=T.exec(ee);if(!le)return null;const ge=parseInt(le[1],10);let Ce=parseInt(le[2],10);Ce=Ce>=1&&Ce<=12?Ce-1:0;let Me=parseInt(le[3],10);Me=Me>=1&&Me<=31?Me:1;let He=parseInt(le[4],10);He=He>=0&&He<=23?He:0;let We=parseInt(le[5],10);We=We>=0&&We<=59?We:0;let _e=parseInt(le[6],10);_e=_e>=0&&_e<=59?_e:0;const ze=le[7]||"Z";let Ye=parseInt(le[8],10);Ye=Ye>=0&&Ye<=23?Ye:0;let Je=parseInt(le[9],10)||0;return Je=Je>=0&&Je<=59?Je:0,ze==="-"?(He+=Ye,We+=Je):ze==="+"&&(He-=Ye,We-=Je),new Date(Date.UTC(ge,Ce,Me,He,We,_e))}}C.PDFDateString=S;function D(ue,ee){let{scale:le=1,rotation:ge=0}=ee;const{width:Ce,height:Me}=ue.attributes.style,He=[0,0,parseInt(Ce),parseInt(Me)];return new d({viewBox:He,scale:le,rotation:ge})}function I(ue){if(ue.startsWith("#")){const ee=parseInt(ue.slice(1),16);return[(ee&16711680)>>16,(ee&65280)>>8,ee&255]}return ue.startsWith("rgb(")?ue.slice(4,-1).split(",").map(ee=>parseInt(ee)):ue.startsWith("rgba(")?ue.slice(5,-1).split(",").map(ee=>parseInt(ee)).slice(0,3):((0,y.warn)('Not a valid color format: "'.concat(ue,'"')),[0,0,0])}function $(ue){const ee=document.createElement("span");ee.style.visibility="hidden",document.body.append(ee);for(const le of ue.keys()){ee.style.color=le;const ge=window.getComputedStyle(ee).color;ue.set(le,I(ge))}ee.remove()}function Z(ue){const{a:ee,b:le,c:ge,d:Ce,e:Me,f:He}=ue.getTransform();return[ee,le,ge,Ce,Me,He]}function W(ue){const{a:ee,b:le,c:ge,d:Ce,e:Me,f:He}=ue.getTransform().invertSelf();return[ee,le,ge,Ce,Me,He]}function Q(ue,ee){let le=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,ge=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;if(ee instanceof d){const{pageWidth:Ce,pageHeight:Me}=ee.rawDims,{style:He}=ue,We=y.FeatureTest.isCSSRoundSupported,_e="var(--scale-factor) * ".concat(Ce,"px"),ze="var(--scale-factor) * ".concat(Me,"px"),Ye=We?"round(".concat(_e,", 1px)"):"calc(".concat(_e,")"),Je=We?"round(".concat(ze,", 1px)"):"calc(".concat(ze,")");!le||ee.rotation%180===0?(He.width=Ye,He.height=Je):(He.width=Je,He.height=Ye)}ge&&ue.setAttribute("data-main-rotation",ee.rotation)}},(N,C,e)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.BaseStandardFontDataFactory=C.BaseSVGFactory=C.BaseFilterFactory=C.BaseCanvasFactory=C.BaseCMapReaderFactory=void 0,e(2);var u=e(1);class y{constructor(){this.constructor===y&&(0,u.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(n){return"none"}addHCMFilter(n,p){return"none"}addHighlightHCMFilter(n,p,h,d){return"none"}destroy(){}}C.BaseFilterFactory=y;class k{constructor(){this.constructor===k&&(0,u.unreachable)("Cannot initialize BaseCanvasFactory.")}create(n,p){if(n<=0||p<=0)throw new Error("Invalid canvas size");const h=this._createCanvas(n,p);return{canvas:h,context:h.getContext("2d")}}reset(n,p,h){if(!n.canvas)throw new Error("Canvas is not specified");if(p<=0||h<=0)throw new Error("Invalid canvas size");n.canvas.width=p,n.canvas.height=h}destroy(n){if(!n.canvas)throw new Error("Canvas is not specified");n.canvas.width=0,n.canvas.height=0,n.canvas=null,n.context=null}_createCanvas(n,p){(0,u.unreachable)("Abstract method `_createCanvas` called.")}}C.BaseCanvasFactory=k;class f{constructor(n){let{baseUrl:p=null,isCompressed:h=!0}=n;this.constructor===f&&(0,u.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=p,this.isCompressed=h}async fetch(n){let{name:p}=n;if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!p)throw new Error("CMap name must be specified.");const h=this.baseUrl+p+(this.isCompressed?".bcmap":""),d=this.isCompressed?u.CMapCompressionType.BINARY:u.CMapCompressionType.NONE;return this._fetchData(h,d).catch(s=>{throw new Error("Unable to load ".concat(this.isCompressed?"binary ":"","CMap at: ").concat(h))})}_fetchData(n,p){(0,u.unreachable)("Abstract method `_fetchData` called.")}}C.BaseCMapReaderFactory=f;class m{constructor(n){let{baseUrl:p=null}=n;this.constructor===m&&(0,u.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=p}async fetch(n){let{filename:p}=n;if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!p)throw new Error("Font filename must be specified.");const h="".concat(this.baseUrl).concat(p);return this._fetchData(h).catch(d=>{throw new Error("Unable to load font data at: ".concat(h))})}_fetchData(n){(0,u.unreachable)("Abstract method `_fetchData` called.")}}C.BaseStandardFontDataFactory=m;class t{constructor(){this.constructor===t&&(0,u.unreachable)("Cannot initialize BaseSVGFactory.")}create(n,p){let h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(n<=0||p<=0)throw new Error("Invalid SVG dimensions");const d=this._createSVG("svg:svg");return d.setAttribute("version","1.1"),h||(d.setAttribute("width","".concat(n,"px")),d.setAttribute("height","".concat(p,"px"))),d.setAttribute("preserveAspectRatio","none"),d.setAttribute("viewBox","0 0 ".concat(n," ").concat(p)),d}createElement(n){if(typeof n!="string")throw new Error("Invalid SVG element type");return this._createSVG(n)}_createSVG(n){(0,u.unreachable)("Abstract method `_createSVG` called.")}}C.BaseSVGFactory=t},(N,C,e)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.MurmurHash3_64=void 0,e(93),e(101),e(102),e(105),e(107),e(109),e(113),e(116),e(123),e(2);var u=e(1);const y=3285377520,k=4294901760,f=65535;class m{constructor(i){this.h1=i?i&4294967295:y,this.h2=i?i&4294967295:y}update(i){let n,p;if(typeof i=="string"){n=new Uint8Array(i.length*2),p=0;for(let x=0,T=i.length;x<T;x++){const S=i.charCodeAt(x);S<=255?n[p++]=S:(n[p++]=S>>>8,n[p++]=S&255)}}else if((0,u.isArrayBuffer)(i))n=i.slice(),p=n.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const h=p>>2,d=p-h*4,s=new Uint32Array(n.buffer,0,h);let r=0,o=0,g=this.h1,v=this.h2;const A=3432918353,b=461845907,c=A&f,a=b&f;for(let x=0;x<h;x++)x&1?(r=s[x],r=r*A&k|r*c&f,r=r<<15|r>>>17,r=r*b&k|r*a&f,g^=r,g=g<<13|g>>>19,g=g*5+3864292196):(o=s[x],o=o*A&k|o*c&f,o=o<<15|o>>>17,o=o*b&k|o*a&f,v^=o,v=v<<13|v>>>19,v=v*5+3864292196);switch(r=0,d){case 3:r^=n[h*4+2]<<16;case 2:r^=n[h*4+1]<<8;case 1:r^=n[h*4],r=r*A&k|r*c&f,r=r<<15|r>>>17,r=r*b&k|r*a&f,h&1?g^=r:v^=r}this.h1=g,this.h2=v}hexdigest(){let i=this.h1,n=this.h2;return i^=n>>>1,i=i*3981806797&k|i*36045&f,n=n*4283543511&k|((n<<16|i>>>16)*2950163797&k)>>>16,i^=n>>>1,i=i*444984403&k|i*60499&f,n=n*3301882366&k|((n<<16|i>>>16)*3120437893&k)>>>16,i^=n>>>1,(i>>>0).toString(16).padStart(8,"0")+(n>>>0).toString(16).padStart(8,"0")}}C.MurmurHash3_64=m},(N,C,e)=>{var f;Object.defineProperty(C,"__esModule",{value:!0}),C.FontLoader=C.FontFaceObject=void 0,e(125),e(136),e(138),e(141),e(143),e(145),e(147),e(89),e(149);var u=e(1);class y{constructor(t){_(this,f,new Set);let{ownerDocument:i=globalThis.document,styleElement:n=null}=t;this._document=i,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const i=this.styleElement.sheet;i.insertRule(t,i.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),l(this,f).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(t){if(!(!t||l(this,f).has(t.loadedName))){if((0,u.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:n,style:p}=t,h=new FontFace(i,n,p);this.addNativeFontFace(h);try{await h.load(),l(this,f).add(i)}catch(d){(0,u.warn)("Cannot load system font: ".concat(t.baseFontName,", installing it could help to improve PDF rendering.")),this.removeNativeFontFace(h)}return}(0,u.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t.systemFontInfo);return}if(this.isFontLoadingAPISupported){const n=t.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(p){throw(0,u.warn)("Failed to load font '".concat(n.family,"': '").concat(p,"'.")),t.disableFontFace=!0,p}}return}const i=t.createFontFaceRule();if(i){if(this.insertRule(i),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const p=this._queueLoadingCallback(n);this._prepareFontLoadEvent(t,p)})}}get isFontLoadingAPISupported(){var i;const t=!!((i=this._document)!=null&&i.fonts);return(0,u.shadow)(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){let t=!1;return(u.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(t=!0),(0,u.shadow)(this,"isSyncFontLoadingSupported",t)}_queueLoadingCallback(t){function i(){for((0,u.assert)(!p.done,"completeRequest() cannot be called twice."),p.done=!0;n.length>0&&n[0].done;){const h=n.shift();setTimeout(h.callback,0)}}const{loadingRequests:n}=this,p={done:!1,complete:i,callback:t};return n.push(p),p}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,u.shadow)(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,i){function n(I,$){return I.charCodeAt($)<<24|I.charCodeAt($+1)<<16|I.charCodeAt($+2)<<8|I.charCodeAt($+3)&255}function p(I,$,Z,W){const Q=I.substring(0,$),he=I.substring($+Z);return Q+W+he}let h,d;const s=this._document.createElement("canvas");s.width=1,s.height=1;const r=s.getContext("2d");let o=0;function g(I,$){if(++o>30){(0,u.warn)("Load test font never loaded."),$();return}if(r.font="30px "+I,r.fillText(".",0,20),r.getImageData(0,0,1,1).data[3]>0){$();return}setTimeout(g.bind(null,I,$))}const v="lt".concat(Date.now()).concat(this.loadTestFontId++);let A=this._loadTestFont;A=p(A,976,v.length,v);const c=16,a=1482184792;let x=n(A,c);for(h=0,d=v.length-3;h<d;h+=4)x=x-a+n(v,h)|0;h<v.length&&(x=x-a+n(v+"XXX",h)|0),A=p(A,c,4,(0,u.string32)(x));const T="url(data:font/opentype;base64,".concat(btoa(A),");"),S='@font-face {font-family:"'.concat(v,'";src:').concat(T,"}");this.insertRule(S);const D=this._document.createElement("div");D.style.visibility="hidden",D.style.width=D.style.height="10px",D.style.position="absolute",D.style.top=D.style.left="0px";for(const I of[t.loadedName,v]){const $=this._document.createElement("span");$.textContent="Hi",$.style.fontFamily=I,D.append($)}this._document.body.append(D),g(v,()=>{D.remove(),i.complete()})}}f=new WeakMap,C.FontLoader=y;class k{constructor(t,i){let{isEvalSupported:n=!0,disableFontFace:p=!1,ignoreErrors:h=!1,inspectFont:d=null}=i;this.compiledGlyphs=Object.create(null);for(const s in t)this[s]=t[s];this.isEvalSupported=n!==!1,this.disableFontFace=p===!0,this.ignoreErrors=h===!0,this._inspectFont=d}createNativeFontFace(){var i;if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style="oblique ".concat(this.cssFontInfo.italicAngle,"deg")),t=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return(i=this._inspectFont)==null||i.call(this,this),t}createFontFaceRule(){var p;if(!this.data||this.disableFontFace)return null;const t=(0,u.bytesToString)(this.data),i="url(data:".concat(this.mimetype,";base64,").concat(btoa(t),");");let n;if(!this.cssFontInfo)n='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(i,"}");else{let h="font-weight: ".concat(this.cssFontInfo.fontWeight,";");this.cssFontInfo.italicAngle&&(h+="font-style: oblique ".concat(this.cssFontInfo.italicAngle,"deg;")),n='@font-face {font-family:"'.concat(this.cssFontInfo.fontFamily,'";').concat(h,"src:").concat(i,"}")}return(p=this._inspectFont)==null||p.call(this,this,i),n}getPathGenerator(t,i){if(this.compiledGlyphs[i]!==void 0)return this.compiledGlyphs[i];let n;try{n=t.get(this.loadedName+"_path_"+i)}catch(p){if(!this.ignoreErrors)throw p;return(0,u.warn)('getPathGenerator - ignoring character: "'.concat(p,'".')),this.compiledGlyphs[i]=function(h,d){}}if(this.isEvalSupported&&u.FeatureTest.isEvalSupported){const p=[];for(const h of n){const d=h.args!==void 0?h.args.join(","):"";p.push("c.",h.cmd,"(",d,");\n")}return this.compiledGlyphs[i]=new Function("c","size",p.join(""))}return this.compiledGlyphs[i]=function(p,h){for(const d of n)d.cmd==="scale"&&(d.args=[h,-h]),p[d.cmd].apply(p,d.args)}}}C.FontFaceObject=k},(N,C,e)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.NodeStandardFontDataFactory=C.NodeFilterFactory=C.NodeCanvasFactory=C.NodeCMapReaderFactory=void 0,e(2),e(93),e(101),e(102),e(105),e(107),e(109),e(113),e(116),e(123);var u=e(169),y=e(1);(function(){if(!(globalThis.DOMMatrix||!y.isNodeJS))try{globalThis.DOMMatrix=require$$6.DOMMatrix}catch(p){(0,y.warn)('Cannot polyfill `DOMMatrix`, rendering may be broken: "'.concat(p,'".'))}})(),function(){if(!(globalThis.Path2D||!y.isNodeJS))try{const{CanvasRenderingContext2D:p}=require$$6,{polyfillPath2D:h}=requirePath2dPolyfill_esm();globalThis.CanvasRenderingContext2D=p,h(globalThis)}catch(p){(0,y.warn)('Cannot polyfill `Path2D`, rendering may be broken: "'.concat(p,'".'))}}();const k=function(n){return new Promise((p,h)=>{require$$6.readFile(n,(s,r)=>{if(s||!r){h(new Error(s));return}p(new Uint8Array(r))})})};class f extends u.BaseFilterFactory{}C.NodeFilterFactory=f;class m extends u.BaseCanvasFactory{_createCanvas(p,h){return require$$6.createCanvas(p,h)}}C.NodeCanvasFactory=m;class t extends u.BaseCMapReaderFactory{_fetchData(p,h){return k(p).then(d=>({cMapData:d,compressionType:h}))}}C.NodeCMapReaderFactory=t;class i extends u.BaseStandardFontDataFactory{_fetchData(p){return k(p)}}C.NodeStandardFontDataFactory=i},(N,C,e)=>{var z,un,oe,dn;Object.defineProperty(C,"__esModule",{value:!0}),C.CanvasGraphics=void 0,e(2),e(93),e(101),e(102),e(105),e(107),e(109),e(113),e(116),e(123),e(89);var u=e(1),y=e(168),k=e(174),f=e(175);const m=16,t=100,i=4096,n=15,p=10,h=1e3,d=16;function s(L,P){if(L._removeMirroring)throw new Error("Context is already forwarding operations.");L.__originalSave=L.save,L.__originalRestore=L.restore,L.__originalRotate=L.rotate,L.__originalScale=L.scale,L.__originalTranslate=L.translate,L.__originalTransform=L.transform,L.__originalSetTransform=L.setTransform,L.__originalResetTransform=L.resetTransform,L.__originalClip=L.clip,L.__originalMoveTo=L.moveTo,L.__originalLineTo=L.lineTo,L.__originalBezierCurveTo=L.bezierCurveTo,L.__originalRect=L.rect,L.__originalClosePath=L.closePath,L.__originalBeginPath=L.beginPath,L._removeMirroring=()=>{L.save=L.__originalSave,L.restore=L.__originalRestore,L.rotate=L.__originalRotate,L.scale=L.__originalScale,L.translate=L.__originalTranslate,L.transform=L.__originalTransform,L.setTransform=L.__originalSetTransform,L.resetTransform=L.__originalResetTransform,L.clip=L.__originalClip,L.moveTo=L.__originalMoveTo,L.lineTo=L.__originalLineTo,L.bezierCurveTo=L.__originalBezierCurveTo,L.rect=L.__originalRect,L.closePath=L.__originalClosePath,L.beginPath=L.__originalBeginPath,delete L._removeMirroring},L.save=function(){P.save(),this.__originalSave()},L.restore=function(){P.restore(),this.__originalRestore()},L.translate=function(E,R){P.translate(E,R),this.__originalTranslate(E,R)},L.scale=function(E,R){P.scale(E,R),this.__originalScale(E,R)},L.transform=function(E,R,O,B,F,j){P.transform(E,R,O,B,F,j),this.__originalTransform(E,R,O,B,F,j)},L.setTransform=function(E,R,O,B,F,j){P.setTransform(E,R,O,B,F,j),this.__originalSetTransform(E,R,O,B,F,j)},L.resetTransform=function(){P.resetTransform(),this.__originalResetTransform()},L.rotate=function(E){P.rotate(E),this.__originalRotate(E)},L.clip=function(E){P.clip(E),this.__originalClip(E)},L.moveTo=function(M,E){P.moveTo(M,E),this.__originalMoveTo(M,E)},L.lineTo=function(M,E){P.lineTo(M,E),this.__originalLineTo(M,E)},L.bezierCurveTo=function(M,E,R,O,B,F){P.bezierCurveTo(M,E,R,O,B,F),this.__originalBezierCurveTo(M,E,R,O,B,F)},L.rect=function(M,E,R,O){P.rect(M,E,R,O),this.__originalRect(M,E,R,O)},L.closePath=function(){P.closePath(),this.__originalClosePath()},L.beginPath=function(){P.beginPath(),this.__originalBeginPath()}}class r{constructor(P){this.canvasFactory=P,this.cache=Object.create(null)}getCanvas(P,M,E){let R;return this.cache[P]!==void 0?(R=this.cache[P],this.canvasFactory.reset(R,M,E)):(R=this.canvasFactory.create(M,E),this.cache[P]=R),R}delete(P){delete this.cache[P]}clear(){for(const P in this.cache){const M=this.cache[P];this.canvasFactory.destroy(M),delete this.cache[P]}}}function o(L,P,M,E,R,O,B,F,j,ae){const[q,pe,ne,me,ve,Re]=(0,y.getCurrentTransform)(L);if(pe===0&&ne===0){const Le=B*q+ve,ue=Math.round(Le),ee=F*me+Re,le=Math.round(ee),ge=(B+j)*q+ve,Ce=Math.abs(Math.round(ge)-ue)||1,Me=(F+ae)*me+Re,He=Math.abs(Math.round(Me)-le)||1;return L.setTransform(Math.sign(q),0,0,Math.sign(me),ue,le),L.drawImage(P,M,E,R,O,0,0,Ce,He),L.setTransform(q,pe,ne,me,ve,Re),[Ce,He]}if(q===0&&me===0){const Le=F*ne+ve,ue=Math.round(Le),ee=B*pe+Re,le=Math.round(ee),ge=(F+ae)*ne+ve,Ce=Math.abs(Math.round(ge)-ue)||1,Me=(B+j)*pe+Re,He=Math.abs(Math.round(Me)-le)||1;return L.setTransform(0,Math.sign(pe),Math.sign(ne),0,ue,le),L.drawImage(P,M,E,R,O,0,0,He,Ce),L.setTransform(q,pe,ne,me,ve,Re),[He,Ce]}L.drawImage(P,M,E,R,O,B,F,j,ae);const Oe=Math.hypot(q,pe),Ie=Math.hypot(ne,me);return[Oe*j,Ie*ae]}function g(L){const{width:P,height:M}=L;if(P>h||M>h)return null;const E=1e3,R=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),O=P+1;let B=new Uint8Array(O*(M+1)),F,j,ae;const q=P+7&-8;let pe=new Uint8Array(q*M),ne=0;for(const Ie of L.data){let Le=128;for(;Le>0;)pe[ne++]=Ie&Le?0:255,Le>>=1}let me=0;for(ne=0,pe[ne]!==0&&(B[0]=1,++me),j=1;j<P;j++)pe[ne]!==pe[ne+1]&&(B[j]=pe[ne]?2:1,++me),ne++;for(pe[ne]!==0&&(B[j]=2,++me),F=1;F<M;F++){ne=F*q,ae=F*O,pe[ne-q]!==pe[ne]&&(B[ae]=pe[ne]?1:8,++me);let Ie=(pe[ne]?4:0)+(pe[ne-q]?8:0);for(j=1;j<P;j++)Ie=(Ie>>2)+(pe[ne+1]?4:0)+(pe[ne-q+1]?8:0),R[Ie]&&(B[ae+j]=R[Ie],++me),ne++;if(pe[ne-q]!==pe[ne]&&(B[ae+j]=pe[ne]?2:4,++me),me>E)return null}for(ne=q*(M-1),ae=F*O,pe[ne]!==0&&(B[ae]=8,++me),j=1;j<P;j++)pe[ne]!==pe[ne+1]&&(B[ae+j]=pe[ne]?4:8,++me),ne++;if(pe[ne]!==0&&(B[ae+j]=4,++me),me>E)return null;const ve=new Int32Array([0,O,-1,0,-O,0,0,0,1]),Re=new Path2D;for(F=0;me&&F<=M;F++){let Ie=F*O;const Le=Ie+P;for(;Ie<Le&&!B[Ie];)Ie++;if(Ie===Le)continue;Re.moveTo(Ie%O,F);const ue=Ie;let ee=B[Ie];do{const le=ve[ee];do Ie+=le;while(!B[Ie]);const ge=B[Ie];ge!==5&&ge!==10?(ee=ge,B[Ie]=0):(ee=ge&51*ee>>4,B[Ie]&=ee>>2|ee<<2),Re.lineTo(Ie%O,Ie/O|0),B[Ie]||--me}while(ue!==Ie);--F}return pe=null,B=null,function(Ie){Ie.save(),Ie.scale(1/P,-1/M),Ie.translate(0,-M),Ie.fill(Re),Ie.beginPath(),Ie.restore()}}class v{constructor(P,M){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=u.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=u.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=u.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,P,M])}clone(){const P=Object.create(this);return P.clipBox=this.clipBox.slice(),P}setCurrentPoint(P,M){this.x=P,this.y=M}updatePathMinMax(P,M,E){[M,E]=u.Util.applyTransform([M,E],P),this.minX=Math.min(this.minX,M),this.minY=Math.min(this.minY,E),this.maxX=Math.max(this.maxX,M),this.maxY=Math.max(this.maxY,E)}updateRectMinMax(P,M){const E=u.Util.applyTransform(M,P),R=u.Util.applyTransform(M.slice(2),P);this.minX=Math.min(this.minX,E[0],R[0]),this.minY=Math.min(this.minY,E[1],R[1]),this.maxX=Math.max(this.maxX,E[0],R[0]),this.maxY=Math.max(this.maxY,E[1],R[1])}updateScalingPathMinMax(P,M){u.Util.scaleMinMax(P,M),this.minX=Math.min(this.minX,M[0]),this.maxX=Math.max(this.maxX,M[1]),this.minY=Math.min(this.minY,M[2]),this.maxY=Math.max(this.maxY,M[3])}updateCurvePathMinMax(P,M,E,R,O,B,F,j,ae,q){const pe=u.Util.bezierBoundingBox(M,E,R,O,B,F,j,ae);if(q){q[0]=Math.min(q[0],pe[0],pe[2]),q[1]=Math.max(q[1],pe[0],pe[2]),q[2]=Math.min(q[2],pe[1],pe[3]),q[3]=Math.max(q[3],pe[1],pe[3]);return}this.updateRectMinMax(P,pe)}getPathBoundingBox(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:k.PathType.FILL,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const E=[this.minX,this.minY,this.maxX,this.maxY];if(P===k.PathType.STROKE){M||(0,u.unreachable)("Stroke bounding box must include transform.");const R=u.Util.singularValueDecompose2dScale(M),O=R[0]*this.lineWidth/2,B=R[1]*this.lineWidth/2;E[0]-=O,E[1]-=B,E[2]+=O,E[3]+=B}return E}updateClipFromPath(){const P=u.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(P||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(P){this.clipBox=P,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:k.PathType.FILL,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return u.Util.intersect(this.clipBox,this.getPathBoundingBox(P,M))}}function A(L,P){if(typeof ImageData<"u"&&P instanceof ImageData){L.putImageData(P,0,0);return}const M=P.height,E=P.width,R=M%d,O=(M-R)/d,B=R===0?O:O+1,F=L.createImageData(E,d);let j=0,ae;const q=P.data,pe=F.data;let ne,me,ve,Re;if(P.kind===u.ImageKind.GRAYSCALE_1BPP){const Oe=q.byteLength,Ie=new Uint32Array(pe.buffer,0,pe.byteLength>>2),Le=Ie.length,ue=E+7>>3,ee=4294967295,le=u.FeatureTest.isLittleEndian?4278190080:255;for(ne=0;ne<B;ne++){for(ve=ne<O?d:R,ae=0,me=0;me<ve;me++){const ge=Oe-j;let Ce=0;const Me=ge>ue?E:ge*8-7,He=Me&-8;let We=0,_e=0;for(;Ce<He;Ce+=8)_e=q[j++],Ie[ae++]=_e&128?ee:le,Ie[ae++]=_e&64?ee:le,Ie[ae++]=_e&32?ee:le,Ie[ae++]=_e&16?ee:le,Ie[ae++]=_e&8?ee:le,Ie[ae++]=_e&4?ee:le,Ie[ae++]=_e&2?ee:le,Ie[ae++]=_e&1?ee:le;for(;Ce<Me;Ce++)We===0&&(_e=q[j++],We=128),Ie[ae++]=_e&We?ee:le,We>>=1}for(;ae<Le;)Ie[ae++]=0;L.putImageData(F,0,ne*d)}}else if(P.kind===u.ImageKind.RGBA_32BPP){for(me=0,Re=E*d*4,ne=0;ne<O;ne++)pe.set(q.subarray(j,j+Re)),j+=Re,L.putImageData(F,0,me),me+=d;ne<B&&(Re=E*R*4,pe.set(q.subarray(j,j+Re)),L.putImageData(F,0,me))}else if(P.kind===u.ImageKind.RGB_24BPP)for(ve=d,Re=E*ve,ne=0;ne<B;ne++){for(ne>=O&&(ve=R,Re=E*ve),ae=0,me=Re;me--;)pe[ae++]=q[j++],pe[ae++]=q[j++],pe[ae++]=q[j++],pe[ae++]=255;L.putImageData(F,0,ne*d)}else throw new Error("bad image kind: ".concat(P.kind))}function b(L,P){if(P.bitmap){L.drawImage(P.bitmap,0,0);return}const M=P.height,E=P.width,R=M%d,O=(M-R)/d,B=R===0?O:O+1,F=L.createImageData(E,d);let j=0;const ae=P.data,q=F.data;for(let pe=0;pe<B;pe++){const ne=pe<O?d:R;({srcPos:j}=(0,f.convertBlackAndWhiteToRGBA)({src:ae,srcPos:j,dest:q,width:E,height:ne,nonBlackColor:0})),L.putImageData(F,0,pe*d)}}function c(L,P){const M=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const E of M)L[E]!==void 0&&(P[E]=L[E]);L.setLineDash!==void 0&&(P.setLineDash(L.getLineDash()),P.lineDashOffset=L.lineDashOffset)}function a(L){if(L.strokeStyle=L.fillStyle="#000000",L.fillRule="nonzero",L.globalAlpha=1,L.lineWidth=1,L.lineCap="butt",L.lineJoin="miter",L.miterLimit=10,L.globalCompositeOperation="source-over",L.font="10px sans-serif",L.setLineDash!==void 0&&(L.setLineDash([]),L.lineDashOffset=0),!u.isNodeJS){const{filter:P}=L;P!=="none"&&P!==""&&(L.filter="none")}}function x(L,P,M,E){const R=L.length;for(let O=3;O<R;O+=4){const B=L[O];if(B===0)L[O-3]=P,L[O-2]=M,L[O-1]=E;else if(B<255){const F=255-B;L[O-3]=L[O-3]*B+P*F>>8,L[O-2]=L[O-2]*B+M*F>>8,L[O-1]=L[O-1]*B+E*F>>8}}}function T(L,P,M){const E=L.length,R=1/255;for(let O=3;O<E;O+=4){const B=M?M[L[O]]:L[O];P[O]=P[O]*B*R|0}}function S(L,P,M){const E=L.length;for(let R=3;R<E;R+=4){const O=L[R-3]*77+L[R-2]*152+L[R-1]*28;P[R]=M?P[R]*M[O>>8]>>8:P[R]*O>>16}}function D(L,P,M,E,R,O,B,F,j,ae,q){const pe=!!O,ne=pe?O[0]:0,me=pe?O[1]:0,ve=pe?O[2]:0,Re=R==="Luminosity"?S:T,Ie=Math.min(E,Math.ceil(1048576/M));for(let Le=0;Le<E;Le+=Ie){const ue=Math.min(Ie,E-Le),ee=L.getImageData(F-ae,Le+(j-q),M,ue),le=P.getImageData(F,Le+j,M,ue);pe&&x(ee.data,ne,me,ve),Re(ee.data,le.data,B),P.putImageData(le,F,Le+j)}}function I(L,P,M,E){const R=E[0],O=E[1],B=E[2]-R,F=E[3]-O;B===0||F===0||(D(P.context,M,B,F,P.subtype,P.backdrop,P.transferMap,R,O,P.offsetX,P.offsetY),L.save(),L.globalAlpha=1,L.globalCompositeOperation="source-over",L.setTransform(1,0,0,1,0,0),L.drawImage(M.canvas,0,0),L.restore())}function $(L,P){const M=u.Util.singularValueDecompose2dScale(L);M[0]=Math.fround(M[0]),M[1]=Math.fround(M[1]);const E=Math.fround((globalThis.devicePixelRatio||1)*y.PixelsPerInch.PDF_TO_CSS_UNITS);return P!==void 0?P:M[0]<=E||M[1]<=E}const Z=["butt","round","square"],W=["miter","round","bevel"],Q={},he={},Pe=class Pe{constructor(P,M,E,R,O,B,F,j){_(this,z);_(this,oe);let{optionalContentConfig:ae,markedContentStack:q=null}=B;this.ctx=P,this.current=new v(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=M,this.objs=E,this.canvasFactory=R,this.filterFactory=O,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=q||[],this.optionalContentConfig=ae,this.cachedCanvases=new r(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=F,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=j,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(P){let M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return typeof P=="string"?P.startsWith("g_")?this.commonObjs.get(P):this.objs.get(P):M}beginDrawing(P){let{transform:M,viewport:E,transparency:R=!1,background:O=null}=P;const B=this.ctx.canvas.width,F=this.ctx.canvas.height,j=this.ctx.fillStyle;if(this.ctx.fillStyle=O||"#ffffff",this.ctx.fillRect(0,0,B,F),this.ctx.fillStyle=j,R){const ae=this.cachedCanvases.getCanvas("transparent",B,F);this.compositeCtx=this.ctx,this.transparentCanvas=ae.canvas,this.ctx=ae.context,this.ctx.save(),this.ctx.transform(...(0,y.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),a(this.ctx),M&&(this.ctx.transform(...M),this.outputScaleX=M[0],this.outputScaleY=M[0]),this.ctx.transform(...E.transform),this.viewportScale=E.scale,this.baseTransform=(0,y.getCurrentTransform)(this.ctx)}executeOperatorList(P,M,E,R){const O=P.argsArray,B=P.fnArray;let F=M||0;const j=O.length;if(j===F)return F;const ae=j-F>p&&typeof E=="function",q=ae?Date.now()+n:0;let pe=0;const ne=this.commonObjs,me=this.objs;let ve;for(;;){if(R!==void 0&&F===R.nextBreakPoint)return R.breakIt(F,E),F;if(ve=B[F],ve!==u.OPS.dependency)this[ve].apply(this,O[F]);else for(const Re of O[F]){const Oe=Re.startsWith("g_")?ne:me;if(!Oe.has(Re))return Oe.get(Re,E),F}if(F++,F===j)return F;if(ae&&++pe>p){if(Date.now()>q)return E(),F;pe=0}}}endDrawing(){J(this,z,un).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const P of this._cachedBitmapsMap.values()){for(const M of P.values())typeof HTMLCanvasElement<"u"&&M instanceof HTMLCanvasElement&&(M.width=M.height=0);P.clear()}this._cachedBitmapsMap.clear(),J(this,oe,dn).call(this)}_scaleImage(P,M){const E=P.width,R=P.height;let O=Math.max(Math.hypot(M[0],M[1]),1),B=Math.max(Math.hypot(M[2],M[3]),1),F=E,j=R,ae="prescale1",q,pe;for(;O>2&&F>1||B>2&&j>1;){let ne=F,me=j;O>2&&F>1&&(ne=F>=16384?Math.floor(F/2)-1||1:Math.ceil(F/2),O/=F/ne),B>2&&j>1&&(me=j>=16384?Math.floor(j/2)-1||1:Math.ceil(j)/2,B/=j/me),q=this.cachedCanvases.getCanvas(ae,ne,me),pe=q.context,pe.clearRect(0,0,ne,me),pe.drawImage(P,0,0,F,j,0,0,ne,me),P=q.canvas,F=ne,j=me,ae=ae==="prescale1"?"prescale2":"prescale1"}return{img:P,paintWidth:F,paintHeight:j}}_createMaskCanvas(P){const M=this.ctx,{width:E,height:R}=P,O=this.current.fillColor,B=this.current.patternFill,F=(0,y.getCurrentTransform)(M);let j,ae,q,pe;if((P.bitmap||P.data)&&P.count>1){const Ce=P.bitmap||P.data.buffer;ae=JSON.stringify(B?F:[F.slice(0,4),O]),j=this._cachedBitmapsMap.get(Ce),j||(j=new Map,this._cachedBitmapsMap.set(Ce,j));const Me=j.get(ae);if(Me&&!B){const He=Math.round(Math.min(F[0],F[2])+F[4]),We=Math.round(Math.min(F[1],F[3])+F[5]);return{canvas:Me,offsetX:He,offsetY:We}}q=Me}q||(pe=this.cachedCanvases.getCanvas("maskCanvas",E,R),b(pe.context,P));let ne=u.Util.transform(F,[1/E,0,0,-1/R,0,0]);ne=u.Util.transform(ne,[1,0,0,1,0,-R]);const me=u.Util.applyTransform([0,0],ne),ve=u.Util.applyTransform([E,R],ne),Re=u.Util.normalizeRect([me[0],me[1],ve[0],ve[1]]),Oe=Math.round(Re[2]-Re[0])||1,Ie=Math.round(Re[3]-Re[1])||1,Le=this.cachedCanvases.getCanvas("fillCanvas",Oe,Ie),ue=Le.context,ee=Math.min(me[0],ve[0]),le=Math.min(me[1],ve[1]);ue.translate(-ee,-le),ue.transform(...ne),q||(q=this._scaleImage(pe.canvas,(0,y.getCurrentTransformInverse)(ue)),q=q.img,j&&B&&j.set(ae,q)),ue.imageSmoothingEnabled=$((0,y.getCurrentTransform)(ue),P.interpolate),o(ue,q,0,0,q.width,q.height,0,0,E,R),ue.globalCompositeOperation="source-in";const ge=u.Util.transform((0,y.getCurrentTransformInverse)(ue),[1,0,0,1,-ee,-le]);return ue.fillStyle=B?O.getPattern(M,this,ge,k.PathType.FILL):O,ue.fillRect(0,0,E,R),j&&!B&&(this.cachedCanvases.delete("fillCanvas"),j.set(ae,Le.canvas)),{canvas:Le.canvas,offsetX:Math.round(ee),offsetY:Math.round(le)}}setLineWidth(P){P!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=P,this.ctx.lineWidth=P}setLineCap(P){this.ctx.lineCap=Z[P]}setLineJoin(P){this.ctx.lineJoin=W[P]}setMiterLimit(P){this.ctx.miterLimit=P}setDash(P,M){const E=this.ctx;E.setLineDash!==void 0&&(E.setLineDash(P),E.lineDashOffset=M)}setRenderingIntent(P){}setFlatness(P){}setGState(P){for(const[M,E]of P)switch(M){case"LW":this.setLineWidth(E);break;case"LC":this.setLineCap(E);break;case"LJ":this.setLineJoin(E);break;case"ML":this.setMiterLimit(E);break;case"D":this.setDash(E[0],E[1]);break;case"RI":this.setRenderingIntent(E);break;case"FL":this.setFlatness(E);break;case"Font":this.setFont(E[0],E[1]);break;case"CA":this.current.strokeAlpha=E;break;case"ca":this.current.fillAlpha=E,this.ctx.globalAlpha=E;break;case"BM":this.ctx.globalCompositeOperation=E;break;case"SMask":this.current.activeSMask=E?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(E);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const P=this.inSMaskMode;this.current.activeSMask&&!P?this.beginSMaskMode():!this.current.activeSMask&&P&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const P=this.ctx.canvas.width,M=this.ctx.canvas.height,E="smaskGroupAt"+this.groupLevel,R=this.cachedCanvases.getCanvas(E,P,M);this.suspendedCtx=this.ctx,this.ctx=R.context;const O=this.ctx;O.setTransform(...(0,y.getCurrentTransform)(this.suspendedCtx)),c(this.suspendedCtx,O),s(O,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),c(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(P){if(!this.current.activeSMask)return;P?(P[0]=Math.floor(P[0]),P[1]=Math.floor(P[1]),P[2]=Math.ceil(P[2]),P[3]=Math.ceil(P[3])):P=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const M=this.current.activeSMask,E=this.suspendedCtx;I(E,M,this.ctx,P),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(c(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const P=this.current;this.stateStack.push(P),this.current=P.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),c(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(P,M,E,R,O,B){this.ctx.transform(P,M,E,R,O,B),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(P,M,E){const R=this.ctx,O=this.current;let B=O.x,F=O.y,j,ae;const q=(0,y.getCurrentTransform)(R),pe=q[0]===0&&q[3]===0||q[1]===0&&q[2]===0,ne=pe?E.slice(0):null;for(let me=0,ve=0,Re=P.length;me<Re;me++)switch(P[me]|0){case u.OPS.rectangle:B=M[ve++],F=M[ve++];const Oe=M[ve++],Ie=M[ve++],Le=B+Oe,ue=F+Ie;R.moveTo(B,F),Oe===0||Ie===0?R.lineTo(Le,ue):(R.lineTo(Le,F),R.lineTo(Le,ue),R.lineTo(B,ue)),pe||O.updateRectMinMax(q,[B,F,Le,ue]),R.closePath();break;case u.OPS.moveTo:B=M[ve++],F=M[ve++],R.moveTo(B,F),pe||O.updatePathMinMax(q,B,F);break;case u.OPS.lineTo:B=M[ve++],F=M[ve++],R.lineTo(B,F),pe||O.updatePathMinMax(q,B,F);break;case u.OPS.curveTo:j=B,ae=F,B=M[ve+4],F=M[ve+5],R.bezierCurveTo(M[ve],M[ve+1],M[ve+2],M[ve+3],B,F),O.updateCurvePathMinMax(q,j,ae,M[ve],M[ve+1],M[ve+2],M[ve+3],B,F,ne),ve+=6;break;case u.OPS.curveTo2:j=B,ae=F,R.bezierCurveTo(B,F,M[ve],M[ve+1],M[ve+2],M[ve+3]),O.updateCurvePathMinMax(q,j,ae,B,F,M[ve],M[ve+1],M[ve+2],M[ve+3],ne),B=M[ve+2],F=M[ve+3],ve+=4;break;case u.OPS.curveTo3:j=B,ae=F,B=M[ve+2],F=M[ve+3],R.bezierCurveTo(M[ve],M[ve+1],B,F,B,F),O.updateCurvePathMinMax(q,j,ae,M[ve],M[ve+1],B,F,B,F,ne),ve+=4;break;case u.OPS.closePath:R.closePath();break}pe&&O.updateScalingPathMinMax(q,ne),O.setCurrentPoint(B,F)}closePath(){this.ctx.closePath()}stroke(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;const M=this.ctx,E=this.current.strokeColor;M.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof E=="object"&&(E!=null&&E.getPattern)?(M.save(),M.strokeStyle=E.getPattern(M,this,(0,y.getCurrentTransformInverse)(M),k.PathType.STROKE),this.rescaleAndStroke(!1),M.restore()):this.rescaleAndStroke(!0)),P&&this.consumePath(this.current.getClippedPathBoundingBox()),M.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;const M=this.ctx,E=this.current.fillColor,R=this.current.patternFill;let O=!1;R&&(M.save(),M.fillStyle=E.getPattern(M,this,(0,y.getCurrentTransformInverse)(M),k.PathType.FILL),O=!0);const B=this.current.getClippedPathBoundingBox();this.contentVisible&&B!==null&&(this.pendingEOFill?(M.fill("evenodd"),this.pendingEOFill=!1):M.fill()),O&&M.restore(),P&&this.consumePath(B)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Q}eoClip(){this.pendingClip=he}beginText(){this.current.textMatrix=u.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const P=this.pendingTextPaths,M=this.ctx;if(P===void 0){M.beginPath();return}M.save(),M.beginPath();for(const E of P)M.setTransform(...E.transform),M.translate(E.x,E.y),E.addToPath(M,E.fontSize);M.restore(),M.clip(),M.beginPath(),delete this.pendingTextPaths}setCharSpacing(P){this.current.charSpacing=P}setWordSpacing(P){this.current.wordSpacing=P}setHScale(P){this.current.textHScale=P/100}setLeading(P){this.current.leading=-P}setFont(P,M){var q;const E=this.commonObjs.get(P),R=this.current;if(!E)throw new Error("Can't find font for ".concat(P));if(R.fontMatrix=E.fontMatrix||u.FONT_IDENTITY_MATRIX,(R.fontMatrix[0]===0||R.fontMatrix[3]===0)&&(0,u.warn)("Invalid font matrix for font "+P),M<0?(M=-M,R.fontDirection=-1):R.fontDirection=1,this.current.font=E,this.current.fontSize=M,E.isType3Font)return;const O=E.loadedName||"sans-serif",B=((q=E.systemFontInfo)==null?void 0:q.css)||'"'.concat(O,'", ').concat(E.fallbackName);let F="normal";E.black?F="900":E.bold&&(F="bold");const j=E.italic?"italic":"normal";let ae=M;M<m?ae=m:M>t&&(ae=t),this.current.fontSizeScale=M/ae,this.ctx.font="".concat(j," ").concat(F," ").concat(ae,"px ").concat(B)}setTextRenderingMode(P){this.current.textRenderingMode=P}setTextRise(P){this.current.textRise=P}moveText(P,M){this.current.x=this.current.lineX+=P,this.current.y=this.current.lineY+=M}setLeadingMoveText(P,M){this.setLeading(-M),this.moveText(P,M)}setTextMatrix(P,M,E,R,O,B){this.current.textMatrix=[P,M,E,R,O,B],this.current.textMatrixScale=Math.hypot(P,M),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(P,M,E,R){const O=this.ctx,B=this.current,F=B.font,j=B.textRenderingMode,ae=B.fontSize/B.fontSizeScale,q=j&u.TextRenderingMode.FILL_STROKE_MASK,pe=!!(j&u.TextRenderingMode.ADD_TO_PATH_FLAG),ne=B.patternFill&&!F.missingFile;let me;(F.disableFontFace||pe||ne)&&(me=F.getPathGenerator(this.commonObjs,P)),F.disableFontFace||ne?(O.save(),O.translate(M,E),O.beginPath(),me(O,ae),R&&O.setTransform(...R),(q===u.TextRenderingMode.FILL||q===u.TextRenderingMode.FILL_STROKE)&&O.fill(),(q===u.TextRenderingMode.STROKE||q===u.TextRenderingMode.FILL_STROKE)&&O.stroke(),O.restore()):((q===u.TextRenderingMode.FILL||q===u.TextRenderingMode.FILL_STROKE)&&O.fillText(P,M,E),(q===u.TextRenderingMode.STROKE||q===u.TextRenderingMode.FILL_STROKE)&&O.strokeText(P,M,E)),pe&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,y.getCurrentTransform)(O),x:M,y:E,fontSize:ae,addToPath:me})}get isFontSubpixelAAEnabled(){const{context:P}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);P.scale(1.5,1),P.fillText("I",0,10);const M=P.getImageData(0,0,10,10).data;let E=!1;for(let R=3;R<M.length;R+=4)if(M[R]>0&&M[R]<255){E=!0;break}return(0,u.shadow)(this,"isFontSubpixelAAEnabled",E)}showText(P){const M=this.current,E=M.font;if(E.isType3Font)return this.showType3Text(P);const R=M.fontSize;if(R===0)return;const O=this.ctx,B=M.fontSizeScale,F=M.charSpacing,j=M.wordSpacing,ae=M.fontDirection,q=M.textHScale*ae,pe=P.length,ne=E.vertical,me=ne?1:-1,ve=E.defaultVMetrics,Re=R*M.fontMatrix[0],Oe=M.textRenderingMode===u.TextRenderingMode.FILL&&!E.disableFontFace&&!M.patternFill;O.save(),O.transform(...M.textMatrix),O.translate(M.x,M.y+M.textRise),ae>0?O.scale(q,-1):O.scale(q,1);let Ie;if(M.patternFill){O.save();const ge=M.fillColor.getPattern(O,this,(0,y.getCurrentTransformInverse)(O),k.PathType.FILL);Ie=(0,y.getCurrentTransform)(O),O.restore(),O.fillStyle=ge}let Le=M.lineWidth;const ue=M.textMatrixScale;if(ue===0||Le===0){const ge=M.textRenderingMode&u.TextRenderingMode.FILL_STROKE_MASK;(ge===u.TextRenderingMode.STROKE||ge===u.TextRenderingMode.FILL_STROKE)&&(Le=this.getSinglePixelWidth())}else Le/=ue;if(B!==1&&(O.scale(B,B),Le/=B),O.lineWidth=Le,E.isInvalidPDFjsFont){const ge=[];let Ce=0;for(const Me of P)ge.push(Me.unicode),Ce+=Me.width;O.fillText(ge.join(""),0,0),M.x+=Ce*Re*q,O.restore(),this.compose();return}let ee=0,le;for(le=0;le<pe;++le){const ge=P[le];if(typeof ge=="number"){ee+=me*ge*R/1e3;continue}let Ce=!1;const Me=(ge.isSpace?j:0)+F,He=ge.fontChar,We=ge.accent;let _e,ze,Ye=ge.width;if(ne){const Ze=ge.vmetric||ve,Xe=-(ge.vmetric?Ze[1]:Ye*.5)*Re,V=Ze[2]*Re;Ye=Ze?-Ze[0]:Ye,_e=Xe/B,ze=(ee+V)/B}else _e=ee/B,ze=0;if(E.remeasure&&Ye>0){const Ze=O.measureText(He).width*1e3/R*B;if(Ye<Ze&&this.isFontSubpixelAAEnabled){const Xe=Ye/Ze;Ce=!0,O.save(),O.scale(Xe,1),_e/=Xe}else Ye!==Ze&&(_e+=(Ye-Ze)/2e3*R/B)}if(this.contentVisible&&(ge.isInFont||E.missingFile)){if(Oe&&!We)O.fillText(He,_e,ze);else if(this.paintChar(He,_e,ze,Ie),We){const Ze=_e+R*We.offset.x/B,Xe=ze-R*We.offset.y/B;this.paintChar(We.fontChar,Ze,Xe,Ie)}}const Je=ne?Ye*Re-Me*ae:Ye*Re+Me*ae;ee+=Je,Ce&&O.restore()}ne?M.y-=ee:M.x+=ee*q,O.restore(),this.compose()}showType3Text(P){const M=this.ctx,E=this.current,R=E.font,O=E.fontSize,B=E.fontDirection,F=R.vertical?1:-1,j=E.charSpacing,ae=E.wordSpacing,q=E.textHScale*B,pe=E.fontMatrix||u.FONT_IDENTITY_MATRIX,ne=P.length,me=E.textRenderingMode===u.TextRenderingMode.INVISIBLE;let ve,Re,Oe,Ie;if(!(me||O===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,M.save(),M.transform(...E.textMatrix),M.translate(E.x,E.y),M.scale(q,B),ve=0;ve<ne;++ve){if(Re=P[ve],typeof Re=="number"){Ie=F*Re*O/1e3,this.ctx.translate(Ie,0),E.x+=Ie*q;continue}const Le=(Re.isSpace?ae:0)+j,ue=R.charProcOperatorList[Re.operatorListId];if(!ue){(0,u.warn)('Type3 character "'.concat(Re.operatorListId,'" is not available.'));continue}this.contentVisible&&(this.processingType3=Re,this.save(),M.scale(O,O),M.transform(...pe),this.executeOperatorList(ue),this.restore()),Oe=u.Util.applyTransform([Re.width,0],pe)[0]*O+Le,M.translate(Oe,0),E.x+=Oe*q}M.restore(),this.processingType3=null}}setCharWidth(P,M){}setCharWidthAndBounds(P,M,E,R,O,B){this.ctx.rect(E,R,O-E,B-R),this.ctx.clip(),this.endPath()}getColorN_Pattern(P){let M;if(P[0]==="TilingPattern"){const E=P[1],R=this.baseTransform||(0,y.getCurrentTransform)(this.ctx),O={createCanvasGraphics:B=>new Pe(B,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};M=new k.TilingPattern(P,E,this.ctx,O,R)}else M=this._getPattern(P[1],P[2]);return M}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(P,M,E){const R=u.Util.makeHexColor(P,M,E);this.ctx.strokeStyle=R,this.current.strokeColor=R}setFillRGBColor(P,M,E){const R=u.Util.makeHexColor(P,M,E);this.ctx.fillStyle=R,this.current.fillColor=R,this.current.patternFill=!1}_getPattern(P){let M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,E;return this.cachedPatterns.has(P)?E=this.cachedPatterns.get(P):(E=(0,k.getShadingPattern)(this.getObject(P)),this.cachedPatterns.set(P,E)),M&&(E.matrix=M),E}shadingFill(P){if(!this.contentVisible)return;const M=this.ctx;this.save();const E=this._getPattern(P);M.fillStyle=E.getPattern(M,this,(0,y.getCurrentTransformInverse)(M),k.PathType.SHADING);const R=(0,y.getCurrentTransformInverse)(M);if(R){const{width:O,height:B}=M.canvas,[F,j,ae,q]=u.Util.getAxialAlignedBoundingBox([0,0,O,B],R);this.ctx.fillRect(F,j,ae-F,q-j)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,u.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,u.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(P,M){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(P)&&P.length===6&&this.transform(...P),this.baseTransform=(0,y.getCurrentTransform)(this.ctx),M)){const E=M[2]-M[0],R=M[3]-M[1];this.ctx.rect(M[0],M[1],E,R),this.current.updateRectMinMax((0,y.getCurrentTransform)(this.ctx),M),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(P){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const M=this.ctx;P.isolated||(0,u.info)("TODO: Support non-isolated groups."),P.knockout&&(0,u.warn)("Knockout groups not supported.");const E=(0,y.getCurrentTransform)(M);if(P.matrix&&M.transform(...P.matrix),!P.bbox)throw new Error("Bounding box is required.");let R=u.Util.getAxialAlignedBoundingBox(P.bbox,(0,y.getCurrentTransform)(M));const O=[0,0,M.canvas.width,M.canvas.height];R=u.Util.intersect(R,O)||[0,0,0,0];const B=Math.floor(R[0]),F=Math.floor(R[1]);let j=Math.max(Math.ceil(R[2])-B,1),ae=Math.max(Math.ceil(R[3])-F,1),q=1,pe=1;j>i&&(q=j/i,j=i),ae>i&&(pe=ae/i,ae=i),this.current.startNewPathAndClipBox([0,0,j,ae]);let ne="groupAt"+this.groupLevel;P.smask&&(ne+="_smask_"+this.smaskCounter++%2);const me=this.cachedCanvases.getCanvas(ne,j,ae),ve=me.context;ve.scale(1/q,1/pe),ve.translate(-B,-F),ve.transform(...E),P.smask?this.smaskStack.push({canvas:me.canvas,context:ve,offsetX:B,offsetY:F,scaleX:q,scaleY:pe,subtype:P.smask.subtype,backdrop:P.smask.backdrop,transferMap:P.smask.transferMap||null,startTransformInverse:null}):(M.setTransform(1,0,0,1,0,0),M.translate(B,F),M.scale(q,pe),M.save()),c(M,ve),this.ctx=ve,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(M),this.groupLevel++}endGroup(P){if(!this.contentVisible)return;this.groupLevel--;const M=this.ctx,E=this.groupStack.pop();if(this.ctx=E,this.ctx.imageSmoothingEnabled=!1,P.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const R=(0,y.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...R);const O=u.Util.getAxialAlignedBoundingBox([0,0,M.canvas.width,M.canvas.height],R);this.ctx.drawImage(M.canvas,0,0),this.ctx.restore(),this.compose(O)}}beginAnnotation(P,M,E,R,O){if(J(this,z,un).call(this),a(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(M)&&M.length===4){const B=M[2]-M[0],F=M[3]-M[1];if(O&&this.annotationCanvasMap){E=E.slice(),E[4]-=M[0],E[5]-=M[1],M=M.slice(),M[0]=M[1]=0,M[2]=B,M[3]=F;const[j,ae]=u.Util.singularValueDecompose2dScale((0,y.getCurrentTransform)(this.ctx)),{viewportScale:q}=this,pe=Math.ceil(B*this.outputScaleX*q),ne=Math.ceil(F*this.outputScaleY*q);this.annotationCanvas=this.canvasFactory.create(pe,ne);const{canvas:me,context:ve}=this.annotationCanvas;this.annotationCanvasMap.set(P,me),this.annotationCanvas.savedCtx=this.ctx,this.ctx=ve,this.ctx.save(),this.ctx.setTransform(j,0,0,-ae,0,F*ae),a(this.ctx)}else a(this.ctx),this.ctx.rect(M[0],M[1],B,F),this.ctx.clip(),this.endPath()}this.current=new v(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...E),this.transform(...R)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),J(this,oe,dn).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(P){if(!this.contentVisible)return;const M=P.count;P=this.getObject(P.data,P),P.count=M;const E=this.ctx,R=this.processingType3;if(R&&(R.compiled===void 0&&(R.compiled=g(P)),R.compiled)){R.compiled(E);return}const O=this._createMaskCanvas(P),B=O.canvas;E.save(),E.setTransform(1,0,0,1,0,0),E.drawImage(B,O.offsetX,O.offsetY),E.restore(),this.compose()}paintImageMaskXObjectRepeat(P,M){let E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,R=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,O=arguments.length>4?arguments[4]:void 0,B=arguments.length>5?arguments[5]:void 0;if(!this.contentVisible)return;P=this.getObject(P.data,P);const F=this.ctx;F.save();const j=(0,y.getCurrentTransform)(F);F.transform(M,E,R,O,0,0);const ae=this._createMaskCanvas(P);F.setTransform(1,0,0,1,ae.offsetX-j[4],ae.offsetY-j[5]);for(let q=0,pe=B.length;q<pe;q+=2){const ne=u.Util.transform(j,[M,E,R,O,B[q],B[q+1]]),[me,ve]=u.Util.applyTransform([0,0],ne);F.drawImage(ae.canvas,me,ve)}F.restore(),this.compose()}paintImageMaskXObjectGroup(P){if(!this.contentVisible)return;const M=this.ctx,E=this.current.fillColor,R=this.current.patternFill;for(const O of P){const{data:B,width:F,height:j,transform:ae}=O,q=this.cachedCanvases.getCanvas("maskCanvas",F,j),pe=q.context;pe.save();const ne=this.getObject(B,O);b(pe,ne),pe.globalCompositeOperation="source-in",pe.fillStyle=R?E.getPattern(pe,this,(0,y.getCurrentTransformInverse)(M),k.PathType.FILL):E,pe.fillRect(0,0,F,j),pe.restore(),M.save(),M.transform(...ae),M.scale(1,-1),o(M,q.canvas,0,0,F,j,0,-1,1,1),M.restore()}this.compose()}paintImageXObject(P){if(!this.contentVisible)return;const M=this.getObject(P);if(!M){(0,u.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(M)}paintImageXObjectRepeat(P,M,E,R){if(!this.contentVisible)return;const O=this.getObject(P);if(!O){(0,u.warn)("Dependent image isn't ready yet");return}const B=O.width,F=O.height,j=[];for(let ae=0,q=R.length;ae<q;ae+=2)j.push({transform:[M,0,0,E,R[ae],R[ae+1]],x:0,y:0,w:B,h:F});this.paintInlineImageXObjectGroup(O,j)}applyTransferMapsToCanvas(P){return this.current.transferMaps!=="none"&&(P.filter=this.current.transferMaps,P.drawImage(P.canvas,0,0),P.filter="none"),P.canvas}applyTransferMapsToBitmap(P){if(this.current.transferMaps==="none")return P.bitmap;const{bitmap:M,width:E,height:R}=P,O=this.cachedCanvases.getCanvas("inlineImage",E,R),B=O.context;return B.filter=this.current.transferMaps,B.drawImage(M,0,0),B.filter="none",O.canvas}paintInlineImageXObject(P){if(!this.contentVisible)return;const M=P.width,E=P.height,R=this.ctx;if(this.save(),!u.isNodeJS){const{filter:F}=R;F!=="none"&&F!==""&&(R.filter="none")}R.scale(1/M,-1/E);let O;if(P.bitmap)O=this.applyTransferMapsToBitmap(P);else if(typeof HTMLElement=="function"&&P instanceof HTMLElement||!P.data)O=P;else{const j=this.cachedCanvases.getCanvas("inlineImage",M,E).context;A(j,P),O=this.applyTransferMapsToCanvas(j)}const B=this._scaleImage(O,(0,y.getCurrentTransformInverse)(R));R.imageSmoothingEnabled=$((0,y.getCurrentTransform)(R),P.interpolate),o(R,B.img,0,0,B.paintWidth,B.paintHeight,0,-E,M,E),this.compose(),this.restore()}paintInlineImageXObjectGroup(P,M){if(!this.contentVisible)return;const E=this.ctx;let R;if(P.bitmap)R=P.bitmap;else{const O=P.width,B=P.height,j=this.cachedCanvases.getCanvas("inlineImage",O,B).context;A(j,P),R=this.applyTransferMapsToCanvas(j)}for(const O of M)E.save(),E.transform(...O.transform),E.scale(1,-1),o(E,R,O.x,O.y,O.w,O.h,0,-1,1,1),E.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(P){}markPointProps(P,M){}beginMarkedContent(P){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(P,M){P==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(M)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(P){const M=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(P);const E=this.ctx;this.pendingClip&&(M||(this.pendingClip===he?E.clip("evenodd"):E.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),E.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const P=(0,y.getCurrentTransform)(this.ctx);if(P[1]===0&&P[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(P[0]),Math.abs(P[3]));else{const M=Math.abs(P[0]*P[3]-P[2]*P[1]),E=Math.hypot(P[0],P[2]),R=Math.hypot(P[1],P[3]);this._cachedGetSinglePixelWidth=Math.max(E,R)/M}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:P}=this.current,{a:M,b:E,c:R,d:O}=this.ctx.getTransform();let B,F;if(E===0&&R===0){const j=Math.abs(M),ae=Math.abs(O);if(j===ae)if(P===0)B=F=1/j;else{const q=j*P;B=F=q<1?1/q:1}else if(P===0)B=1/j,F=1/ae;else{const q=j*P,pe=ae*P;B=q<1?1/q:1,F=pe<1?1/pe:1}}else{const j=Math.abs(M*O-E*R),ae=Math.hypot(M,E),q=Math.hypot(R,O);if(P===0)B=q/j,F=ae/j;else{const pe=P*j;B=q>pe?q/pe:1,F=ae>pe?ae/pe:1}}this._cachedScaleForStroking[0]=B,this._cachedScaleForStroking[1]=F}return this._cachedScaleForStroking}rescaleAndStroke(P){const{ctx:M}=this,{lineWidth:E}=this.current,[R,O]=this.getScaleForStroking();if(M.lineWidth=E||1,R===1&&O===1){M.stroke();return}const B=M.getLineDash();if(P&&M.save(),M.scale(R,O),B.length>0){const F=Math.max(R,O);M.setLineDash(B.map(j=>j/F)),M.lineDashOffset/=F}M.stroke(),P&&M.restore()}isContentVisible(){for(let P=this.markedContentStack.length-1;P>=0;P--)if(!this.markedContentStack[P].visible)return!1;return!0}};z=new WeakSet,un=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},oe=new WeakSet,dn=function(){if(this.pageColors){const P=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(P!=="none"){const M=this.ctx.filter;this.ctx.filter=P,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=M}}};let Y=Pe;C.CanvasGraphics=Y;for(const L in u.OPS)Y.prototype[L]!==void 0&&(Y.prototype[u.OPS[L]]=Y.prototype[L])},(N,C,e)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.TilingPattern=C.PathType=void 0,C.getShadingPattern=d,e(2);var u=e(1),y=e(168);const k={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};C.PathType=k;function f(g,v){if(!v)return;const A=v[2]-v[0],b=v[3]-v[1],c=new Path2D;c.rect(v[0],v[1],A,b),g.clip(c)}class m{constructor(){this.constructor===m&&(0,u.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,u.unreachable)("Abstract method `getPattern` called.")}}class t extends m{constructor(v){super(),this._type=v[1],this._bbox=v[2],this._colorStops=v[3],this._p0=v[4],this._p1=v[5],this._r0=v[6],this._r1=v[7],this.matrix=null}_createGradient(v){let A;this._type==="axial"?A=v.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(A=v.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const b of this._colorStops)A.addColorStop(b[0],b[1]);return A}getPattern(v,A,b,c){let a;if(c===k.STROKE||c===k.FILL){const x=A.current.getClippedPathBoundingBox(c,(0,y.getCurrentTransform)(v))||[0,0,0,0],T=Math.ceil(x[2]-x[0])||1,S=Math.ceil(x[3]-x[1])||1,D=A.cachedCanvases.getCanvas("pattern",T,S,!0),I=D.context;I.clearRect(0,0,I.canvas.width,I.canvas.height),I.beginPath(),I.rect(0,0,I.canvas.width,I.canvas.height),I.translate(-x[0],-x[1]),b=u.Util.transform(b,[1,0,0,1,x[0],x[1]]),I.transform(...A.baseTransform),this.matrix&&I.transform(...this.matrix),f(I,this._bbox),I.fillStyle=this._createGradient(I),I.fill(),a=v.createPattern(D.canvas,"no-repeat");const $=new DOMMatrix(b);a.setTransform($)}else f(v,this._bbox),a=this._createGradient(v);return a}}function i(g,v,A,b,c,a,x,T){const S=v.coords,D=v.colors,I=g.data,$=g.width*4;let Z;S[A+1]>S[b+1]&&(Z=A,A=b,b=Z,Z=a,a=x,x=Z),S[b+1]>S[c+1]&&(Z=b,b=c,c=Z,Z=x,x=T,T=Z),S[A+1]>S[b+1]&&(Z=A,A=b,b=Z,Z=a,a=x,x=Z);const W=(S[A]+v.offsetX)*v.scaleX,Q=(S[A+1]+v.offsetY)*v.scaleY,he=(S[b]+v.offsetX)*v.scaleX,Y=(S[b+1]+v.offsetY)*v.scaleY,z=(S[c]+v.offsetX)*v.scaleX,te=(S[c+1]+v.offsetY)*v.scaleY;if(Q>=te)return;const oe=D[a],ye=D[a+1],Pe=D[a+2],L=D[x],P=D[x+1],M=D[x+2],E=D[T],R=D[T+1],O=D[T+2],B=Math.round(Q),F=Math.round(te);let j,ae,q,pe,ne,me,ve,Re;for(let Oe=B;Oe<=F;Oe++){if(Oe<Y){const le=Oe<Q?0:(Q-Oe)/(Q-Y);j=W-(W-he)*le,ae=oe-(oe-L)*le,q=ye-(ye-P)*le,pe=Pe-(Pe-M)*le}else{let le;Oe>te?le=1:Y===te?le=0:le=(Y-Oe)/(Y-te),j=he-(he-z)*le,ae=L-(L-E)*le,q=P-(P-R)*le,pe=M-(M-O)*le}let Ie;Oe<Q?Ie=0:Oe>te?Ie=1:Ie=(Q-Oe)/(Q-te),ne=W-(W-z)*Ie,me=oe-(oe-E)*Ie,ve=ye-(ye-R)*Ie,Re=Pe-(Pe-O)*Ie;const Le=Math.round(Math.min(j,ne)),ue=Math.round(Math.max(j,ne));let ee=$*Oe+Le*4;for(let le=Le;le<=ue;le++)Ie=(j-le)/(j-ne),Ie<0?Ie=0:Ie>1&&(Ie=1),I[ee++]=ae-(ae-me)*Ie|0,I[ee++]=q-(q-ve)*Ie|0,I[ee++]=pe-(pe-Re)*Ie|0,I[ee++]=255}}function n(g,v,A){const b=v.coords,c=v.colors;let a,x;switch(v.type){case"lattice":const T=v.verticesPerRow,S=Math.floor(b.length/T)-1,D=T-1;for(a=0;a<S;a++){let I=a*T;for(let $=0;$<D;$++,I++)i(g,A,b[I],b[I+1],b[I+T],c[I],c[I+1],c[I+T]),i(g,A,b[I+T+1],b[I+1],b[I+T],c[I+T+1],c[I+1],c[I+T])}break;case"triangles":for(a=0,x=b.length;a<x;a+=3)i(g,A,b[a],b[a+1],b[a+2],c[a],c[a+1],c[a+2]);break;default:throw new Error("illegal figure")}}class p extends m{constructor(v){super(),this._coords=v[2],this._colors=v[3],this._figures=v[4],this._bounds=v[5],this._bbox=v[7],this._background=v[8],this.matrix=null}_createMeshCanvas(v,A,b){const T=Math.floor(this._bounds[0]),S=Math.floor(this._bounds[1]),D=Math.ceil(this._bounds[2])-T,I=Math.ceil(this._bounds[3])-S,$=Math.min(Math.ceil(Math.abs(D*v[0]*1.1)),3e3),Z=Math.min(Math.ceil(Math.abs(I*v[1]*1.1)),3e3),W=D/$,Q=I/Z,he={coords:this._coords,colors:this._colors,offsetX:-T,offsetY:-S,scaleX:1/W,scaleY:1/Q},Y=$+2*2,z=Z+2*2,te=b.getCanvas("mesh",Y,z,!1),oe=te.context,ye=oe.createImageData($,Z);if(A){const L=ye.data;for(let P=0,M=L.length;P<M;P+=4)L[P]=A[0],L[P+1]=A[1],L[P+2]=A[2],L[P+3]=255}for(const L of this._figures)n(ye,L,he);return oe.putImageData(ye,2,2),{canvas:te.canvas,offsetX:T-2*W,offsetY:S-2*Q,scaleX:W,scaleY:Q}}getPattern(v,A,b,c){f(v,this._bbox);let a;if(c===k.SHADING)a=u.Util.singularValueDecompose2dScale((0,y.getCurrentTransform)(v));else if(a=u.Util.singularValueDecompose2dScale(A.baseTransform),this.matrix){const T=u.Util.singularValueDecompose2dScale(this.matrix);a=[a[0]*T[0],a[1]*T[1]]}const x=this._createMeshCanvas(a,c===k.SHADING?null:this._background,A.cachedCanvases);return c!==k.SHADING&&(v.setTransform(...A.baseTransform),this.matrix&&v.transform(...this.matrix)),v.translate(x.offsetX,x.offsetY),v.scale(x.scaleX,x.scaleY),v.createPattern(x.canvas,"no-repeat")}}class h extends m{getPattern(){return"hotpink"}}function d(g){switch(g[0]){case"RadialAxial":return new t(g);case"Mesh":return new p(g);case"Dummy":return new h}throw new Error("Unknown IR type: ".concat(g[0]))}const s={COLORED:1,UNCOLORED:2},o=class o{constructor(v,A,b,c,a){this.operatorList=v[2],this.matrix=v[3]||[1,0,0,1,0,0],this.bbox=v[4],this.xstep=v[5],this.ystep=v[6],this.paintType=v[7],this.tilingType=v[8],this.color=A,this.ctx=b,this.canvasGraphicsFactory=c,this.baseTransform=a}createPatternCanvas(v){const A=this.operatorList,b=this.bbox,c=this.xstep,a=this.ystep,x=this.paintType,T=this.tilingType,S=this.color,D=this.canvasGraphicsFactory;(0,u.info)("TilingType: "+T);const I=b[0],$=b[1],Z=b[2],W=b[3],Q=u.Util.singularValueDecompose2dScale(this.matrix),he=u.Util.singularValueDecompose2dScale(this.baseTransform),Y=[Q[0]*he[0],Q[1]*he[1]],z=this.getSizeAndScale(c,this.ctx.canvas.width,Y[0]),te=this.getSizeAndScale(a,this.ctx.canvas.height,Y[1]),oe=v.cachedCanvases.getCanvas("pattern",z.size,te.size,!0),ye=oe.context,Pe=D.createCanvasGraphics(ye);Pe.groupLevel=v.groupLevel,this.setFillAndStrokeStyleToContext(Pe,x,S);let L=I,P=$,M=Z,E=W;return I<0&&(L=0,M+=Math.abs(I)),$<0&&(P=0,E+=Math.abs($)),ye.translate(-(z.scale*L),-(te.scale*P)),Pe.transform(z.scale,0,0,te.scale,0,0),ye.save(),this.clipBbox(Pe,L,P,M,E),Pe.baseTransform=(0,y.getCurrentTransform)(Pe.ctx),Pe.executeOperatorList(A),Pe.endDrawing(),{canvas:oe.canvas,scaleX:z.scale,scaleY:te.scale,offsetX:L,offsetY:P}}getSizeAndScale(v,A,b){v=Math.abs(v);const c=Math.max(o.MAX_PATTERN_SIZE,A);let a=Math.ceil(v*b);return a>=c?a=c:b=a/v,{scale:b,size:a}}clipBbox(v,A,b,c,a){const x=c-A,T=a-b;v.ctx.rect(A,b,x,T),v.current.updateRectMinMax((0,y.getCurrentTransform)(v.ctx),[A,b,c,a]),v.clip(),v.endPath()}setFillAndStrokeStyleToContext(v,A,b){const c=v.ctx,a=v.current;switch(A){case s.COLORED:const x=this.ctx;c.fillStyle=x.fillStyle,c.strokeStyle=x.strokeStyle,a.fillColor=x.fillStyle,a.strokeColor=x.strokeStyle;break;case s.UNCOLORED:const T=u.Util.makeHexColor(b[0],b[1],b[2]);c.fillStyle=T,c.strokeStyle=T,a.fillColor=T,a.strokeColor=T;break;default:throw new u.FormatError("Unsupported paint type: ".concat(A))}}getPattern(v,A,b,c){let a=b;c!==k.SHADING&&(a=u.Util.transform(a,A.baseTransform),this.matrix&&(a=u.Util.transform(a,this.matrix)));const x=this.createPatternCanvas(A);let T=new DOMMatrix(a);T=T.translate(x.offsetX,x.offsetY),T=T.scale(1/x.scaleX,1/x.scaleY);const S=v.createPattern(x.canvas,"repeat");return S.setTransform(T),S}};tt(o,"MAX_PATTERN_SIZE",3e3);let r=o;C.TilingPattern=r},(N,C,e)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.convertBlackAndWhiteToRGBA=k,C.convertToRGBA=y,C.grayToRGBA=m,e(93),e(101),e(102),e(105),e(107),e(109),e(113),e(116),e(123);var u=e(1);function y(t){switch(t.kind){case u.ImageKind.GRAYSCALE_1BPP:return k(t);case u.ImageKind.RGB_24BPP:return f(t)}return null}function k(t){let{src:i,srcPos:n=0,dest:p,width:h,height:d,nonBlackColor:s=4294967295,inverseDecode:r=!1}=t;const o=u.FeatureTest.isLittleEndian?4278190080:255,[g,v]=r?[s,o]:[o,s],A=h>>3,b=h&7,c=i.length;p=new Uint32Array(p.buffer);let a=0;for(let x=0;x<d;x++){for(const S=n+A;n<S;n++){const D=n<c?i[n]:255;p[a++]=D&128?v:g,p[a++]=D&64?v:g,p[a++]=D&32?v:g,p[a++]=D&16?v:g,p[a++]=D&8?v:g,p[a++]=D&4?v:g,p[a++]=D&2?v:g,p[a++]=D&1?v:g}if(b===0)continue;const T=n<c?i[n++]:255;for(let S=0;S<b;S++)p[a++]=T&1<<7-S?v:g}return{srcPos:n,destPos:a}}function f(t){let{src:i,srcPos:n=0,dest:p,destPos:h=0,width:d,height:s}=t,r=0;const o=i.length>>2,g=new Uint32Array(i.buffer,n,o);if(u.FeatureTest.isLittleEndian){for(;r<o-2;r+=3,h+=4){const v=g[r],A=g[r+1],b=g[r+2];p[h]=v|4278190080,p[h+1]=v>>>24|A<<8|4278190080,p[h+2]=A>>>16|b<<16|4278190080,p[h+3]=b>>>8|4278190080}for(let v=r*4,A=i.length;v<A;v+=3)p[h++]=i[v]|i[v+1]<<8|i[v+2]<<16|4278190080}else{for(;r<o-2;r+=3,h+=4){const v=g[r],A=g[r+1],b=g[r+2];p[h]=v|255,p[h+1]=v<<24|A>>>8|255,p[h+2]=A<<16|b>>>16|255,p[h+3]=b<<8|255}for(let v=r*4,A=i.length;v<A;v+=3)p[h++]=i[v]<<24|i[v+1]<<16|i[v+2]<<8|255}return{srcPos:n,destPos:h}}function m(t,i){if(u.FeatureTest.isLittleEndian)for(let n=0,p=t.length;n<p;n++)i[n]=t[n]*65793|4278190080;else for(let n=0,p=t.length;n<p;n++)i[n]=t[n]*16843008|255}},(N,C)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.GlobalWorkerOptions=void 0;const e=Object.create(null);C.GlobalWorkerOptions=e,e.workerPort=null,e.workerSrc=""},(N,C,e)=>{var t,cr,n,hr,h,Dt;Object.defineProperty(C,"__esModule",{value:!0}),C.MessageHandler=void 0,e(2);var u=e(1);const y={UNKNOWN:0,DATA:1,ERROR:2},k={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function f(s){switch(s instanceof Error||typeof s=="object"&&s!==null||(0,u.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),s.name){case"AbortException":return new u.AbortException(s.message);case"MissingPDFException":return new u.MissingPDFException(s.message);case"PasswordException":return new u.PasswordException(s.message,s.code);case"UnexpectedResponseException":return new u.UnexpectedResponseException(s.message,s.status);case"UnknownErrorException":return new u.UnknownErrorException(s.message,s.details);default:return new u.UnknownErrorException(s.message,s.toString())}}class m{constructor(r,o,g){_(this,t);_(this,n);_(this,h);this.sourceName=r,this.targetName=o,this.comObj=g,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=v=>{const A=v.data;if(A.targetName!==this.sourceName)return;if(A.stream){J(this,n,hr).call(this,A);return}if(A.callback){const c=A.callbackId,a=this.callbackCapabilities[c];if(!a)throw new Error("Cannot resolve callback ".concat(c));if(delete this.callbackCapabilities[c],A.callback===y.DATA)a.resolve(A.data);else if(A.callback===y.ERROR)a.reject(f(A.reason));else throw new Error("Unexpected callback case");return}const b=this.actionHandler[A.action];if(!b)throw new Error("Unknown action from worker: ".concat(A.action));if(A.callbackId){const c=this.sourceName,a=A.sourceName;new Promise(function(x){x(b(A.data))}).then(function(x){g.postMessage({sourceName:c,targetName:a,callback:y.DATA,callbackId:A.callbackId,data:x})},function(x){g.postMessage({sourceName:c,targetName:a,callback:y.ERROR,callbackId:A.callbackId,reason:f(x)})});return}if(A.streamId){J(this,t,cr).call(this,A);return}b(A.data)},g.addEventListener("message",this._onComObjOnMessage)}on(r,o){const g=this.actionHandler;if(g[r])throw new Error('There is already an actionName called "'.concat(r,'"'));g[r]=o}send(r,o,g){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:r,data:o},g)}sendWithPromise(r,o,g){const v=this.callbackId++,A=new u.PromiseCapability;this.callbackCapabilities[v]=A;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:r,callbackId:v,data:o},g)}catch(b){A.reject(b)}return A.promise}sendWithStream(r,o,g,v){const A=this.streamId++,b=this.sourceName,c=this.targetName,a=this.comObj;return new ReadableStream({start:x=>{const T=new u.PromiseCapability;return this.streamControllers[A]={controller:x,startCall:T,pullCall:null,cancelCall:null,isClosed:!1},a.postMessage({sourceName:b,targetName:c,action:r,streamId:A,data:o,desiredSize:x.desiredSize},v),T.promise},pull:x=>{const T=new u.PromiseCapability;return this.streamControllers[A].pullCall=T,a.postMessage({sourceName:b,targetName:c,stream:k.PULL,streamId:A,desiredSize:x.desiredSize}),T.promise},cancel:x=>{(0,u.assert)(x instanceof Error,"cancel must have a valid reason");const T=new u.PromiseCapability;return this.streamControllers[A].cancelCall=T,this.streamControllers[A].isClosed=!0,a.postMessage({sourceName:b,targetName:c,stream:k.CANCEL,streamId:A,reason:f(x)}),T.promise}},g)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}t=new WeakSet,cr=function(r){const o=r.streamId,g=this.sourceName,v=r.sourceName,A=this.comObj,b=this,c=this.actionHandler[r.action],a={enqueue(x){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,S=arguments.length>2?arguments[2]:void 0;if(this.isCancelled)return;const D=this.desiredSize;this.desiredSize-=T,D>0&&this.desiredSize<=0&&(this.sinkCapability=new u.PromiseCapability,this.ready=this.sinkCapability.promise),A.postMessage({sourceName:g,targetName:v,stream:k.ENQUEUE,streamId:o,chunk:x},S)},close(){this.isCancelled||(this.isCancelled=!0,A.postMessage({sourceName:g,targetName:v,stream:k.CLOSE,streamId:o}),delete b.streamSinks[o])},error(x){(0,u.assert)(x instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,A.postMessage({sourceName:g,targetName:v,stream:k.ERROR,streamId:o,reason:f(x)}))},sinkCapability:new u.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:r.desiredSize,ready:null};a.sinkCapability.resolve(),a.ready=a.sinkCapability.promise,this.streamSinks[o]=a,new Promise(function(x){x(c(r.data,a))}).then(function(){A.postMessage({sourceName:g,targetName:v,stream:k.START_COMPLETE,streamId:o,success:!0})},function(x){A.postMessage({sourceName:g,targetName:v,stream:k.START_COMPLETE,streamId:o,reason:f(x)})})},n=new WeakSet,hr=function(r){const o=r.streamId,g=this.sourceName,v=r.sourceName,A=this.comObj,b=this.streamControllers[o],c=this.streamSinks[o];switch(r.stream){case k.START_COMPLETE:r.success?b.startCall.resolve():b.startCall.reject(f(r.reason));break;case k.PULL_COMPLETE:r.success?b.pullCall.resolve():b.pullCall.reject(f(r.reason));break;case k.PULL:if(!c){A.postMessage({sourceName:g,targetName:v,stream:k.PULL_COMPLETE,streamId:o,success:!0});break}c.desiredSize<=0&&r.desiredSize>0&&c.sinkCapability.resolve(),c.desiredSize=r.desiredSize,new Promise(function(a){var x;a((x=c.onPull)==null?void 0:x.call(c))}).then(function(){A.postMessage({sourceName:g,targetName:v,stream:k.PULL_COMPLETE,streamId:o,success:!0})},function(a){A.postMessage({sourceName:g,targetName:v,stream:k.PULL_COMPLETE,streamId:o,reason:f(a)})});break;case k.ENQUEUE:if((0,u.assert)(b,"enqueue should have stream controller"),b.isClosed)break;b.controller.enqueue(r.chunk);break;case k.CLOSE:if((0,u.assert)(b,"close should have stream controller"),b.isClosed)break;b.isClosed=!0,b.controller.close(),J(this,h,Dt).call(this,b,o);break;case k.ERROR:(0,u.assert)(b,"error should have stream controller"),b.controller.error(f(r.reason)),J(this,h,Dt).call(this,b,o);break;case k.CANCEL_COMPLETE:r.success?b.cancelCall.resolve():b.cancelCall.reject(f(r.reason)),J(this,h,Dt).call(this,b,o);break;case k.CANCEL:if(!c)break;new Promise(function(a){var x;a((x=c.onCancel)==null?void 0:x.call(c,f(r.reason)))}).then(function(){A.postMessage({sourceName:g,targetName:v,stream:k.CANCEL_COMPLETE,streamId:o,success:!0})},function(a){A.postMessage({sourceName:g,targetName:v,stream:k.CANCEL_COMPLETE,streamId:o,reason:f(a)})}),c.sinkCapability.reject(f(r.reason)),c.isCancelled=!0,delete this.streamSinks[o];break;default:throw new Error("Unexpected stream case")}},h=new WeakSet,Dt=async function(r,o){var g,v,A;await Promise.allSettled([(g=r.startCall)==null?void 0:g.promise,(v=r.pullCall)==null?void 0:v.promise,(A=r.cancelCall)==null?void 0:A.promise]),delete this.streamControllers[o]},C.MessageHandler=m},(N,C,e)=>{var k,f;Object.defineProperty(C,"__esModule",{value:!0}),C.Metadata=void 0;var u=e(1);class y{constructor(t){_(this,k,void 0);_(this,f,void 0);let{parsedData:i,rawData:n}=t;ce(this,k,i),ce(this,f,n)}getRaw(){return l(this,f)}get(t){var i;return(i=l(this,k).get(t))!=null?i:null}getAll(){return(0,u.objectFromMap)(l(this,k))}has(t){return l(this,k).has(t)}}k=new WeakMap,f=new WeakMap,C.Metadata=y},(N,C,e)=>{var t,i,n,p,h,d,fn;Object.defineProperty(C,"__esModule",{value:!0}),C.OptionalContentConfig=void 0;var u=e(1),y=e(170);const k=Symbol("INTERNAL");class f{constructor(o,g){_(this,t,!0);this.name=o,this.intent=g}get visible(){return l(this,t)}_setVisible(o,g){o!==k&&(0,u.unreachable)("Internal method `_setVisible` called."),ce(this,t,g)}}t=new WeakMap;class m{constructor(o){_(this,d);_(this,i,null);_(this,n,new Map);_(this,p,null);_(this,h,null);if(this.name=null,this.creator=null,o!==null){this.name=o.name,this.creator=o.creator,ce(this,h,o.order);for(const g of o.groups)l(this,n).set(g.id,new f(g.name,g.intent));if(o.baseState==="OFF")for(const g of l(this,n).values())g._setVisible(k,!1);for(const g of o.on)l(this,n).get(g)._setVisible(k,!0);for(const g of o.off)l(this,n).get(g)._setVisible(k,!1);ce(this,p,this.getHash())}}isVisible(o){if(l(this,n).size===0)return!0;if(!o)return(0,u.warn)("Optional content group not defined."),!0;if(o.type==="OCG")return l(this,n).has(o.id)?l(this,n).get(o.id).visible:((0,u.warn)("Optional content group not found: ".concat(o.id)),!0);if(o.type==="OCMD"){if(o.expression)return J(this,d,fn).call(this,o.expression);if(!o.policy||o.policy==="AnyOn"){for(const g of o.ids){if(!l(this,n).has(g))return(0,u.warn)("Optional content group not found: ".concat(g)),!0;if(l(this,n).get(g).visible)return!0}return!1}else if(o.policy==="AllOn"){for(const g of o.ids){if(!l(this,n).has(g))return(0,u.warn)("Optional content group not found: ".concat(g)),!0;if(!l(this,n).get(g).visible)return!1}return!0}else if(o.policy==="AnyOff"){for(const g of o.ids){if(!l(this,n).has(g))return(0,u.warn)("Optional content group not found: ".concat(g)),!0;if(!l(this,n).get(g).visible)return!0}return!1}else if(o.policy==="AllOff"){for(const g of o.ids){if(!l(this,n).has(g))return(0,u.warn)("Optional content group not found: ".concat(g)),!0;if(l(this,n).get(g).visible)return!1}return!0}return(0,u.warn)("Unknown optional content policy ".concat(o.policy,".")),!0}return(0,u.warn)("Unknown group type ".concat(o.type,".")),!0}setVisibility(o){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!l(this,n).has(o)){(0,u.warn)("Optional content group not found: ".concat(o));return}l(this,n).get(o)._setVisible(k,!!g),ce(this,i,null)}get hasInitialVisibility(){return l(this,p)===null||this.getHash()===l(this,p)}getOrder(){return l(this,n).size?l(this,h)?l(this,h).slice():[...l(this,n).keys()]:null}getGroups(){return l(this,n).size>0?(0,u.objectFromMap)(l(this,n)):null}getGroup(o){return l(this,n).get(o)||null}getHash(){if(l(this,i)!==null)return l(this,i);const o=new y.MurmurHash3_64;for(const[g,v]of l(this,n))o.update("".concat(g,":").concat(v.visible));return ce(this,i,o.hexdigest())}}i=new WeakMap,n=new WeakMap,p=new WeakMap,h=new WeakMap,d=new WeakSet,fn=function(o){const g=o.length;if(g<2)return!0;const v=o[0];for(let A=1;A<g;A++){const b=o[A];let c;if(Array.isArray(b))c=J(this,d,fn).call(this,b);else if(l(this,n).has(b))c=l(this,n).get(b).visible;else return(0,u.warn)("Optional content group not found: ".concat(b)),!0;switch(v){case"And":if(!c)return!1;break;case"Or":if(c)return!0;break;case"Not":return!c;default:return!0}}return v==="And"},C.OptionalContentConfig=m},(N,C,e)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.PDFDataTransportStream=void 0,e(93),e(101),e(102),e(105),e(107),e(109),e(113),e(116),e(123),e(89);var u=e(1),y=e(168);class k{constructor(i,n){let{length:p,initialData:h,progressiveDone:d=!1,contentDispositionFilename:s=null,disableRange:r=!1,disableStream:o=!1}=i;if((0,u.assert)(n,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=d,this._contentDispositionFilename=s,(h==null?void 0:h.length)>0){const g=h instanceof Uint8Array&&h.byteLength===h.buffer.byteLength?h.buffer:new Uint8Array(h).buffer;this._queuedChunks.push(g)}this._pdfDataRangeTransport=n,this._isStreamingSupported=!o,this._isRangeSupported=!r,this._contentLength=p,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((g,v)=>{this._onReceiveData({begin:g,chunk:v})}),this._pdfDataRangeTransport.addProgressListener((g,v)=>{this._onProgress({loaded:g,total:v})}),this._pdfDataRangeTransport.addProgressiveReadListener(g=>{this._onReceiveData({chunk:g})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(i){let{begin:n,chunk:p}=i;const h=p instanceof Uint8Array&&p.byteLength===p.buffer.byteLength?p.buffer:new Uint8Array(p).buffer;if(n===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(h):this._queuedChunks.push(h);else{const d=this._rangeReaders.some(function(s){return s._begin!==n?!1:(s._enqueue(h),!0)});(0,u.assert)(d,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var i,n;return(n=(i=this._fullRequestReader)==null?void 0:i._loaded)!=null?n:0}_onProgress(i){var n,p,h,d;i.total===void 0?(p=(n=this._rangeReaders[0])==null?void 0:n.onProgress)==null||p.call(n,{loaded:i.loaded}):(d=(h=this._fullRequestReader)==null?void 0:h.onProgress)==null||d.call(h,{loaded:i.loaded,total:i.total})}_onProgressiveDone(){var i;(i=this._fullRequestReader)==null||i.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(i){const n=this._rangeReaders.indexOf(i);n>=0&&this._rangeReaders.splice(n,1)}getFullReader(){(0,u.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const i=this._queuedChunks;return this._queuedChunks=null,new f(this,i,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(i,n){if(n<=this._progressiveDataLength)return null;const p=new m(this,i,n);return this._pdfDataRangeTransport.requestDataRange(i,n),this._rangeReaders.push(p),p}cancelAllRequests(i){var n;(n=this._fullRequestReader)==null||n.cancel(i);for(const p of this._rangeReaders.slice(0))p.cancel(i);this._pdfDataRangeTransport.abort()}}C.PDFDataTransportStream=k;class f{constructor(i,n){let p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;this._stream=i,this._done=p||!1,this._filename=(0,y.isPdfFile)(h)?h:null,this._queuedChunks=n||[],this._loaded=0;for(const d of this._queuedChunks)this._loaded+=d.byteLength;this._requests=[],this._headersReady=Promise.resolve(),i._fullRequestReader=this,this.onProgress=null}_enqueue(i){this._done||(this._requests.length>0?this._requests.shift().resolve({value:i,done:!1}):this._queuedChunks.push(i),this._loaded+=i.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const i=new u.PromiseCapability;return this._requests.push(i),i.promise}cancel(i){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class m{constructor(i,n,p){this._stream=i,this._begin=n,this._end=p,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(i){if(!this._done){if(this._requests.length===0)this._queuedChunk=i;else{this._requests.shift().resolve({value:i,done:!1});for(const p of this._requests)p.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const i=new u.PromiseCapability;return this._requests.push(i),i.promise}cancel(i){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(N,C,e)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.PDFFetchStream=void 0,e(93),e(101),e(102),e(105),e(107),e(109),e(113),e(116),e(123),e(89);var u=e(1),y=e(182);function k(p,h,d){return{method:"GET",headers:p,signal:d.signal,mode:"cors",credentials:h?"include":"same-origin",redirect:"follow"}}function f(p){const h=new Headers;for(const d in p){const s=p[d];s!==void 0&&h.append(d,s)}return h}function m(p){return p instanceof Uint8Array?p.buffer:p instanceof ArrayBuffer?p:((0,u.warn)("getArrayBuffer - unexpected data format: ".concat(p)),new Uint8Array(p).buffer)}class t{constructor(h){this.source=h,this.isHttp=/^https?:/i.test(h.url),this.httpHeaders=this.isHttp&&h.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var h,d;return(d=(h=this._fullRequestReader)==null?void 0:h._loaded)!=null?d:0}getFullReader(){return(0,u.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new i(this),this._fullRequestReader}getRangeReader(h,d){if(d<=this._progressiveDataLength)return null;const s=new n(this,h,d);return this._rangeRequestReaders.push(s),s}cancelAllRequests(h){var d;(d=this._fullRequestReader)==null||d.cancel(h);for(const s of this._rangeRequestReaders.slice(0))s.cancel(h)}}C.PDFFetchStream=t;class i{constructor(h){this._stream=h,this._reader=null,this._loaded=0,this._filename=null;const d=h.source;this._withCredentials=d.withCredentials||!1,this._contentLength=d.length,this._headersCapability=new u.PromiseCapability,this._disableRange=d.disableRange||!1,this._rangeChunkSize=d.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!d.disableStream,this._isRangeSupported=!d.disableRange,this._headers=f(this._stream.httpHeaders);const s=d.url;fetch(s,k(this._headers,this._withCredentials,this._abortController)).then(r=>{if(!(0,y.validateResponseStatus)(r.status))throw(0,y.createResponseStatusError)(r.status,s);this._reader=r.body.getReader(),this._headersCapability.resolve();const o=A=>r.headers.get(A),{allowRangeRequests:g,suggestedLength:v}=(0,y.validateRangeRequestCapabilities)({getResponseHeader:o,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=g,this._contentLength=v||this._contentLength,this._filename=(0,y.extractFilenameFromHeader)(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new u.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;await this._headersCapability.promise;const{value:h,done:d}=await this._reader.read();return d?{value:h,done:d}:(this._loaded+=h.byteLength,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded,total:this._contentLength}),{value:m(h),done:!1})}cancel(h){var d;(d=this._reader)==null||d.cancel(h),this._abortController.abort()}}class n{constructor(h,d,s){this._stream=h,this._reader=null,this._loaded=0;const r=h.source;this._withCredentials=r.withCredentials||!1,this._readCapability=new u.PromiseCapability,this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController,this._headers=f(this._stream.httpHeaders),this._headers.append("Range","bytes=".concat(d,"-").concat(s-1));const o=r.url;fetch(o,k(this._headers,this._withCredentials,this._abortController)).then(g=>{if(!(0,y.validateResponseStatus)(g.status))throw(0,y.createResponseStatusError)(g.status,o);this._readCapability.resolve(),this._reader=g.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;await this._readCapability.promise;const{value:h,done:d}=await this._reader.read();return d?{value:h,done:d}:(this._loaded+=h.byteLength,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded}),{value:m(h),done:!1})}cancel(h){var d;(d=this._reader)==null||d.cancel(h),this._abortController.abort()}}},(N,C,e)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.createResponseStatusError=t,C.extractFilenameFromHeader=m,C.validateRangeRequestCapabilities=f,C.validateResponseStatus=i;var u=e(1),y=e(183),k=e(168);function f(n){let{getResponseHeader:p,isHttp:h,rangeChunkSize:d,disableRange:s}=n;const r={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(p("Content-Length"),10);return!Number.isInteger(o)||(r.suggestedLength=o,o<=2*d)||s||!h||p("Accept-Ranges")!=="bytes"||(p("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function m(n){const p=n("Content-Disposition");if(p){let h=(0,y.getFilenameFromContentDispositionHeader)(p);if(h.includes("%"))try{h=decodeURIComponent(h)}catch(d){}if((0,k.isPdfFile)(h))return h}return null}function t(n,p){return n===404||n===0&&p.startsWith("file:")?new u.MissingPDFException('Missing PDF "'+p+'".'):new u.UnexpectedResponseException("Unexpected server response (".concat(n,') while retrieving PDF "').concat(p,'".'),n)}function i(n){return n===200||n===206}},(N,C,e)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.getFilenameFromContentDispositionHeader=y,e(89),e(149);var u=e(1);function y(k){let f=!0,m=t("filename\\*","i").exec(k);if(m){m=m[1];let r=h(m);return r=unescape(r),r=d(r),r=s(r),n(r)}if(m=p(k),m){const r=s(m);return n(r)}if(m=t("filename","i").exec(k),m){m=m[1];let r=h(m);return r=s(r),n(r)}function t(r,o){return new RegExp("(?:^|;)\\s*"+r+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',o)}function i(r,o){if(r){if(!/^[\x00-\xFF]+$/.test(o))return o;try{const g=new TextDecoder(r,{fatal:!0}),v=(0,u.stringToBytes)(o);o=g.decode(v),f=!1}catch(g){}}return o}function n(r){return f&&/[\x80-\xff]/.test(r)&&(r=i("utf-8",r),f&&(r=i("iso-8859-1",r))),r}function p(r){const o=[];let g;const v=t("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(g=v.exec(r))!==null;){let[,b,c,a]=g;if(b=parseInt(b,10),b in o){if(b===0)break;continue}o[b]=[c,a]}const A=[];for(let b=0;b<o.length&&b in o;++b){let[c,a]=o[b];a=h(a),c&&(a=unescape(a),b===0&&(a=d(a))),A.push(a)}return A.join("")}function h(r){if(r.startsWith('"')){const o=r.slice(1).split('\\"');for(let g=0;g<o.length;++g){const v=o[g].indexOf('"');v!==-1&&(o[g]=o[g].slice(0,v),o.length=g+1),o[g]=o[g].replaceAll(/\\(.)/g,"$1")}r=o.join('"')}return r}function d(r){const o=r.indexOf("'");if(o===-1)return r;const g=r.slice(0,o),A=r.slice(o+1).replace(/^[^']*'/,"");return i(g,A)}function s(r){return!r.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(r)?r:r.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(o,g,v,A){if(v==="q"||v==="Q")return A=A.replaceAll("_"," "),A=A.replaceAll(/=([0-9a-fA-F]{2})/g,function(b,c){return String.fromCharCode(parseInt(c,16))}),i(g,A);try{A=atob(A)}catch(b){}return i(g,A)})}return""}},(N,C,e)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.PDFNetworkStream=void 0,e(89);var u=e(1),y=e(182);const k=200,f=206;function m(h){const d=h.response;return typeof d!="string"?d:(0,u.stringToBytes)(d).buffer}class t{constructor(d){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.url=d,this.isHttp=/^https?:/i.test(d),this.httpHeaders=this.isHttp&&s.httpHeaders||Object.create(null),this.withCredentials=s.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(d,s,r){const o={begin:d,end:s};for(const g in r)o[g]=r[g];return this.request(o)}requestFull(d){return this.request(d)}request(d){const s=new XMLHttpRequest,r=this.currXhrId++,o=this.pendingRequests[r]={xhr:s};s.open("GET",this.url),s.withCredentials=this.withCredentials;for(const g in this.httpHeaders){const v=this.httpHeaders[g];v!==void 0&&s.setRequestHeader(g,v)}return this.isHttp&&"begin"in d&&"end"in d?(s.setRequestHeader("Range","bytes=".concat(d.begin,"-").concat(d.end-1)),o.expectedStatus=f):o.expectedStatus=k,s.responseType="arraybuffer",d.onError&&(s.onerror=function(g){d.onError(s.status)}),s.onreadystatechange=this.onStateChange.bind(this,r),s.onprogress=this.onProgress.bind(this,r),o.onHeadersReceived=d.onHeadersReceived,o.onDone=d.onDone,o.onError=d.onError,o.onProgress=d.onProgress,s.send(null),r}onProgress(d,s){var o;const r=this.pendingRequests[d];r&&((o=r.onProgress)==null||o.call(r,s))}onStateChange(d,s){var b,c,a;const r=this.pendingRequests[d];if(!r)return;const o=r.xhr;if(o.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),o.readyState!==4||!(d in this.pendingRequests))return;if(delete this.pendingRequests[d],o.status===0&&this.isHttp){(b=r.onError)==null||b.call(r,o.status);return}const g=o.status||k;if(!(g===k&&r.expectedStatus===f)&&g!==r.expectedStatus){(c=r.onError)==null||c.call(r,o.status);return}const A=m(o);if(g===f){const x=o.getResponseHeader("Content-Range"),T=/bytes (\d+)-(\d+)\/(\d+)/.exec(x);r.onDone({begin:parseInt(T[1],10),chunk:A})}else A?r.onDone({begin:0,chunk:A}):(a=r.onError)==null||a.call(r,o.status)}getRequestXhr(d){return this.pendingRequests[d].xhr}isPendingRequest(d){return d in this.pendingRequests}abortRequest(d){const s=this.pendingRequests[d].xhr;delete this.pendingRequests[d],s.abort()}}class i{constructor(d){this._source=d,this._manager=new t(d.url,{httpHeaders:d.httpHeaders,withCredentials:d.withCredentials}),this._rangeChunkSize=d.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(d){const s=this._rangeRequestReaders.indexOf(d);s>=0&&this._rangeRequestReaders.splice(s,1)}getFullReader(){return(0,u.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new n(this._manager,this._source),this._fullRequestReader}getRangeReader(d,s){const r=new p(this._manager,d,s);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(d){var s;(s=this._fullRequestReader)==null||s.cancel(d);for(const r of this._rangeRequestReaders.slice(0))r.cancel(d)}}C.PDFNetworkStream=i;class n{constructor(d,s){this._manager=d;const r={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=s.url,this._fullRequestId=d.requestFull(r),this._headersReceivedCapability=new u.PromiseCapability,this._disableRange=s.disableRange||!1,this._contentLength=s.length,this._rangeChunkSize=s.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const d=this._fullRequestId,s=this._manager.getRequestXhr(d),r=v=>s.getResponseHeader(v),{allowRangeRequests:o,suggestedLength:g}=(0,y.validateRangeRequestCapabilities)({getResponseHeader:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});o&&(this._isRangeSupported=!0),this._contentLength=g||this._contentLength,this._filename=(0,y.extractFilenameFromHeader)(r),this._isRangeSupported&&this._manager.abortRequest(d),this._headersReceivedCapability.resolve()}_onDone(d){if(d&&(this._requests.length>0?this._requests.shift().resolve({value:d.chunk,done:!1}):this._cachedChunks.push(d.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(d){this._storedError=(0,y.createResponseStatusError)(d,this._url),this._headersReceivedCapability.reject(this._storedError);for(const s of this._requests)s.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(d){var s;(s=this.onProgress)==null||s.call(this,{loaded:d.loaded,total:d.lengthComputable?d.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const d=new u.PromiseCapability;return this._requests.push(d),d.promise}cancel(d){this._done=!0,this._headersReceivedCapability.reject(d);for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class p{constructor(d,s,r){this._manager=d;const o={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=d.url,this._requestId=d.requestRange(s,r,o),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var d;(d=this.onClosed)==null||d.call(this,this)}_onDone(d){const s=d.chunk;this._requests.length>0?this._requests.shift().resolve({value:s,done:!1}):this._queuedChunk=s,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(d){this._storedError=(0,y.createResponseStatusError)(d,this._url);for(const s of this._requests)s.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(d){var s;this.isStreamingSupported||(s=this.onProgress)==null||s.call(this,{loaded:d.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const s=this._queuedChunk;return this._queuedChunk=null,{value:s,done:!1}}if(this._done)return{value:void 0,done:!0};const d=new u.PromiseCapability;return this._requests.push(d),d.promise}cancel(d){this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(N,C,e)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.PDFNodeStream=void 0,e(89),e(93),e(101),e(102),e(105),e(107),e(109),e(113),e(116),e(123);var u=e(1),y=e(182);const k=/^file:\/\/\/[a-zA-Z]:\//;function f(r){const o=require$$6,g=o.parse(r);return g.protocol==="file:"||g.host?g:/^[a-z]:[/\\]/i.test(r)?o.parse("file:///".concat(r)):(g.host||(g.protocol="file:"),g)}class m{constructor(o){this.source=o,this.url=f(o.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&o.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var o,g;return(g=(o=this._fullRequestReader)==null?void 0:o._loaded)!=null?g:0}getFullReader(){return(0,u.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new d(this):new p(this),this._fullRequestReader}getRangeReader(o,g){if(g<=this._progressiveDataLength)return null;const v=this.isFsUrl?new s(this,o,g):new h(this,o,g);return this._rangeRequestReaders.push(v),v}cancelAllRequests(o){var g;(g=this._fullRequestReader)==null||g.cancel(o);for(const v of this._rangeRequestReaders.slice(0))v.cancel(o)}}C.PDFNodeStream=m;class t{constructor(o){this._url=o.url,this._done=!1,this._storedError=null,this.onProgress=null;const g=o.source;this._contentLength=g.length,this._loaded=0,this._filename=null,this._disableRange=g.disableRange||!1,this._rangeChunkSize=g.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!g.disableStream,this._isRangeSupported=!g.disableRange,this._readableStream=null,this._readCapability=new u.PromiseCapability,this._headersCapability=new u.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var v;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const o=this._readableStream.read();return o===null?(this._readCapability=new u.PromiseCapability,this.read()):(this._loaded+=o.length,(v=this.onProgress)==null||v.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(o).buffer,done:!1})}cancel(o){if(!this._readableStream){this._error(o);return}this._readableStream.destroy(o)}_error(o){this._storedError=o,this._readCapability.resolve()}_setReadableStream(o){this._readableStream=o,o.on("readable",()=>{this._readCapability.resolve()}),o.on("end",()=>{o.destroy(),this._done=!0,this._readCapability.resolve()}),o.on("error",g=>{this._error(g)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new u.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class i{constructor(o){this._url=o.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new u.PromiseCapability;const g=o.source;this._isStreamingSupported=!g.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var v;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const o=this._readableStream.read();return o===null?(this._readCapability=new u.PromiseCapability,this.read()):(this._loaded+=o.length,(v=this.onProgress)==null||v.call(this,{loaded:this._loaded}),{value:new Uint8Array(o).buffer,done:!1})}cancel(o){if(!this._readableStream){this._error(o);return}this._readableStream.destroy(o)}_error(o){this._storedError=o,this._readCapability.resolve()}_setReadableStream(o){this._readableStream=o,o.on("readable",()=>{this._readCapability.resolve()}),o.on("end",()=>{o.destroy(),this._done=!0,this._readCapability.resolve()}),o.on("error",g=>{this._error(g)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function n(r,o){return{protocol:r.protocol,auth:r.auth,host:r.hostname,port:r.port,path:r.path,method:"GET",headers:o}}class p extends t{constructor(o){super(o);const g=v=>{if(v.statusCode===404){const a=new u.MissingPDFException('Missing PDF "'.concat(this._url,'".'));this._storedError=a,this._headersCapability.reject(a);return}this._headersCapability.resolve(),this._setReadableStream(v);const A=a=>this._readableStream.headers[a.toLowerCase()],{allowRangeRequests:b,suggestedLength:c}=(0,y.validateRangeRequestCapabilities)({getResponseHeader:A,isHttp:o.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=b,this._contentLength=c||this._contentLength,this._filename=(0,y.extractFilenameFromHeader)(A)};if(this._request=null,this._url.protocol==="http:"){const v=require$$6;this._request=v.request(n(this._url,o.httpHeaders),g)}else{const v=require$$6;this._request=v.request(n(this._url,o.httpHeaders),g)}this._request.on("error",v=>{this._storedError=v,this._headersCapability.reject(v)}),this._request.end()}}class h extends i{constructor(o,g,v){super(o),this._httpHeaders={};for(const b in o.httpHeaders){const c=o.httpHeaders[b];c!==void 0&&(this._httpHeaders[b]=c)}this._httpHeaders.Range="bytes=".concat(g,"-").concat(v-1);const A=b=>{if(b.statusCode===404){const c=new u.MissingPDFException('Missing PDF "'.concat(this._url,'".'));this._storedError=c;return}this._setReadableStream(b)};if(this._request=null,this._url.protocol==="http:"){const b=require$$6;this._request=b.request(n(this._url,this._httpHeaders),A)}else{const b=require$$6;this._request=b.request(n(this._url,this._httpHeaders),A)}this._request.on("error",b=>{this._storedError=b}),this._request.end()}}class d extends t{constructor(o){super(o);let g=decodeURIComponent(this._url.path);k.test(this._url.href)&&(g=g.replace(/^\//,""));const v=require$$6;v.lstat(g,(A,b)=>{if(A){A.code==="ENOENT"&&(A=new u.MissingPDFException('Missing PDF "'.concat(g,'".'))),this._storedError=A,this._headersCapability.reject(A);return}this._contentLength=b.size,this._setReadableStream(v.createReadStream(g)),this._headersCapability.resolve()})}}class s extends i{constructor(o,g,v){super(o);let A=decodeURIComponent(this._url.path);k.test(this._url.href)&&(A=A.replace(/^\//,""));const b=require$$6;this._setReadableStream(b.createReadStream(A,{start:g,end:v-1}))}}},(N,C,e)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.SVGGraphics=void 0,e(84),e(86),e(87),e(93),e(101),e(102),e(105),e(107),e(109),e(113),e(116),e(123),e(2),e(89),e(187);var u=e(168),y=e(1);const k={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},f="http://www.w3.org/XML/1998/namespace",m="http://www.w3.org/1999/xlink",t=["butt","round","square"],i=["miter","round","bevel"],n=function(b){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(URL.createObjectURL&&typeof Blob<"u"&&!a)return URL.createObjectURL(new Blob([b],{type:c}));const x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let T="data:".concat(c,";base64,");for(let S=0,D=b.length;S<D;S+=3){const I=b[S]&255,$=b[S+1]&255,Z=b[S+2]&255,W=I>>2,Q=(I&3)<<4|$>>4,he=S+1<D?($&15)<<2|Z>>6:64,Y=S+2<D?Z&63:64;T+=x[W]+x[Q]+x[he]+x[Y]}return T},p=function(){const b=new Uint8Array([137,80,78,71,13,10,26,10]),c=12,a=new Int32Array(256);for(let Z=0;Z<256;Z++){let W=Z;for(let Q=0;Q<8;Q++)W=W&1?3988292384^W>>1&2147483647:W>>1&2147483647;a[Z]=W}function x(Z,W,Q){let he=-1;for(let Y=W;Y<Q;Y++){const z=(he^Z[Y])&255,te=a[z];he=he>>>8^te}return he^-1}function T(Z,W,Q,he){let Y=he;const z=W.length;Q[Y]=z>>24&255,Q[Y+1]=z>>16&255,Q[Y+2]=z>>8&255,Q[Y+3]=z&255,Y+=4,Q[Y]=Z.charCodeAt(0)&255,Q[Y+1]=Z.charCodeAt(1)&255,Q[Y+2]=Z.charCodeAt(2)&255,Q[Y+3]=Z.charCodeAt(3)&255,Y+=4,Q.set(W,Y),Y+=W.length;const te=x(Q,he+4,Y);Q[Y]=te>>24&255,Q[Y+1]=te>>16&255,Q[Y+2]=te>>8&255,Q[Y+3]=te&255}function S(Z,W,Q){let he=1,Y=0;for(let z=W;z<Q;++z)he=(he+(Z[z]&255))%65521,Y=(Y+he)%65521;return Y<<16|he}function D(Z){if(!y.isNodeJS)return I(Z);try{const W=parseInt(process.versions.node)>=8?Z:Buffer.from(Z),Q=require$$6.deflateSync(W,{level:9});return Q instanceof Uint8Array?Q:new Uint8Array(Q)}catch(W){(0,y.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+W)}return I(Z)}function I(Z){let W=Z.length;const Q=65535,he=Math.ceil(W/Q),Y=new Uint8Array(2+W+he*5+4);let z=0;Y[z++]=120,Y[z++]=156;let te=0;for(;W>Q;)Y[z++]=0,Y[z++]=255,Y[z++]=255,Y[z++]=0,Y[z++]=0,Y.set(Z.subarray(te,te+Q),z),z+=Q,te+=Q,W-=Q;Y[z++]=1,Y[z++]=W&255,Y[z++]=W>>8&255,Y[z++]=~W&65535&255,Y[z++]=(~W&65535)>>8&255,Y.set(Z.subarray(te),z),z+=Z.length-te;const oe=S(Z,0,Z.length);return Y[z++]=oe>>24&255,Y[z++]=oe>>16&255,Y[z++]=oe>>8&255,Y[z++]=oe&255,Y}function $(Z,W,Q,he){const Y=Z.width,z=Z.height;let te,oe,ye;const Pe=Z.data;switch(W){case y.ImageKind.GRAYSCALE_1BPP:oe=0,te=1,ye=Y+7>>3;break;case y.ImageKind.RGB_24BPP:oe=2,te=8,ye=Y*3;break;case y.ImageKind.RGBA_32BPP:oe=6,te=8,ye=Y*4;break;default:throw new Error("invalid format")}const L=new Uint8Array((1+ye)*z);let P=0,M=0;for(let j=0;j<z;++j)L[P++]=0,L.set(Pe.subarray(M,M+ye),P),M+=ye,P+=ye;if(W===y.ImageKind.GRAYSCALE_1BPP&&he){P=0;for(let j=0;j<z;j++){P++;for(let ae=0;ae<ye;ae++)L[P++]^=255}}const E=new Uint8Array([Y>>24&255,Y>>16&255,Y>>8&255,Y&255,z>>24&255,z>>16&255,z>>8&255,z&255,te,oe,0,0,0]),R=D(L),O=b.length+c*3+E.length+R.length,B=new Uint8Array(O);let F=0;return B.set(b,F),F+=b.length,T("IHDR",E,B,F),F+=c+E.length,T("IDATA",R,B,F),F+=c+R.length,T("IEND",new Uint8Array(0),B,F),n(B,"image/png",Q)}return function(W,Q,he){const Y=W.kind===void 0?y.ImageKind.GRAYSCALE_1BPP:W.kind;return $(W,Y,Q,he)}}();class h{constructor(){this.fontSizeScale=1,this.fontWeight=k.fontWeight,this.fontSize=0,this.textMatrix=y.IDENTITY_MATRIX,this.fontMatrix=y.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=y.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=k.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(c,a){this.x=c,this.y=a}}function d(b){let c=[];const a=[];for(const x of b){if(x.fn==="save"){c.push({fnId:92,fn:"group",items:[]}),a.push(c),c=c.at(-1).items;continue}x.fn==="restore"?c=a.pop():c.push(x)}return c}function s(b){if(Number.isInteger(b))return b.toString();const c=b.toFixed(10);let a=c.length-1;if(c[a]!=="0")return c;do a--;while(c[a]==="0");return c.substring(0,c[a]==="."?a:a+1)}function r(b){if(b[4]===0&&b[5]===0){if(b[1]===0&&b[2]===0)return b[0]===1&&b[3]===1?"":"scale(".concat(s(b[0])," ").concat(s(b[3]),")");if(b[0]===b[3]&&b[1]===-b[2]){const c=Math.acos(b[0])*180/Math.PI;return"rotate(".concat(s(c),")")}}else if(b[0]===1&&b[1]===0&&b[2]===0&&b[3]===1)return"translate(".concat(s(b[4])," ").concat(s(b[5]),")");return"matrix(".concat(s(b[0])," ").concat(s(b[1])," ").concat(s(b[2])," ").concat(s(b[3])," ").concat(s(b[4])," ")+"".concat(s(b[5]),")")}let o=0,g=0,v=0;class A{constructor(c,a){let x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;(0,u.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new u.DOMSVGFactory,this.current=new h,this.transformMatrix=y.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=c,this.objs=a,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!x,this._operatorIdMapping=[];for(const T in y.OPS)this._operatorIdMapping[y.OPS[T]]=T}getObject(c){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return typeof c=="string"?c.startsWith("g_")?this.commonObjs.get(c):this.objs.get(c):a}save(){this.transformStack.push(this.transformMatrix);const c=this.current;this.extraStack.push(c),this.current=c.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(c){this.save(),this.executeOpTree(c),this.restore()}loadDependencies(c){const a=c.fnArray,x=c.argsArray;for(let T=0,S=a.length;T<S;T++)if(a[T]===y.OPS.dependency)for(const D of x[T]){const I=D.startsWith("g_")?this.commonObjs:this.objs,$=new Promise(Z=>{I.get(D,Z)});this.current.dependencies.push($)}return Promise.all(this.current.dependencies)}transform(c,a,x,T,S,D){const I=[c,a,x,T,S,D];this.transformMatrix=y.Util.transform(this.transformMatrix,I),this.tgrp=null}getSVG(c,a){this.viewport=a;const x=this._initialize(a);return this.loadDependencies(c).then(()=>(this.transformMatrix=y.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(c)),x))}convertOpList(c){const a=this._operatorIdMapping,x=c.argsArray,T=c.fnArray,S=[];for(let D=0,I=T.length;D<I;D++){const $=T[D];S.push({fnId:$,fn:a[$],args:x[D]})}return d(S)}executeOpTree(c){for(const a of c){const x=a.fn,T=a.fnId,S=a.args;switch(T|0){case y.OPS.beginText:this.beginText();break;case y.OPS.dependency:break;case y.OPS.setLeading:this.setLeading(S);break;case y.OPS.setLeadingMoveText:this.setLeadingMoveText(S[0],S[1]);break;case y.OPS.setFont:this.setFont(S);break;case y.OPS.showText:this.showText(S[0]);break;case y.OPS.showSpacedText:this.showText(S[0]);break;case y.OPS.endText:this.endText();break;case y.OPS.moveText:this.moveText(S[0],S[1]);break;case y.OPS.setCharSpacing:this.setCharSpacing(S[0]);break;case y.OPS.setWordSpacing:this.setWordSpacing(S[0]);break;case y.OPS.setHScale:this.setHScale(S[0]);break;case y.OPS.setTextMatrix:this.setTextMatrix(S[0],S[1],S[2],S[3],S[4],S[5]);break;case y.OPS.setTextRise:this.setTextRise(S[0]);break;case y.OPS.setTextRenderingMode:this.setTextRenderingMode(S[0]);break;case y.OPS.setLineWidth:this.setLineWidth(S[0]);break;case y.OPS.setLineJoin:this.setLineJoin(S[0]);break;case y.OPS.setLineCap:this.setLineCap(S[0]);break;case y.OPS.setMiterLimit:this.setMiterLimit(S[0]);break;case y.OPS.setFillRGBColor:this.setFillRGBColor(S[0],S[1],S[2]);break;case y.OPS.setStrokeRGBColor:this.setStrokeRGBColor(S[0],S[1],S[2]);break;case y.OPS.setStrokeColorN:this.setStrokeColorN(S);break;case y.OPS.setFillColorN:this.setFillColorN(S);break;case y.OPS.shadingFill:this.shadingFill(S[0]);break;case y.OPS.setDash:this.setDash(S[0],S[1]);break;case y.OPS.setRenderingIntent:this.setRenderingIntent(S[0]);break;case y.OPS.setFlatness:this.setFlatness(S[0]);break;case y.OPS.setGState:this.setGState(S[0]);break;case y.OPS.fill:this.fill();break;case y.OPS.eoFill:this.eoFill();break;case y.OPS.stroke:this.stroke();break;case y.OPS.fillStroke:this.fillStroke();break;case y.OPS.eoFillStroke:this.eoFillStroke();break;case y.OPS.clip:this.clip("nonzero");break;case y.OPS.eoClip:this.clip("evenodd");break;case y.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case y.OPS.paintImageXObject:this.paintImageXObject(S[0]);break;case y.OPS.paintInlineImageXObject:this.paintInlineImageXObject(S[0]);break;case y.OPS.paintImageMaskXObject:this.paintImageMaskXObject(S[0]);break;case y.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(S[0],S[1]);break;case y.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case y.OPS.closePath:this.closePath();break;case y.OPS.closeStroke:this.closeStroke();break;case y.OPS.closeFillStroke:this.closeFillStroke();break;case y.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case y.OPS.nextLine:this.nextLine();break;case y.OPS.transform:this.transform(S[0],S[1],S[2],S[3],S[4],S[5]);break;case y.OPS.constructPath:this.constructPath(S[0],S[1]);break;case y.OPS.endPath:this.endPath();break;case 92:this.group(a.items);break;default:(0,y.warn)("Unimplemented operator ".concat(x));break}}}setWordSpacing(c){this.current.wordSpacing=c}setCharSpacing(c){this.current.charSpacing=c}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(c,a,x,T,S,D){const I=this.current;I.textMatrix=I.lineMatrix=[c,a,x,T,S,D],I.textMatrixScale=Math.hypot(c,a),I.x=I.lineX=0,I.y=I.lineY=0,I.xcoords=[],I.ycoords=[],I.tspan=this.svgFactory.createElement("svg:tspan"),I.tspan.setAttributeNS(null,"font-family",I.fontFamily),I.tspan.setAttributeNS(null,"font-size","".concat(s(I.fontSize),"px")),I.tspan.setAttributeNS(null,"y",s(-I.y)),I.txtElement=this.svgFactory.createElement("svg:text"),I.txtElement.append(I.tspan)}beginText(){const c=this.current;c.x=c.lineX=0,c.y=c.lineY=0,c.textMatrix=y.IDENTITY_MATRIX,c.lineMatrix=y.IDENTITY_MATRIX,c.textMatrixScale=1,c.tspan=this.svgFactory.createElement("svg:tspan"),c.txtElement=this.svgFactory.createElement("svg:text"),c.txtgrp=this.svgFactory.createElement("svg:g"),c.xcoords=[],c.ycoords=[]}moveText(c,a){const x=this.current;x.x=x.lineX+=c,x.y=x.lineY+=a,x.xcoords=[],x.ycoords=[],x.tspan=this.svgFactory.createElement("svg:tspan"),x.tspan.setAttributeNS(null,"font-family",x.fontFamily),x.tspan.setAttributeNS(null,"font-size","".concat(s(x.fontSize),"px")),x.tspan.setAttributeNS(null,"y",s(-x.y))}showText(c){const a=this.current,x=a.font,T=a.fontSize;if(T===0)return;const S=a.fontSizeScale,D=a.charSpacing,I=a.wordSpacing,$=a.fontDirection,Z=a.textHScale*$,W=x.vertical,Q=W?1:-1,he=x.defaultVMetrics,Y=T*a.fontMatrix[0];let z=0;for(const ye of c){if(ye===null){z+=$*I;continue}else if(typeof ye=="number"){z+=Q*ye*T/1e3;continue}const Pe=(ye.isSpace?I:0)+D,L=ye.fontChar;let P,M,E=ye.width;if(W){let O;const B=ye.vmetric||he;O=ye.vmetric?B[1]:E*.5,O=-O*Y;const F=B[2]*Y;E=B?-B[0]:E,P=O/S,M=(z+F)/S}else P=z/S,M=0;(ye.isInFont||x.missingFile)&&(a.xcoords.push(a.x+P),W&&a.ycoords.push(-a.y+M),a.tspan.textContent+=L);const R=W?E*Y-Pe*$:E*Y+Pe*$;z+=R}a.tspan.setAttributeNS(null,"x",a.xcoords.map(s).join(" ")),W?a.tspan.setAttributeNS(null,"y",a.ycoords.map(s).join(" ")):a.tspan.setAttributeNS(null,"y",s(-a.y)),W?a.y-=z:a.x+=z*Z,a.tspan.setAttributeNS(null,"font-family",a.fontFamily),a.tspan.setAttributeNS(null,"font-size","".concat(s(a.fontSize),"px")),a.fontStyle!==k.fontStyle&&a.tspan.setAttributeNS(null,"font-style",a.fontStyle),a.fontWeight!==k.fontWeight&&a.tspan.setAttributeNS(null,"font-weight",a.fontWeight);const te=a.textRenderingMode&y.TextRenderingMode.FILL_STROKE_MASK;if(te===y.TextRenderingMode.FILL||te===y.TextRenderingMode.FILL_STROKE?(a.fillColor!==k.fillColor&&a.tspan.setAttributeNS(null,"fill",a.fillColor),a.fillAlpha<1&&a.tspan.setAttributeNS(null,"fill-opacity",a.fillAlpha)):a.textRenderingMode===y.TextRenderingMode.ADD_TO_PATH?a.tspan.setAttributeNS(null,"fill","transparent"):a.tspan.setAttributeNS(null,"fill","none"),te===y.TextRenderingMode.STROKE||te===y.TextRenderingMode.FILL_STROKE){const ye=1/(a.textMatrixScale||1);this._setStrokeAttributes(a.tspan,ye)}let oe=a.textMatrix;a.textRise!==0&&(oe=oe.slice(),oe[5]+=a.textRise),a.txtElement.setAttributeNS(null,"transform","".concat(r(oe)," scale(").concat(s(Z),", -1)")),a.txtElement.setAttributeNS(f,"xml:space","preserve"),a.txtElement.append(a.tspan),a.txtgrp.append(a.txtElement),this._ensureTransformGroup().append(a.txtElement)}setLeadingMoveText(c,a){this.setLeading(-a),this.moveText(c,a)}addFontStyle(c){if(!c.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const a=n(c.data,c.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'.concat(c.loadedName,'";')+" src: url(".concat(a,"); }\n")}setFont(c){const a=this.current,x=this.commonObjs.get(c[0]);let T=c[1];a.font=x,this.embedFonts&&!x.missingFile&&!this.embeddedFonts[x.loadedName]&&(this.addFontStyle(x),this.embeddedFonts[x.loadedName]=x),a.fontMatrix=x.fontMatrix||y.FONT_IDENTITY_MATRIX;let S="normal";x.black?S="900":x.bold&&(S="bold");const D=x.italic?"italic":"normal";T<0?(T=-T,a.fontDirection=-1):a.fontDirection=1,a.fontSize=T,a.fontFamily=x.loadedName,a.fontWeight=S,a.fontStyle=D,a.tspan=this.svgFactory.createElement("svg:tspan"),a.tspan.setAttributeNS(null,"y",s(-a.y)),a.xcoords=[],a.ycoords=[]}endText(){var a;const c=this.current;c.textRenderingMode&y.TextRenderingMode.ADD_TO_PATH_FLAG&&((a=c.txtElement)!=null&&a.hasChildNodes())&&(c.element=c.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(c){c>0&&(this.current.lineWidth=c)}setLineCap(c){this.current.lineCap=t[c]}setLineJoin(c){this.current.lineJoin=i[c]}setMiterLimit(c){this.current.miterLimit=c}setStrokeAlpha(c){this.current.strokeAlpha=c}setStrokeRGBColor(c,a,x){this.current.strokeColor=y.Util.makeHexColor(c,a,x)}setFillAlpha(c){this.current.fillAlpha=c}setFillRGBColor(c,a,x){this.current.fillColor=y.Util.makeHexColor(c,a,x),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(c){this.current.strokeColor=this._makeColorN_Pattern(c)}setFillColorN(c){this.current.fillColor=this._makeColorN_Pattern(c)}shadingFill(c){const{width:a,height:x}=this.viewport,T=y.Util.inverseTransform(this.transformMatrix),[S,D,I,$]=y.Util.getAxialAlignedBoundingBox([0,0,a,x],T),Z=this.svgFactory.createElement("svg:rect");Z.setAttributeNS(null,"x",S),Z.setAttributeNS(null,"y",D),Z.setAttributeNS(null,"width",I-S),Z.setAttributeNS(null,"height",$-D),Z.setAttributeNS(null,"fill",this._makeShadingPattern(c)),this.current.fillAlpha<1&&Z.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Z)}_makeColorN_Pattern(c){return c[0]==="TilingPattern"?this._makeTilingPattern(c):this._makeShadingPattern(c)}_makeTilingPattern(c){const a=c[1],x=c[2],T=c[3]||y.IDENTITY_MATRIX,[S,D,I,$]=c[4],Z=c[5],W=c[6],Q=c[7],he="shading".concat(v++),[Y,z,te,oe]=y.Util.normalizeRect([...y.Util.applyTransform([S,D],T),...y.Util.applyTransform([I,$],T)]),[ye,Pe]=y.Util.singularValueDecompose2dScale(T),L=Z*ye,P=W*Pe,M=this.svgFactory.createElement("svg:pattern");M.setAttributeNS(null,"id",he),M.setAttributeNS(null,"patternUnits","userSpaceOnUse"),M.setAttributeNS(null,"width",L),M.setAttributeNS(null,"height",P),M.setAttributeNS(null,"x","".concat(Y)),M.setAttributeNS(null,"y","".concat(z));const E=this.svg,R=this.transformMatrix,O=this.current.fillColor,B=this.current.strokeColor,F=this.svgFactory.create(te-Y,oe-z);if(this.svg=F,this.transformMatrix=T,Q===2){const j=y.Util.makeHexColor(...a);this.current.fillColor=j,this.current.strokeColor=j}return this.executeOpTree(this.convertOpList(x)),this.svg=E,this.transformMatrix=R,this.current.fillColor=O,this.current.strokeColor=B,M.append(F.childNodes[0]),this.defs.append(M),"url(#".concat(he,")")}_makeShadingPattern(c){switch(typeof c=="string"&&(c=this.objs.get(c)),c[0]){case"RadialAxial":const a="shading".concat(v++),x=c[3];let T;switch(c[1]){case"axial":const S=c[4],D=c[5];T=this.svgFactory.createElement("svg:linearGradient"),T.setAttributeNS(null,"id",a),T.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),T.setAttributeNS(null,"x1",S[0]),T.setAttributeNS(null,"y1",S[1]),T.setAttributeNS(null,"x2",D[0]),T.setAttributeNS(null,"y2",D[1]);break;case"radial":const I=c[4],$=c[5],Z=c[6],W=c[7];T=this.svgFactory.createElement("svg:radialGradient"),T.setAttributeNS(null,"id",a),T.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),T.setAttributeNS(null,"cx",$[0]),T.setAttributeNS(null,"cy",$[1]),T.setAttributeNS(null,"r",W),T.setAttributeNS(null,"fx",I[0]),T.setAttributeNS(null,"fy",I[1]),T.setAttributeNS(null,"fr",Z);break;default:throw new Error("Unknown RadialAxial type: ".concat(c[1]))}for(const S of x){const D=this.svgFactory.createElement("svg:stop");D.setAttributeNS(null,"offset",S[0]),D.setAttributeNS(null,"stop-color",S[1]),T.append(D)}return this.defs.append(T),"url(#".concat(a,")");case"Mesh":return(0,y.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error("Unknown IR type: ".concat(c[0]))}}setDash(c,a){this.current.dashArray=c,this.current.dashPhase=a}constructPath(c,a){const x=this.current;let T=x.x,S=x.y,D=[],I=0;for(const $ of c)switch($|0){case y.OPS.rectangle:T=a[I++],S=a[I++];const Z=a[I++],W=a[I++],Q=T+Z,he=S+W;D.push("M",s(T),s(S),"L",s(Q),s(S),"L",s(Q),s(he),"L",s(T),s(he),"Z");break;case y.OPS.moveTo:T=a[I++],S=a[I++],D.push("M",s(T),s(S));break;case y.OPS.lineTo:T=a[I++],S=a[I++],D.push("L",s(T),s(S));break;case y.OPS.curveTo:T=a[I+4],S=a[I+5],D.push("C",s(a[I]),s(a[I+1]),s(a[I+2]),s(a[I+3]),s(T),s(S)),I+=6;break;case y.OPS.curveTo2:D.push("C",s(T),s(S),s(a[I]),s(a[I+1]),s(a[I+2]),s(a[I+3])),T=a[I+2],S=a[I+3],I+=4;break;case y.OPS.curveTo3:T=a[I+2],S=a[I+3],D.push("C",s(a[I]),s(a[I+1]),s(T),s(S),s(T),s(S)),I+=4;break;case y.OPS.closePath:D.push("Z");break}D=D.join(" "),x.path&&c.length>0&&c[0]!==y.OPS.rectangle&&c[0]!==y.OPS.moveTo?D=x.path.getAttributeNS(null,"d")+D:(x.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(x.path)),x.path.setAttributeNS(null,"d",D),x.path.setAttributeNS(null,"fill","none"),x.element=x.path,x.setCurrentPoint(T,S)}endPath(){const c=this.current;if(c.path=null,!this.pendingClip)return;if(!c.element){this.pendingClip=null;return}const a="clippath".concat(o++),x=this.svgFactory.createElement("svg:clipPath");x.setAttributeNS(null,"id",a),x.setAttributeNS(null,"transform",r(this.transformMatrix));const T=c.element.cloneNode(!0);if(this.pendingClip==="evenodd"?T.setAttributeNS(null,"clip-rule","evenodd"):T.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,x.append(T),this.defs.append(x),c.activeClipUrl){c.clipGroup=null;for(const S of this.extraStack)S.clipGroup=null;x.setAttributeNS(null,"clip-path",c.activeClipUrl)}c.activeClipUrl="url(#".concat(a,")"),this.tgrp=null}clip(c){this.pendingClip=c}closePath(){const c=this.current;if(c.path){const a="".concat(c.path.getAttributeNS(null,"d"),"Z");c.path.setAttributeNS(null,"d",a)}}setLeading(c){this.current.leading=-c}setTextRise(c){this.current.textRise=c}setTextRenderingMode(c){this.current.textRenderingMode=c}setHScale(c){this.current.textHScale=c/100}setRenderingIntent(c){}setFlatness(c){}setGState(c){for(const[a,x]of c)switch(a){case"LW":this.setLineWidth(x);break;case"LC":this.setLineCap(x);break;case"LJ":this.setLineJoin(x);break;case"ML":this.setMiterLimit(x);break;case"D":this.setDash(x[0],x[1]);break;case"RI":this.setRenderingIntent(x);break;case"FL":this.setFlatness(x);break;case"Font":this.setFont(x);break;case"CA":this.setStrokeAlpha(x);break;case"ca":this.setFillAlpha(x);break;default:(0,y.warn)("Unimplemented graphic state operator ".concat(a));break}}fill(){const c=this.current;c.element&&(c.element.setAttributeNS(null,"fill",c.fillColor),c.element.setAttributeNS(null,"fill-opacity",c.fillAlpha),this.endPath())}stroke(){const c=this.current;c.element&&(this._setStrokeAttributes(c.element),c.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(c){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const x=this.current;let T=x.dashArray;a!==1&&T.length>0&&(T=T.map(function(S){return a*S})),c.setAttributeNS(null,"stroke",x.strokeColor),c.setAttributeNS(null,"stroke-opacity",x.strokeAlpha),c.setAttributeNS(null,"stroke-miterlimit",s(x.miterLimit)),c.setAttributeNS(null,"stroke-linecap",x.lineCap),c.setAttributeNS(null,"stroke-linejoin",x.lineJoin),c.setAttributeNS(null,"stroke-width",s(a*x.lineWidth)+"px"),c.setAttributeNS(null,"stroke-dasharray",T.map(s).join(" ")),c.setAttributeNS(null,"stroke-dashoffset",s(a*x.dashPhase)+"px")}eoFill(){var c;(c=this.current.element)==null||c.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var c;(c=this.current.element)==null||c.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const c=this.svgFactory.createElement("svg:rect");c.setAttributeNS(null,"x","0"),c.setAttributeNS(null,"y","0"),c.setAttributeNS(null,"width","1px"),c.setAttributeNS(null,"height","1px"),c.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(c)}paintImageXObject(c){const a=this.getObject(c);if(!a){(0,y.warn)("Dependent image with object ID ".concat(c," is not ready yet"));return}this.paintInlineImageXObject(a)}paintInlineImageXObject(c,a){const x=c.width,T=c.height,S=p(c,this.forceDataSchema,!!a),D=this.svgFactory.createElement("svg:rect");D.setAttributeNS(null,"x","0"),D.setAttributeNS(null,"y","0"),D.setAttributeNS(null,"width",s(x)),D.setAttributeNS(null,"height",s(T)),this.current.element=D,this.clip("nonzero");const I=this.svgFactory.createElement("svg:image");I.setAttributeNS(m,"xlink:href",S),I.setAttributeNS(null,"x","0"),I.setAttributeNS(null,"y",s(-T)),I.setAttributeNS(null,"width",s(x)+"px"),I.setAttributeNS(null,"height",s(T)+"px"),I.setAttributeNS(null,"transform","scale(".concat(s(1/x)," ").concat(s(-1/T),")")),a?a.append(I):this._ensureTransformGroup().append(I)}paintImageMaskXObject(c){const a=this.getObject(c.data,c);if(a.bitmap){(0,y.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const x=this.current,T=a.width,S=a.height,D=x.fillColor;x.maskId="mask".concat(g++);const I=this.svgFactory.createElement("svg:mask");I.setAttributeNS(null,"id",x.maskId);const $=this.svgFactory.createElement("svg:rect");$.setAttributeNS(null,"x","0"),$.setAttributeNS(null,"y","0"),$.setAttributeNS(null,"width",s(T)),$.setAttributeNS(null,"height",s(S)),$.setAttributeNS(null,"fill",D),$.setAttributeNS(null,"mask","url(#".concat(x.maskId,")")),this.defs.append(I),this._ensureTransformGroup().append($),this.paintInlineImageXObject(a,I)}paintFormXObjectBegin(c,a){if(Array.isArray(c)&&c.length===6&&this.transform(c[0],c[1],c[2],c[3],c[4],c[5]),a){const x=a[2]-a[0],T=a[3]-a[1],S=this.svgFactory.createElement("svg:rect");S.setAttributeNS(null,"x",a[0]),S.setAttributeNS(null,"y",a[1]),S.setAttributeNS(null,"width",s(x)),S.setAttributeNS(null,"height",s(T)),this.current.element=S,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(c){const a=this.svgFactory.create(c.width,c.height),x=this.svgFactory.createElement("svg:defs");a.append(x),this.defs=x;const T=this.svgFactory.createElement("svg:g");return T.setAttributeNS(null,"transform",r(c.transform)),a.append(T),this.svg=T,a}_ensureClipGroup(){if(!this.current.clipGroup){const c=this.svgFactory.createElement("svg:g");c.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(c),this.current.clipGroup=c}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",r(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}C.SVGGraphics=A},(N,C,e)=>{var u=e(3),y=e(188),k=e(193);u({target:"Array",proto:!0},{group:function(m){var t=arguments.length>1?arguments[1]:void 0;return y(this,m,t)}}),k("group")},(N,C,e)=>{var u=e(99),y=e(14),k=e(13),f=e(40),m=e(18),t=e(64),i=e(189),n=e(108),p=Array,h=y([].push);N.exports=function(d,s,r,o){for(var g=f(d),v=k(g),A=u(s,r),b=i(null),c=t(v),a=0,x,T,S;c>a;a++)S=v[a],T=m(A(S,a,g)),T in b?h(b[T],S):b[T]=[S];if(o&&(x=o(g),x!==p))for(T in b)b[T]=n(x,b[T]);return b}},(N,C,e)=>{var u=e(47),y=e(190),k=e(66),f=e(55),m=e(192),t=e(43),i=e(54),n=">",p="<",h="prototype",d="script",s=i("IE_PROTO"),r=function(){},o=function(c){return p+d+n+c+p+"/"+d+n},g=function(c){c.write(o("")),c.close();var a=c.parentWindow.Object;return c=null,a},v=function(){var c=t("iframe"),a="java"+d+":",x;return c.style.display="none",m.appendChild(c),c.src=String(a),x=c.contentWindow.document,x.open(),x.write(o("document.F=Object")),x.close(),x.F},A,b=function(){try{A=new ActiveXObject("htmlfile")}catch(a){}b=typeof document<"u"?document.domain&&A?g(A):v():g(A);for(var c=k.length;c--;)delete b[h][k[c]];return b()};f[s]=!0,N.exports=Object.create||function(a,x){var T;return a!==null?(r[h]=u(a),T=new r,r[h]=null,T[s]=a):T=b(),x===void 0?T:y.f(T,x)}},(N,C,e)=>{var u=e(6),y=e(46),k=e(45),f=e(47),m=e(12),t=e(191);C.f=u&&!y?Object.defineProperties:function(n,p){f(n);for(var h=m(p),d=t(p),s=d.length,r=0,o;s>r;)k.f(n,o=d[r++],h[o]);return n}},(N,C,e)=>{var u=e(59),y=e(66);N.exports=Object.keys||function(f){return u(f,y)}},(N,C,e)=>{var u=e(24);N.exports=u("document","documentElement")},(N,C,e)=>{var u=e(34),y=e(189),k=e(45).f,f=u("unscopables"),m=Array.prototype;m[f]===void 0&&k(m,f,{configurable:!0,value:y(null)}),N.exports=function(t){m[f][t]=!0}},(N,C,e)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.XfaText=void 0,e(89);class u{static textContent(k){const f=[],m={items:f,styles:Object.create(null)};function t(i){var h;if(!i)return;let n=null;const p=i.name;if(p==="#text")n=i.value;else if(u.shouldBuildText(p))(h=i==null?void 0:i.attributes)!=null&&h.textContent?n=i.attributes.textContent:i.value&&(n=i.value);else return;if(n!==null&&f.push({str:n}),!!i.children)for(const d of i.children)t(d)}return t(k),m}static shouldBuildText(k){return!(k==="textarea"||k==="input"||k==="option"||k==="select")}}C.XfaText=u},(N,C,e)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.TextLayerRenderTask=void 0,C.renderTextLayer=r,C.updateTextLayer=o,e(89),e(2);var u=e(1),y=e(168);const k=1e5,f=30,m=.8,t=new Map;function i(g,v){let A;if(v&&u.FeatureTest.isOffscreenCanvasSupported)A=new OffscreenCanvas(g,g).getContext("2d",{alpha:!1});else{const b=document.createElement("canvas");b.width=b.height=g,A=b.getContext("2d",{alpha:!1})}return A}function n(g,v){const A=t.get(g);if(A)return A;const b=i(f,v);b.font="".concat(f,"px ").concat(g);const c=b.measureText("");let a=c.fontBoundingBoxAscent,x=Math.abs(c.fontBoundingBoxDescent);if(a){const S=a/(a+x);return t.set(g,S),b.canvas.width=b.canvas.height=0,S}b.strokeStyle="red",b.clearRect(0,0,f,f),b.strokeText("g",0,0);let T=b.getImageData(0,0,f,f).data;x=0;for(let S=T.length-1-3;S>=0;S-=4)if(T[S]>0){x=Math.ceil(S/4/f);break}b.clearRect(0,0,f,f),b.strokeText("A",0,f),T=b.getImageData(0,0,f,f).data,a=0;for(let S=0,D=T.length;S<D;S+=4)if(T[S]>0){a=f-Math.floor(S/4/f);break}if(b.canvas.width=b.canvas.height=0,a){const S=a/(a+x);return t.set(g,S),S}return t.set(g,m),m}function p(g,v,A){const b=document.createElement("span"),c={angle:0,canvasWidth:0,hasText:v.str!=="",hasEOL:v.hasEOL,fontSize:0};g._textDivs.push(b);const a=u.Util.transform(g._transform,v.transform);let x=Math.atan2(a[1],a[0]);const T=A[v.fontName];T.vertical&&(x+=Math.PI/2);const S=Math.hypot(a[2],a[3]),D=S*n(T.fontFamily,g._isOffscreenCanvasSupported);let I,$;x===0?(I=a[4],$=a[5]-D):(I=a[4]+D*Math.sin(x),$=a[5]-D*Math.cos(x));const Z="calc(var(--scale-factor)*",W=b.style;g._container===g._rootContainer?(W.left="".concat((100*I/g._pageWidth).toFixed(2),"%"),W.top="".concat((100*$/g._pageHeight).toFixed(2),"%")):(W.left="".concat(Z).concat(I.toFixed(2),"px)"),W.top="".concat(Z).concat($.toFixed(2),"px)")),W.fontSize="".concat(Z).concat(S.toFixed(2),"px)"),W.fontFamily=T.fontFamily,c.fontSize=S,b.setAttribute("role","presentation"),b.textContent=v.str,b.dir=v.dir,g._fontInspectorEnabled&&(b.dataset.fontName=v.fontName),x!==0&&(c.angle=x*(180/Math.PI));let Q=!1;if(v.str.length>1)Q=!0;else if(v.str!==" "&&v.transform[0]!==v.transform[3]){const he=Math.abs(v.transform[0]),Y=Math.abs(v.transform[3]);he!==Y&&Math.max(he,Y)/Math.min(he,Y)>1.5&&(Q=!0)}Q&&(c.canvasWidth=T.vertical?v.height:v.width),g._textDivProperties.set(b,c),g._isReadableStream&&g._layoutText(b)}function h(g){const{div:v,scale:A,properties:b,ctx:c,prevFontSize:a,prevFontFamily:x}=g,{style:T}=v;let S="";if(b.canvasWidth!==0&&b.hasText){const{fontFamily:D}=T,{canvasWidth:I,fontSize:$}=b;(a!==$||x!==D)&&(c.font="".concat($*A,"px ").concat(D),g.prevFontSize=$,g.prevFontFamily=D);const{width:Z}=c.measureText(v.textContent);Z>0&&(S="scaleX(".concat(I*A/Z,")"))}b.angle!==0&&(S="rotate(".concat(b.angle,"deg) ").concat(S)),S.length>0&&(T.transform=S)}function d(g){if(g._canceled)return;const v=g._textDivs,A=g._capability;if(v.length>k){A.resolve();return}if(!g._isReadableStream)for(const c of v)g._layoutText(c);A.resolve()}class s{constructor(v){var W;let{textContentSource:A,container:b,viewport:c,textDivs:a,textDivProperties:x,textContentItemsStr:T,isOffscreenCanvasSupported:S}=v;this._textContentSource=A,this._isReadableStream=A instanceof ReadableStream,this._container=this._rootContainer=b,this._textDivs=a||[],this._textContentItemsStr=T||[],this._isOffscreenCanvasSupported=S,this._fontInspectorEnabled=!!((W=globalThis.FontInspector)!=null&&W.enabled),this._reader=null,this._textDivProperties=x||new WeakMap,this._canceled=!1,this._capability=new u.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:c.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:i(0,S)};const{pageWidth:D,pageHeight:I,pageX:$,pageY:Z}=c.rawDims;this._transform=[1,0,0,-1,-$,Z+I],this._pageWidth=D,this._pageHeight=I,(0,y.setLayerDimensions)(b,c),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new u.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new u.AbortException("TextLayer task cancelled."))}_processItems(v,A){for(const b of v){if(b.str===void 0){if(b.type==="beginMarkedContentProps"||b.type==="beginMarkedContent"){const c=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),b.id!==null&&this._container.setAttribute("id","".concat(b.id)),c.append(this._container)}else b.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(b.str),p(this,b,A)}}_layoutText(v){const A=this._layoutTextParams.properties=this._textDivProperties.get(v);if(this._layoutTextParams.div=v,h(this._layoutTextParams),A.hasText&&this._container.append(v),A.hasEOL){const b=document.createElement("br");b.setAttribute("role","presentation"),this._container.append(b)}}_render(){const v=new u.PromiseCapability;let A=Object.create(null);if(this._isReadableStream){const b=()=>{this._reader.read().then(c=>{let{value:a,done:x}=c;if(x){v.resolve();return}Object.assign(A,a.styles),this._processItems(a.items,A),b()},v.reject)};this._reader=this._textContentSource.getReader(),b()}else if(this._textContentSource){const{items:b,styles:c}=this._textContentSource;this._processItems(b,c),v.resolve()}else throw new Error('No "textContentSource" parameter specified.');v.promise.then(()=>{A=null,d(this)},this._capability.reject)}}C.TextLayerRenderTask=s;function r(g){!g.textContentSource&&(g.textContent||g.textContentStream)&&((0,y.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),g.textContentSource=g.textContent||g.textContentStream);const{container:v,viewport:A}=g,b=getComputedStyle(v),c=b.getPropertyValue("visibility"),a=parseFloat(b.getPropertyValue("--scale-factor"));c==="visible"&&(!a||Math.abs(a-A.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const x=new s(g);return x._render(),x}function o(g){let{container:v,viewport:A,textDivs:b,textDivProperties:c,isOffscreenCanvasSupported:a,mustRotate:x=!0,mustRescale:T=!0}=g;if(x&&(0,y.setLayerDimensions)(v,{rotation:A.rotation}),T){const S=i(0,a),I={prevFontSize:null,prevFontFamily:null,div:null,scale:A.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:S};for(const $ of b)I.properties=c.get($),I.div=$,h(I)}}},(N,C,e)=>{var n,p,h,d,s,r,o,g,v,A,b,pn,a,Ft,T,gn,D,mn;Object.defineProperty(C,"__esModule",{value:!0}),C.AnnotationEditorLayer=void 0,e(125),e(136),e(138),e(141),e(143),e(145),e(147);var u=e(1),y=e(164),k=e(197),f=e(202),m=e(168),t=e(203);const $=class ${constructor(W){_(this,b);_(this,a);_(this,T);_(this,D);_(this,n,void 0);_(this,p,!1);_(this,h,null);_(this,d,this.pointerup.bind(this));_(this,s,this.pointerdown.bind(this));_(this,r,new Map);_(this,o,!1);_(this,g,!1);_(this,v,!1);_(this,A,void 0);let{uiManager:Q,pageIndex:he,div:Y,accessibilityManager:z,annotationLayer:te,viewport:oe,l10n:ye}=W;const Pe=[k.FreeTextEditor,f.InkEditor,t.StampEditor];if(!$._initialized){$._initialized=!0;for(const L of Pe)L.initialize(ye)}Q.registerEditorTypes(Pe),ce(this,A,Q),this.pageIndex=he,this.div=Y,ce(this,n,z),ce(this,h,te),this.viewport=oe,l(this,A).addLayer(this)}get isEmpty(){return l(this,r).size===0}updateToolbar(W){l(this,A).updateToolbar(W)}updateMode(){let W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:l(this,A).getMode();J(this,D,mn).call(this),W===u.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),W!==u.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",W===u.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",W===u.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",W===u.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(W){if(!W&&l(this,A).getMode()!==u.AnnotationEditorType.INK)return;if(!W){for(const he of l(this,r).values())if(he.isEmpty()){he.setInBackground();return}}J(this,a,Ft).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(W){l(this,A).setEditingState(W)}addCommands(W){l(this,A).addCommands(W)}enable(){this.div.style.pointerEvents="auto";const W=new Set;for(const he of l(this,r).values())he.enableEditing(),he.annotationElementId&&W.add(he.annotationElementId);if(!l(this,h))return;const Q=l(this,h).getEditableAnnotations();for(const he of Q){if(he.hide(),l(this,A).isDeletedAnnotationElement(he.data.id)||W.has(he.data.id))continue;const Y=this.deserialize(he);Y&&(this.addOrRebuild(Y),Y.enableEditing())}}disable(){var Q;ce(this,v,!0),this.div.style.pointerEvents="none";const W=new Set;for(const he of l(this,r).values()){if(he.disableEditing(),!he.annotationElementId||he.serialize()!==null){W.add(he.annotationElementId);continue}(Q=this.getEditableAnnotation(he.annotationElementId))==null||Q.show(),he.remove()}if(l(this,h)){const he=l(this,h).getEditableAnnotations();for(const Y of he){const{id:z}=Y.data;W.has(z)||l(this,A).isDeletedAnnotationElement(z)||Y.show()}}J(this,D,mn).call(this),this.isEmpty&&(this.div.hidden=!0),ce(this,v,!1)}getEditableAnnotation(W){var Q;return((Q=l(this,h))==null?void 0:Q.getEditableAnnotation(W))||null}setActiveEditor(W){l(this,A).getActive()!==W&&l(this,A).setActiveEditor(W)}enableClick(){this.div.addEventListener("pointerdown",l(this,s)),this.div.addEventListener("pointerup",l(this,d))}disableClick(){this.div.removeEventListener("pointerdown",l(this,s)),this.div.removeEventListener("pointerup",l(this,d))}attach(W){l(this,r).set(W.id,W);const{annotationElementId:Q}=W;Q&&l(this,A).isDeletedAnnotationElement(Q)&&l(this,A).removeDeletedAnnotationElement(W)}detach(W){var Q;l(this,r).delete(W.id),(Q=l(this,n))==null||Q.removePointerInTextLayer(W.contentDiv),!l(this,v)&&W.annotationElementId&&l(this,A).addDeletedAnnotationElement(W)}remove(W){this.detach(W),l(this,A).removeEditor(W),W.div.contains(document.activeElement)&&setTimeout(()=>{l(this,A).focusMainContainer()},0),W.div.remove(),W.isAttachedToDOM=!1,l(this,g)||this.addInkEditorIfNeeded(!1)}changeParent(W){var Q;W.parent!==this&&(W.annotationElementId&&(l(this,A).addDeletedAnnotationElement(W.annotationElementId),y.AnnotationEditor.deleteAnnotationElement(W),W.annotationElementId=null),this.attach(W),(Q=W.parent)==null||Q.detach(W),W.setParent(this),W.div&&W.isAttachedToDOM&&(W.div.remove(),this.div.append(W.div)))}add(W){if(this.changeParent(W),l(this,A).addEditor(W),this.attach(W),!W.isAttachedToDOM){const Q=W.render();this.div.append(Q),W.isAttachedToDOM=!0}W.fixAndSetPosition(),W.onceAdded(),l(this,A).addToAnnotationStorage(W)}moveEditorInDOM(W){var he;if(!W.isAttachedToDOM)return;const{activeElement:Q}=document;W.div.contains(Q)&&(W._focusEventsAllowed=!1,setTimeout(()=>{W.div.contains(document.activeElement)?W._focusEventsAllowed=!0:(W.div.addEventListener("focusin",()=>{W._focusEventsAllowed=!0},{once:!0}),Q.focus())},0)),W._structTreeParentId=(he=l(this,n))==null?void 0:he.moveElementInDOM(this.div,W.div,W.contentDiv,!0)}addOrRebuild(W){W.needsToBeRebuilt()?W.rebuild():this.add(W)}addUndoableEditor(W){const Q=()=>W._uiManager.rebuild(W),he=()=>{W.remove()};this.addCommands({cmd:Q,undo:he,mustExec:!1})}getNextId(){return l(this,A).getId()}pasteEditor(W,Q){l(this,A).updateToolbar(W),l(this,A).updateMode(W);const{offsetX:he,offsetY:Y}=J(this,T,gn).call(this),z=this.getNextId(),te=J(this,b,pn).call(this,{parent:this,id:z,x:he,y:Y,uiManager:l(this,A),isCentered:!0,...Q});te&&this.add(te)}deserialize(W){var Q;switch((Q=W.annotationType)!=null?Q:W.annotationEditorType){case u.AnnotationEditorType.FREETEXT:return k.FreeTextEditor.deserialize(W,this,l(this,A));case u.AnnotationEditorType.INK:return f.InkEditor.deserialize(W,this,l(this,A));case u.AnnotationEditorType.STAMP:return t.StampEditor.deserialize(W,this,l(this,A))}return null}addNewEditor(){J(this,a,Ft).call(this,J(this,T,gn).call(this),!0)}setSelected(W){l(this,A).setSelected(W)}toggleSelected(W){l(this,A).toggleSelected(W)}isSelected(W){return l(this,A).isSelected(W)}unselect(W){l(this,A).unselect(W)}pointerup(W){const{isMac:Q}=u.FeatureTest.platform;if(!(W.button!==0||W.ctrlKey&&Q)&&W.target===this.div&&l(this,o)){if(ce(this,o,!1),!l(this,p)){ce(this,p,!0);return}if(l(this,A).getMode()===u.AnnotationEditorType.STAMP){l(this,A).unselectAll();return}J(this,a,Ft).call(this,W,!1)}}pointerdown(W){if(l(this,o)){ce(this,o,!1);return}const{isMac:Q}=u.FeatureTest.platform;if(W.button!==0||W.ctrlKey&&Q||W.target!==this.div)return;ce(this,o,!0);const he=l(this,A).getActive();ce(this,p,!he||he.isEmpty())}findNewParent(W,Q,he){const Y=l(this,A).findParent(Q,he);return Y===null||Y===this?!1:(Y.changeParent(W),!0)}destroy(){var W,Q;((W=l(this,A).getActive())==null?void 0:W.parent)===this&&(l(this,A).commitOrRemove(),l(this,A).setActiveEditor(null));for(const he of l(this,r).values())(Q=l(this,n))==null||Q.removePointerInTextLayer(he.contentDiv),he.setParent(null),he.isAttachedToDOM=!1,he.div.remove();this.div=null,l(this,r).clear(),l(this,A).removeLayer(this)}render(W){let{viewport:Q}=W;this.viewport=Q,(0,m.setLayerDimensions)(this.div,Q);for(const he of l(this,A).getEditors(this.pageIndex))this.add(he);this.updateMode()}update(W){let{viewport:Q}=W;l(this,A).commitOrRemove(),this.viewport=Q,(0,m.setLayerDimensions)(this.div,{rotation:Q.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:W,pageHeight:Q}=this.viewport.rawDims;return[W,Q]}};n=new WeakMap,p=new WeakMap,h=new WeakMap,d=new WeakMap,s=new WeakMap,r=new WeakMap,o=new WeakMap,g=new WeakMap,v=new WeakMap,A=new WeakMap,b=new WeakSet,pn=function(W){switch(l(this,A).getMode()){case u.AnnotationEditorType.FREETEXT:return new k.FreeTextEditor(W);case u.AnnotationEditorType.INK:return new f.InkEditor(W);case u.AnnotationEditorType.STAMP:return new t.StampEditor(W)}return null},a=new WeakSet,Ft=function(W,Q){const he=this.getNextId(),Y=J(this,b,pn).call(this,{parent:this,id:he,x:W.offsetX,y:W.offsetY,uiManager:l(this,A),isCentered:Q});return Y&&this.add(Y),Y},T=new WeakSet,gn=function(){const{x:W,y:Q,width:he,height:Y}=this.div.getBoundingClientRect(),z=Math.max(0,W),te=Math.max(0,Q),oe=Math.min(window.innerWidth,W+he),ye=Math.min(window.innerHeight,Q+Y),Pe=(z+oe)/2-W,L=(te+ye)/2-Q,[P,M]=this.viewport.rotation%180===0?[Pe,L]:[L,Pe];return{offsetX:P,offsetY:M}},D=new WeakSet,mn=function(){ce(this,g,!0);for(const W of l(this,r).values())W.isEmpty()&&W.remove();ce(this,g,!1)},tt($,"_initialized",!1);let i=$;C.AnnotationEditorLayer=i},(N,C,e)=>{var t,i,n,p,h,d,s,r,o,g,ur,A,dr,c,fr,x,Et,S,vn,I,pr,Z,bn;Object.defineProperty(C,"__esModule",{value:!0}),C.FreeTextEditor=void 0,e(89);var u=e(1),y=e(165),k=e(164),f=e(198);const Q=class Q extends k.AnnotationEditor{constructor(z){super({...z,name:"freeTextEditor"});_(this,g);_(this,A);_(this,c);_(this,x);_(this,S);_(this,I);_(this,Z);_(this,t,this.editorDivBlur.bind(this));_(this,i,this.editorDivFocus.bind(this));_(this,n,this.editorDivInput.bind(this));_(this,p,this.editorDivKeydown.bind(this));_(this,h,void 0);_(this,d,"");_(this,s,"".concat(this.id,"-editor"));_(this,r,void 0);_(this,o,null);ce(this,h,z.color||Q._defaultColor||k.AnnotationEditor._defaultLineColor),ce(this,r,z.fontSize||Q._defaultFontSize)}static get _keyboardManager(){const z=Q.prototype,te=Pe=>Pe.isEmpty(),oe=y.AnnotationEditorUIManager.TRANSLATE_SMALL,ye=y.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,u.shadow)(this,"_keyboardManager",new y.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],z.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],z.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],z._translateEmpty,{args:[-oe,0],checker:te}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],z._translateEmpty,{args:[-ye,0],checker:te}],[["ArrowRight","mac+ArrowRight"],z._translateEmpty,{args:[oe,0],checker:te}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],z._translateEmpty,{args:[ye,0],checker:te}],[["ArrowUp","mac+ArrowUp"],z._translateEmpty,{args:[0,-oe],checker:te}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],z._translateEmpty,{args:[0,-ye],checker:te}],[["ArrowDown","mac+ArrowDown"],z._translateEmpty,{args:[0,oe],checker:te}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],z._translateEmpty,{args:[0,ye],checker:te}]]))}static initialize(z){k.AnnotationEditor.initialize(z,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const te=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(te.getPropertyValue("--freetext-padding"))}static updateDefaultParams(z,te){switch(z){case u.AnnotationEditorParamsType.FREETEXT_SIZE:Q._defaultFontSize=te;break;case u.AnnotationEditorParamsType.FREETEXT_COLOR:Q._defaultColor=te;break}}updateParams(z,te){switch(z){case u.AnnotationEditorParamsType.FREETEXT_SIZE:J(this,g,ur).call(this,te);break;case u.AnnotationEditorParamsType.FREETEXT_COLOR:J(this,A,dr).call(this,te);break}}static get defaultPropertiesToUpdate(){return[[u.AnnotationEditorParamsType.FREETEXT_SIZE,Q._defaultFontSize],[u.AnnotationEditorParamsType.FREETEXT_COLOR,Q._defaultColor||k.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[u.AnnotationEditorParamsType.FREETEXT_SIZE,l(this,r)],[u.AnnotationEditorParamsType.FREETEXT_COLOR,l(this,h)]]}_translateEmpty(z,te){this._uiManager.translateSelectedEditors(z,te,!0)}getInitialTranslation(){const z=this.parentScale;return[-Q._internalPadding*z,-(Q._internalPadding+l(this,r))*z]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(u.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",l(this,p)),this.editorDiv.addEventListener("focus",l(this,i)),this.editorDiv.addEventListener("blur",l(this,t)),this.editorDiv.addEventListener("input",l(this,n)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",l(this,s)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",l(this,p)),this.editorDiv.removeEventListener("focus",l(this,i)),this.editorDiv.removeEventListener("blur",l(this,t)),this.editorDiv.removeEventListener("input",l(this,n)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(z){this._focusEventsAllowed&&(super.focusin(z),z.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var z;if(this.width){J(this,Z,bn).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(z=this._initialOptions)!=null&&z.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const z=l(this,d),te=ce(this,d,J(this,c,fr).call(this).trimEnd());if(z===te)return;const oe=ye=>{if(ce(this,d,ye),!ye){this.remove();return}J(this,S,vn).call(this),this._uiManager.rebuild(this),J(this,x,Et).call(this)};this.addCommands({cmd:()=>{oe(te)},undo:()=>{oe(z)},mustExec:!1}),J(this,x,Et).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(z){this.enterInEditMode()}keydown(z){z.target===this.div&&z.key==="Enter"&&(this.enterInEditMode(),z.preventDefault())}editorDivKeydown(z){Q._keyboardManager.exec(this,z)}editorDivFocus(z){this.isEditing=!0}editorDivBlur(z){this.isEditing=!1}editorDivInput(z){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let z,te;this.width&&(z=this.x,te=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",l(this,s)),this.enableEditing(),k.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(ye=>{var Pe;return(Pe=this.editorDiv)==null?void 0:Pe.setAttribute("aria-label",ye)}),k.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(ye=>{var Pe;return(Pe=this.editorDiv)==null?void 0:Pe.setAttribute("default-content",ye)}),this.editorDiv.contentEditable=!0;const{style:oe}=this.editorDiv;if(oe.fontSize="calc(".concat(l(this,r),"px * var(--scale-factor))"),oe.color=l(this,h),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,y.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[ye,Pe]=this.parentDimensions;if(this.annotationElementId){const{position:L}=l(this,o);let[P,M]=this.getInitialTranslation();[P,M]=this.pageTranslationToScreen(P,M);const[E,R]=this.pageDimensions,[O,B]=this.pageTranslation;let F,j;switch(this.rotation){case 0:F=z+(L[0]-O)/E,j=te+this.height-(L[1]-B)/R;break;case 90:F=z+(L[0]-O)/E,j=te-(L[1]-B)/R,[P,M]=[M,-P];break;case 180:F=z-this.width+(L[0]-O)/E,j=te-(L[1]-B)/R,[P,M]=[-P,-M];break;case 270:F=z+(L[0]-O-this.height*R)/E,j=te+(L[1]-B-this.width*E)/R,[P,M]=[-M,P];break}this.setAt(F*ye,j*Pe,P,M)}else this.setAt(z*ye,te*Pe,this.width*ye,this.height*Pe);J(this,S,vn).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(z,te,oe){let ye=null;if(z instanceof f.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:L,fontColor:P},rect:M,rotation:E,id:R},textContent:O,textPosition:B,parent:{page:{pageNumber:F}}}=z;if(!O||O.length===0)return null;ye=z={annotationType:u.AnnotationEditorType.FREETEXT,color:Array.from(P),fontSize:L,value:O.join("\n"),position:B,pageIndex:F-1,rect:M,rotation:E,id:R,deleted:!1}}const Pe=super.deserialize(z,te,oe);return ce(Pe,r,z.fontSize),ce(Pe,h,u.Util.makeHexColor(...z.color)),ce(Pe,d,z.value),Pe.annotationElementId=z.id||null,ce(Pe,o,ye),Pe}serialize(){let z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const te=Q._internalPadding*this.parentScale,oe=this.getRect(te,te),ye=k.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:l(this,h)),Pe={annotationType:u.AnnotationEditorType.FREETEXT,color:ye,fontSize:l(this,r),value:l(this,d),pageIndex:this.pageIndex,rect:oe,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return z?Pe:this.annotationElementId&&!J(this,I,pr).call(this,Pe)?null:(Pe.id=this.annotationElementId,Pe)}};t=new WeakMap,i=new WeakMap,n=new WeakMap,p=new WeakMap,h=new WeakMap,d=new WeakMap,s=new WeakMap,r=new WeakMap,o=new WeakMap,g=new WeakSet,ur=function(z){const te=ye=>{this.editorDiv.style.fontSize="calc(".concat(ye,"px * var(--scale-factor))"),this.translate(0,-(ye-l(this,r))*this.parentScale),ce(this,r,ye),J(this,x,Et).call(this)},oe=l(this,r);this.addCommands({cmd:()=>{te(z)},undo:()=>{te(oe)},mustExec:!0,type:u.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},A=new WeakSet,dr=function(z){const te=l(this,h);this.addCommands({cmd:()=>{ce(this,h,this.editorDiv.style.color=z)},undo:()=>{ce(this,h,this.editorDiv.style.color=te)},mustExec:!0,type:u.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},c=new WeakSet,fr=function(){const z=this.editorDiv.getElementsByTagName("div");if(z.length===0)return this.editorDiv.innerText;const te=[];for(const oe of z)te.push(oe.innerText.replace(/\r\n?|\n/,""));return te.join("\n")},x=new WeakSet,Et=function(){const[z,te]=this.parentDimensions;let oe;if(this.isAttachedToDOM)oe=this.div.getBoundingClientRect();else{const{currentLayer:ye,div:Pe}=this,L=Pe.style.display;Pe.style.display="hidden",ye.div.append(this.div),oe=Pe.getBoundingClientRect(),Pe.remove(),Pe.style.display=L}this.rotation%180===this.parentRotation%180?(this.width=oe.width/z,this.height=oe.height/te):(this.width=oe.height/z,this.height=oe.width/te),this.fixAndSetPosition()},S=new WeakSet,vn=function(){if(this.editorDiv.replaceChildren(),!!l(this,d))for(const z of l(this,d).split("\n")){const te=document.createElement("div");te.append(z?document.createTextNode(z):document.createElement("br")),this.editorDiv.append(te)}},I=new WeakSet,pr=function(z){const{value:te,fontSize:oe,color:ye,rect:Pe,pageIndex:L}=l(this,o);return z.value!==te||z.fontSize!==oe||z.rect.some((P,M)=>Math.abs(P-Pe[M])>=1)||z.color.some((P,M)=>P!==ye[M])||z.pageIndex!==L},Z=new WeakSet,bn=function(){let z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.annotationElementId)return;if(J(this,x,Et).call(this),!z&&(this.width===0||this.height===0)){setTimeout(()=>J(this,Z,bn).call(this,!0),0);return}const te=Q._internalPadding*this.parentScale;l(this,o).rect=this.getRect(te,te)},tt(Q,"_freeTextDefaultContent",""),tt(Q,"_internalPadding",0),tt(Q,"_defaultColor",null),tt(Q,"_defaultFontSize",10),tt(Q,"_type","freetext");let m=Q;C.FreeTextEditor=m},(N,C,e)=>{var M,R,ht,B,gr,j,ae,q,pe,ne,me,ve,Re,Oe,Ie,Le,ue,ee,le,ge,Ce,Me,He,mr,_e,Nt,Ye,yn,Ze,An,V,H,X,de,Se,K,U,Sn,Ae,Ee,we,Te,vr,ke,En;Object.defineProperty(C,"__esModule",{value:!0}),C.StampAnnotationElement=C.InkAnnotationElement=C.FreeTextAnnotationElement=C.AnnotationLayer=void 0,e(89),e(125),e(136),e(138),e(141),e(143),e(145),e(147);var u=e(1),y=e(168),k=e(163),f=e(199),m=e(200),t=e(201);const i=1e3,n=9,p=new WeakSet;function h(Be){return{width:Be[2]-Be[0],height:Be[3]-Be[1]}}class d{static create(ie){switch(ie.data.annotationType){case u.AnnotationType.LINK:return new r(ie);case u.AnnotationType.TEXT:return new o(ie);case u.AnnotationType.WIDGET:switch(ie.data.fieldType){case"Tx":return new v(ie);case"Btn":return ie.data.radioButton?new c(ie):ie.data.checkBox?new b(ie):new a(ie);case"Ch":return new x(ie);case"Sig":return new A(ie)}return new g(ie);case u.AnnotationType.POPUP:return new T(ie);case u.AnnotationType.FREETEXT:return new D(ie);case u.AnnotationType.LINE:return new I(ie);case u.AnnotationType.SQUARE:return new $(ie);case u.AnnotationType.CIRCLE:return new Z(ie);case u.AnnotationType.POLYLINE:return new W(ie);case u.AnnotationType.CARET:return new he(ie);case u.AnnotationType.INK:return new Y(ie);case u.AnnotationType.POLYGON:return new Q(ie);case u.AnnotationType.HIGHLIGHT:return new z(ie);case u.AnnotationType.UNDERLINE:return new te(ie);case u.AnnotationType.SQUIGGLY:return new oe(ie);case u.AnnotationType.STRIKEOUT:return new ye(ie);case u.AnnotationType.STAMP:return new Pe(ie);case u.AnnotationType.FILEATTACHMENT:return new L(ie);default:return new s(ie)}}}const E=class E{constructor(ie){_(this,M,!1);let{isRenderable:w=!1,ignoreBorder:G=!1,createQuadrilaterals:se=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.isRenderable=w,this.data=ie.data,this.layer=ie.layer,this.linkService=ie.linkService,this.downloadManager=ie.downloadManager,this.imageResourcesPath=ie.imageResourcesPath,this.renderForms=ie.renderForms,this.svgFactory=ie.svgFactory,this.annotationStorage=ie.annotationStorage,this.enableScripting=ie.enableScripting,this.hasJSActions=ie.hasJSActions,this._fieldObjects=ie.fieldObjects,this.parent=ie.parent,w&&(this.container=this._createContainer(G)),se&&this._createQuadrilaterals()}static _hasPopupData(ie){let{titleObj:w,contentsObj:G,richText:se}=ie;return!!(w!=null&&w.str||G!=null&&G.str||se!=null&&se.str)}get hasPopupData(){return E._hasPopupData(this.data)}_createContainer(ie){const{data:w,parent:{page:G,viewport:se}}=this,fe=document.createElement("section");fe.setAttribute("data-annotation-id",w.id),this instanceof g||(fe.tabIndex=i),fe.style.zIndex=this.parent.zIndex++,this.data.popupRef&&fe.setAttribute("aria-haspopup","dialog"),w.noRotate&&fe.classList.add("norotate");const{pageWidth:be,pageHeight:xe,pageX:De,pageY:Ve}=se.rawDims;if(!w.rect||this instanceof T){const{rotation:Ke}=w;return!w.hasOwnCanvas&&Ke!==0&&this.setRotation(Ke,fe),fe}const{width:Fe,height:je}=h(w.rect),Ge=u.Util.normalizeRect([w.rect[0],G.view[3]-w.rect[1]+G.view[1],w.rect[2],G.view[3]-w.rect[3]+G.view[1]]);if(!ie&&w.borderStyle.width>0){fe.style.borderWidth="".concat(w.borderStyle.width,"px");const Ke=w.borderStyle.horizontalCornerRadius,Qe=w.borderStyle.verticalCornerRadius;if(Ke>0||Qe>0){const et="calc(".concat(Ke,"px * var(--scale-factor)) / calc(").concat(Qe,"px * var(--scale-factor))");fe.style.borderRadius=et}else if(this instanceof c){const et="calc(".concat(Fe,"px * var(--scale-factor)) / calc(").concat(je,"px * var(--scale-factor))");fe.style.borderRadius=et}switch(w.borderStyle.style){case u.AnnotationBorderStyleType.SOLID:fe.style.borderStyle="solid";break;case u.AnnotationBorderStyleType.DASHED:fe.style.borderStyle="dashed";break;case u.AnnotationBorderStyleType.BEVELED:(0,u.warn)("Unimplemented border style: beveled");break;case u.AnnotationBorderStyleType.INSET:(0,u.warn)("Unimplemented border style: inset");break;case u.AnnotationBorderStyleType.UNDERLINE:fe.style.borderBottomStyle="solid";break}const qe=w.borderColor||null;qe?(ce(this,M,!0),fe.style.borderColor=u.Util.makeHexColor(qe[0]|0,qe[1]|0,qe[2]|0)):fe.style.borderWidth=0}fe.style.left="".concat(100*(Ge[0]-De)/be,"%"),fe.style.top="".concat(100*(Ge[1]-Ve)/xe,"%");const{rotation:$e}=w;return w.hasOwnCanvas||$e===0?(fe.style.width="".concat(100*Fe/be,"%"),fe.style.height="".concat(100*je/xe,"%")):this.setRotation($e,fe),fe}setRotation(ie){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.container;if(!this.data.rect)return;const{pageWidth:G,pageHeight:se}=this.parent.viewport.rawDims,{width:fe,height:be}=h(this.data.rect);let xe,De;ie%180===0?(xe=100*fe/G,De=100*be/se):(xe=100*be/G,De=100*fe/se),w.style.width="".concat(xe,"%"),w.style.height="".concat(De,"%"),w.setAttribute("data-main-rotation",(360-ie)%360)}get _commonActions(){const ie=(w,G,se)=>{const fe=se.detail[w],be=fe[0],xe=fe.slice(1);se.target.style[G]=f.ColorConverters["".concat(be,"_HTML")](xe),this.annotationStorage.setValue(this.data.id,{[G]:f.ColorConverters["".concat(be,"_rgb")](xe)})};return(0,u.shadow)(this,"_commonActions",{display:w=>{const{display:G}=w.detail,se=G%2===1;this.container.style.visibility=se?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:se,noPrint:G===1||G===2})},print:w=>{this.annotationStorage.setValue(this.data.id,{noPrint:!w.detail.print})},hidden:w=>{const{hidden:G}=w.detail;this.container.style.visibility=G?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:G,noView:G})},focus:w=>{setTimeout(()=>w.target.focus({preventScroll:!1}),0)},userName:w=>{w.target.title=w.detail.userName},readonly:w=>{w.target.disabled=w.detail.readonly},required:w=>{this._setRequired(w.target,w.detail.required)},bgColor:w=>{ie("bgColor","backgroundColor",w)},fillColor:w=>{ie("fillColor","backgroundColor",w)},fgColor:w=>{ie("fgColor","color",w)},textColor:w=>{ie("textColor","color",w)},borderColor:w=>{ie("borderColor","borderColor",w)},strokeColor:w=>{ie("strokeColor","borderColor",w)},rotation:w=>{const G=w.detail.rotation;this.setRotation(G),this.annotationStorage.setValue(this.data.id,{rotation:G})}})}_dispatchEventFromSandbox(ie,w){const G=this._commonActions;for(const se of Object.keys(w.detail)){const fe=ie[se]||G[se];fe==null||fe(w)}}_setDefaultPropertiesFromJS(ie){if(!this.enableScripting)return;const w=this.annotationStorage.getRawValue(this.data.id);if(!w)return;const G=this._commonActions;for(const[se,fe]of Object.entries(w)){const be=G[se];if(be){const xe={detail:{[se]:fe},target:ie};be(xe),delete w[se]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:ie}=this.data;if(!ie)return;const[w,G,se,fe]=this.data.rect;if(ie.length===1){const[,{x:Qe,y:qe},{x:et,y:rt}]=ie[0];if(se===Qe&&fe===qe&&w===et&&G===rt)return}const{style:be}=this.container;let xe;if(l(this,M)){const{borderColor:Qe,borderWidth:qe}=be;be.borderWidth=0,xe=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">','<g fill="transparent" stroke="'.concat(Qe,'" stroke-width="').concat(qe,'">')],this.container.classList.add("hasBorder")}const De=se-w,Ve=fe-G,{svgFactory:Fe}=this,je=Fe.createElement("svg");je.classList.add("quadrilateralsContainer"),je.setAttribute("width",0),je.setAttribute("height",0);const Ge=Fe.createElement("defs");je.append(Ge);const $e=Fe.createElement("clipPath"),Ke="clippath_".concat(this.data.id);$e.setAttribute("id",Ke),$e.setAttribute("clipPathUnits","objectBoundingBox"),Ge.append($e);for(const[,{x:Qe,y:qe},{x:et,y:rt}]of ie){const nt=Fe.createElement("rect"),it=(et-w)/De,lt=(fe-qe)/Ve,ct=(Qe-et)/De,qn=(qe-rt)/Ve;nt.setAttribute("x",it),nt.setAttribute("y",lt),nt.setAttribute("width",ct),nt.setAttribute("height",qn),$e.append(nt),xe==null||xe.push('<rect vector-effect="non-scaling-stroke" x="'.concat(it,'" y="').concat(lt,'" width="').concat(ct,'" height="').concat(qn,'"/>'))}l(this,M)&&(xe.push("</g></svg>')"),be.backgroundImage=xe.join("")),this.container.append(je),this.container.style.clipPath="url(#".concat(Ke,")")}_createPopup(){const{container:ie,data:w}=this;ie.setAttribute("aria-haspopup","dialog");const G=new T({data:{color:w.color,titleObj:w.titleObj,modificationDate:w.modificationDate,contentsObj:w.contentsObj,richText:w.richText,parentRect:w.rect,borderStyle:0,id:"popup_".concat(w.id),rotation:w.rotation},parent:this.parent,elements:[this]});this.parent.div.append(G.render())}render(){(0,u.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(ie){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const G=[];if(this._fieldObjects){const se=this._fieldObjects[ie];if(se)for(const{page:fe,id:be,exportValues:xe}of se){if(fe===-1||be===w)continue;const De=typeof xe=="string"?xe:null,Ve=document.querySelector('[data-element-id="'.concat(be,'"]'));if(Ve&&!p.has(Ve)){(0,u.warn)("_getElementsByName - element not allowed: ".concat(be));continue}G.push({id:be,exportValue:De,domElement:Ve})}return G}for(const se of document.getElementsByName(ie)){const{exportValue:fe}=se,be=se.getAttribute("data-element-id");be!==w&&p.has(se)&&G.push({id:be,exportValue:fe,domElement:se})}return G}show(){var ie;this.container&&(this.container.hidden=!1),(ie=this.popup)==null||ie.maybeShow()}hide(){var ie;this.container&&(this.container.hidden=!0),(ie=this.popup)==null||ie.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const ie=this.getElementsToTriggerPopup();if(Array.isArray(ie))for(const w of ie)w.classList.add("highlightArea");else ie.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:ie,data:{id:w}}=this;this.container.addEventListener("dblclick",()=>{var G;(G=this.linkService.eventBus)==null||G.dispatch("switchannotationeditormode",{source:this,mode:ie,editId:w})})}};M=new WeakMap;let s=E;class r extends s{constructor(w){let G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;super(w,{isRenderable:!0,ignoreBorder:!!(G!=null&&G.ignoreBorder),createQuadrilaterals:!0});_(this,R);_(this,B);this.isTooltipOnly=w.data.isTooltipOnly}render(){const{data:w,linkService:G}=this,se=document.createElement("a");se.setAttribute("data-element-id",w.id);let fe=!1;return w.url?(G.addLinkAttributes(se,w.url,w.newWindow),fe=!0):w.action?(this._bindNamedAction(se,w.action),fe=!0):w.attachment?(this._bindAttachment(se,w.attachment),fe=!0):w.setOCGState?(J(this,B,gr).call(this,se,w.setOCGState),fe=!0):w.dest?(this._bindLink(se,w.dest),fe=!0):(w.actions&&(w.actions.Action||w.actions["Mouse Up"]||w.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(se,w),fe=!0),w.resetForm?(this._bindResetFormAction(se,w.resetForm),fe=!0):this.isTooltipOnly&&!fe&&(this._bindLink(se,""),fe=!0)),this.container.classList.add("linkAnnotation"),fe&&this.container.append(se),this.container}_bindLink(w,G){w.href=this.linkService.getDestinationHash(G),w.onclick=()=>(G&&this.linkService.goToDestination(G),!1),(G||G==="")&&J(this,R,ht).call(this)}_bindNamedAction(w,G){w.href=this.linkService.getAnchorUrl(""),w.onclick=()=>(this.linkService.executeNamedAction(G),!1),J(this,R,ht).call(this)}_bindAttachment(w,G){w.href=this.linkService.getAnchorUrl(""),w.onclick=()=>{var se;return(se=this.downloadManager)==null||se.openOrDownloadData(this.container,G.content,G.filename),!1},J(this,R,ht).call(this)}_bindJSAction(w,G){w.href=this.linkService.getAnchorUrl("");const se=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const fe of Object.keys(G.actions)){const be=se.get(fe);be&&(w[be]=()=>{var xe;return(xe=this.linkService.eventBus)==null||xe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:G.id,name:fe}}),!1})}w.onclick||(w.onclick=()=>!1),J(this,R,ht).call(this)}_bindResetFormAction(w,G){const se=w.onclick;if(se||(w.href=this.linkService.getAnchorUrl("")),J(this,R,ht).call(this),!this._fieldObjects){(0,u.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),se||(w.onclick=()=>!1);return}w.onclick=()=>{var je;se==null||se();const{fields:fe,refs:be,include:xe}=G,De=[];if(fe.length!==0||be.length!==0){const Ge=new Set(be);for(const $e of fe){const Ke=this._fieldObjects[$e]||[];for(const{id:Qe}of Ke)Ge.add(Qe)}for(const $e of Object.values(this._fieldObjects))for(const Ke of $e)Ge.has(Ke.id)===xe&&De.push(Ke)}else for(const Ge of Object.values(this._fieldObjects))De.push(...Ge);const Ve=this.annotationStorage,Fe=[];for(const Ge of De){const{id:$e}=Ge;switch(Fe.push($e),Ge.type){case"text":{const Qe=Ge.defaultValue||"";Ve.setValue($e,{value:Qe});break}case"checkbox":case"radiobutton":{const Qe=Ge.defaultValue===Ge.exportValues;Ve.setValue($e,{value:Qe});break}case"combobox":case"listbox":{const Qe=Ge.defaultValue||"";Ve.setValue($e,{value:Qe});break}default:continue}const Ke=document.querySelector('[data-element-id="'.concat($e,'"]'));if(Ke){if(!p.has(Ke)){(0,u.warn)("_bindResetFormAction - element not allowed: ".concat($e));continue}}else continue;Ke.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((je=this.linkService.eventBus)==null||je.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Fe,name:"ResetForm"}})),!1}}}R=new WeakSet,ht=function(){this.container.setAttribute("data-internal-link","")},B=new WeakSet,gr=function(w,G){w.href=this.linkService.getAnchorUrl(""),w.onclick=()=>(this.linkService.executeSetOCGState(G),!1),J(this,R,ht).call(this)};class o extends s{constructor(ie){super(ie,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const ie=document.createElement("img");return ie.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",ie.alt="[{{type}} Annotation]",ie.dataset.l10nId="text_annotation_type",ie.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(ie),this.container}}class g extends s{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(ie){var w;this.data.hasOwnCanvas&&(((w=ie.previousSibling)==null?void 0:w.nodeName)==="CANVAS"&&(ie.previousSibling.hidden=!0),ie.hidden=!1)}_getKeyModifier(ie){const{isWin:w,isMac:G}=u.FeatureTest.platform;return w&&ie.ctrlKey||G&&ie.metaKey}_setEventListener(ie,w,G,se,fe){G.includes("mouse")?ie.addEventListener(G,be=>{var xe;(xe=this.linkService.eventBus)==null||xe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:se,value:fe(be),shift:be.shiftKey,modifier:this._getKeyModifier(be)}})}):ie.addEventListener(G,be=>{var xe;if(G==="blur"){if(!w.focused||!be.relatedTarget)return;w.focused=!1}else if(G==="focus"){if(w.focused)return;w.focused=!0}fe&&((xe=this.linkService.eventBus)==null||xe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:se,value:fe(be)}}))})}_setEventListeners(ie,w,G,se){var fe,be,xe;for(const[De,Ve]of G)(Ve==="Action"||(fe=this.data.actions)!=null&&fe[Ve])&&((Ve==="Focus"||Ve==="Blur")&&(w||(w={focused:!1})),this._setEventListener(ie,w,De,Ve,se),Ve==="Focus"&&!((be=this.data.actions)!=null&&be.Blur)?this._setEventListener(ie,w,"blur","Blur",null):Ve==="Blur"&&!((xe=this.data.actions)!=null&&xe.Focus)&&this._setEventListener(ie,w,"focus","Focus",null))}_setBackgroundColor(ie){const w=this.data.backgroundColor||null;ie.style.backgroundColor=w===null?"transparent":u.Util.makeHexColor(w[0],w[1],w[2])}_setTextStyle(ie){const w=["left","center","right"],{fontColor:G}=this.data.defaultAppearanceData,se=this.data.defaultAppearanceData.fontSize||n,fe=ie.style;let be;const xe=2,De=Ve=>Math.round(10*Ve)/10;if(this.data.multiLine){const Ve=Math.abs(this.data.rect[3]-this.data.rect[1]-xe),Fe=Math.round(Ve/(u.LINE_FACTOR*se))||1,je=Ve/Fe;be=Math.min(se,De(je/u.LINE_FACTOR))}else{const Ve=Math.abs(this.data.rect[3]-this.data.rect[1]-xe);be=Math.min(se,De(Ve/u.LINE_FACTOR))}fe.fontSize="calc(".concat(be,"px * var(--scale-factor))"),fe.color=u.Util.makeHexColor(G[0],G[1],G[2]),this.data.textAlignment!==null&&(fe.textAlign=w[this.data.textAlignment])}_setRequired(ie,w){w?ie.setAttribute("required",!0):ie.removeAttribute("required"),ie.setAttribute("aria-required",w)}}class v extends g{constructor(ie){const w=ie.renderForms||!ie.data.hasAppearance&&!!ie.data.fieldValue;super(ie,{isRenderable:w})}setPropertyOnSiblings(ie,w,G,se){const fe=this.annotationStorage;for(const be of this._getElementsByName(ie.name,ie.id))be.domElement&&(be.domElement[w]=G),fe.setValue(be.id,{[se]:G})}render(){var se,fe;const ie=this.annotationStorage,w=this.data.id;this.container.classList.add("textWidgetAnnotation");let G=null;if(this.renderForms){const be=ie.getValue(w,{value:this.data.fieldValue});let xe=be.value||"";const De=ie.getValue(w,{charLimit:this.data.maxLen}).charLimit;De&&xe.length>De&&(xe=xe.slice(0,De));let Ve=be.formattedValue||((se=this.data.textContent)==null?void 0:se.join("\n"))||null;Ve&&this.data.comb&&(Ve=Ve.replaceAll(/\s+/g,""));const Fe={userValue:xe,formattedValue:Ve,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(G=document.createElement("textarea"),G.textContent=Ve!=null?Ve:xe,this.data.doNotScroll&&(G.style.overflowY="hidden")):(G=document.createElement("input"),G.type="text",G.setAttribute("value",Ve!=null?Ve:xe),this.data.doNotScroll&&(G.style.overflowX="hidden")),this.data.hasOwnCanvas&&(G.hidden=!0),p.add(G),G.setAttribute("data-element-id",w),G.disabled=this.data.readOnly,G.name=this.data.fieldName,G.tabIndex=i,this._setRequired(G,this.data.required),De&&(G.maxLength=De),G.addEventListener("input",Ge=>{ie.setValue(w,{value:Ge.target.value}),this.setPropertyOnSiblings(G,"value",Ge.target.value,"value"),Fe.formattedValue=null}),G.addEventListener("resetform",Ge=>{var Ke;const $e=(Ke=this.data.defaultFieldValue)!=null?Ke:"";G.value=Fe.userValue=$e,Fe.formattedValue=null});let je=Ge=>{const{formattedValue:$e}=Fe;$e!=null&&(Ge.target.value=$e),Ge.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){G.addEventListener("focus",$e=>{if(Fe.focused)return;const{target:Ke}=$e;Fe.userValue&&(Ke.value=Fe.userValue),Fe.lastCommittedValue=Ke.value,Fe.commitKey=1,Fe.focused=!0}),G.addEventListener("updatefromsandbox",$e=>{this.showElementAndHideCanvas($e.target);const Ke={value(Qe){var qe;Fe.userValue=(qe=Qe.detail.value)!=null?qe:"",ie.setValue(w,{value:Fe.userValue.toString()}),Qe.target.value=Fe.userValue},formattedValue(Qe){const{formattedValue:qe}=Qe.detail;Fe.formattedValue=qe,qe!=null&&Qe.target!==document.activeElement&&(Qe.target.value=qe),ie.setValue(w,{formattedValue:qe})},selRange(Qe){Qe.target.setSelectionRange(...Qe.detail.selRange)},charLimit:Qe=>{var nt;const{charLimit:qe}=Qe.detail,{target:et}=Qe;if(qe===0){et.removeAttribute("maxLength");return}et.setAttribute("maxLength",qe);let rt=Fe.userValue;!rt||rt.length<=qe||(rt=rt.slice(0,qe),et.value=Fe.userValue=rt,ie.setValue(w,{value:rt}),(nt=this.linkService.eventBus)==null||nt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:w,name:"Keystroke",value:rt,willCommit:!0,commitKey:1,selStart:et.selectionStart,selEnd:et.selectionEnd}}))}};this._dispatchEventFromSandbox(Ke,$e)}),G.addEventListener("keydown",$e=>{var qe;Fe.commitKey=1;let Ke=-1;if($e.key==="Escape"?Ke=0:$e.key==="Enter"&&!this.data.multiLine?Ke=2:$e.key==="Tab"&&(Fe.commitKey=3),Ke===-1)return;const{value:Qe}=$e.target;Fe.lastCommittedValue!==Qe&&(Fe.lastCommittedValue=Qe,Fe.userValue=Qe,(qe=this.linkService.eventBus)==null||qe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:w,name:"Keystroke",value:Qe,willCommit:!0,commitKey:Ke,selStart:$e.target.selectionStart,selEnd:$e.target.selectionEnd}}))});const Ge=je;je=null,G.addEventListener("blur",$e=>{var Qe;if(!Fe.focused||!$e.relatedTarget)return;Fe.focused=!1;const{value:Ke}=$e.target;Fe.userValue=Ke,Fe.lastCommittedValue!==Ke&&((Qe=this.linkService.eventBus)==null||Qe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:w,name:"Keystroke",value:Ke,willCommit:!0,commitKey:Fe.commitKey,selStart:$e.target.selectionStart,selEnd:$e.target.selectionEnd}})),Ge($e)}),(fe=this.data.actions)!=null&&fe.Keystroke&&G.addEventListener("beforeinput",$e=>{var lt;Fe.lastCommittedValue=null;const{data:Ke,target:Qe}=$e,{value:qe,selectionStart:et,selectionEnd:rt}=Qe;let nt=et,it=rt;switch($e.inputType){case"deleteWordBackward":{const ct=qe.substring(0,et).match(/\w*[^\w]*$/);ct&&(nt-=ct[0].length);break}case"deleteWordForward":{const ct=qe.substring(et).match(/^[^\w]*\w*/);ct&&(it+=ct[0].length);break}case"deleteContentBackward":et===rt&&(nt-=1);break;case"deleteContentForward":et===rt&&(it+=1);break}$e.preventDefault(),(lt=this.linkService.eventBus)==null||lt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:w,name:"Keystroke",value:qe,change:Ke||"",willCommit:!1,selStart:nt,selEnd:it}})}),this._setEventListeners(G,Fe,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],$e=>$e.target.value)}if(je&&G.addEventListener("blur",je),this.data.comb){const $e=(this.data.rect[2]-this.data.rect[0])/De;G.classList.add("comb"),G.style.letterSpacing="calc(".concat($e,"px * var(--scale-factor) - 1ch)")}}else G=document.createElement("div"),G.textContent=this.data.fieldValue,G.style.verticalAlign="middle",G.style.display="table-cell";return this._setTextStyle(G),this._setBackgroundColor(G),this._setDefaultPropertiesFromJS(G),this.container.append(G),this.container}}class A extends g{constructor(ie){super(ie,{isRenderable:!!ie.data.hasOwnCanvas})}}class b extends g{constructor(ie){super(ie,{isRenderable:ie.renderForms})}render(){const ie=this.annotationStorage,w=this.data,G=w.id;let se=ie.getValue(G,{value:w.exportValue===w.fieldValue}).value;typeof se=="string"&&(se=se!=="Off",ie.setValue(G,{value:se})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const fe=document.createElement("input");return p.add(fe),fe.setAttribute("data-element-id",G),fe.disabled=w.readOnly,this._setRequired(fe,this.data.required),fe.type="checkbox",fe.name=w.fieldName,se&&fe.setAttribute("checked",!0),fe.setAttribute("exportValue",w.exportValue),fe.tabIndex=i,fe.addEventListener("change",be=>{const{name:xe,checked:De}=be.target;for(const Ve of this._getElementsByName(xe,G)){const Fe=De&&Ve.exportValue===w.exportValue;Ve.domElement&&(Ve.domElement.checked=Fe),ie.setValue(Ve.id,{value:Fe})}ie.setValue(G,{value:De})}),fe.addEventListener("resetform",be=>{const xe=w.defaultFieldValue||"Off";be.target.checked=xe===w.exportValue}),this.enableScripting&&this.hasJSActions&&(fe.addEventListener("updatefromsandbox",be=>{const xe={value(De){De.target.checked=De.detail.value!=="Off",ie.setValue(G,{value:De.target.checked})}};this._dispatchEventFromSandbox(xe,be)}),this._setEventListeners(fe,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],be=>be.target.checked)),this._setBackgroundColor(fe),this._setDefaultPropertiesFromJS(fe),this.container.append(fe),this.container}}class c extends g{constructor(ie){super(ie,{isRenderable:ie.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const ie=this.annotationStorage,w=this.data,G=w.id;let se=ie.getValue(G,{value:w.fieldValue===w.buttonValue}).value;typeof se=="string"&&(se=se!==w.buttonValue,ie.setValue(G,{value:se}));const fe=document.createElement("input");if(p.add(fe),fe.setAttribute("data-element-id",G),fe.disabled=w.readOnly,this._setRequired(fe,this.data.required),fe.type="radio",fe.name=w.fieldName,se&&fe.setAttribute("checked",!0),fe.tabIndex=i,fe.addEventListener("change",be=>{const{name:xe,checked:De}=be.target;for(const Ve of this._getElementsByName(xe,G))ie.setValue(Ve.id,{value:!1});ie.setValue(G,{value:De})}),fe.addEventListener("resetform",be=>{const xe=w.defaultFieldValue;be.target.checked=xe!=null&&xe===w.buttonValue}),this.enableScripting&&this.hasJSActions){const be=w.buttonValue;fe.addEventListener("updatefromsandbox",xe=>{const De={value:Ve=>{const Fe=be===Ve.detail.value;for(const je of this._getElementsByName(Ve.target.name)){const Ge=Fe&&je.id===G;je.domElement&&(je.domElement.checked=Ge),ie.setValue(je.id,{value:Ge})}}};this._dispatchEventFromSandbox(De,xe)}),this._setEventListeners(fe,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],xe=>xe.target.checked)}return this._setBackgroundColor(fe),this._setDefaultPropertiesFromJS(fe),this.container.append(fe),this.container}}class a extends r{constructor(ie){super(ie,{ignoreBorder:ie.data.hasAppearance})}render(){const ie=super.render();ie.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(ie.title=this.data.alternativeText);const w=ie.lastChild;return this.enableScripting&&this.hasJSActions&&w&&(this._setDefaultPropertiesFromJS(w),w.addEventListener("updatefromsandbox",G=>{this._dispatchEventFromSandbox({},G)})),ie}}class x extends g{constructor(ie){super(ie,{isRenderable:ie.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const ie=this.annotationStorage,w=this.data.id,G=ie.getValue(w,{value:this.data.fieldValue}),se=document.createElement("select");p.add(se),se.setAttribute("data-element-id",w),se.disabled=this.data.readOnly,this._setRequired(se,this.data.required),se.name=this.data.fieldName,se.tabIndex=i;let fe=this.data.combo&&this.data.options.length>0;this.data.combo||(se.size=this.data.options.length,this.data.multiSelect&&(se.multiple=!0)),se.addEventListener("resetform",Fe=>{const je=this.data.defaultFieldValue;for(const Ge of se.options)Ge.selected=Ge.value===je});for(const Fe of this.data.options){const je=document.createElement("option");je.textContent=Fe.displayValue,je.value=Fe.exportValue,G.value.includes(Fe.exportValue)&&(je.setAttribute("selected",!0),fe=!1),se.append(je)}let be=null;if(fe){const Fe=document.createElement("option");Fe.value=" ",Fe.setAttribute("hidden",!0),Fe.setAttribute("selected",!0),se.prepend(Fe),be=()=>{Fe.remove(),se.removeEventListener("input",be),be=null},se.addEventListener("input",be)}const xe=Fe=>{const je=Fe?"value":"textContent",{options:Ge,multiple:$e}=se;return $e?Array.prototype.filter.call(Ge,Ke=>Ke.selected).map(Ke=>Ke[je]):Ge.selectedIndex===-1?null:Ge[Ge.selectedIndex][je]};let De=xe(!1);const Ve=Fe=>{const je=Fe.target.options;return Array.prototype.map.call(je,Ge=>({displayValue:Ge.textContent,exportValue:Ge.value}))};return this.enableScripting&&this.hasJSActions?(se.addEventListener("updatefromsandbox",Fe=>{const je={value(Ge){be==null||be();const $e=Ge.detail.value,Ke=new Set(Array.isArray($e)?$e:[$e]);for(const Qe of se.options)Qe.selected=Ke.has(Qe.value);ie.setValue(w,{value:xe(!0)}),De=xe(!1)},multipleSelection(Ge){se.multiple=!0},remove(Ge){const $e=se.options,Ke=Ge.detail.remove;$e[Ke].selected=!1,se.remove(Ke),$e.length>0&&Array.prototype.findIndex.call($e,qe=>qe.selected)===-1&&($e[0].selected=!0),ie.setValue(w,{value:xe(!0),items:Ve(Ge)}),De=xe(!1)},clear(Ge){for(;se.length!==0;)se.remove(0);ie.setValue(w,{value:null,items:[]}),De=xe(!1)},insert(Ge){const{index:$e,displayValue:Ke,exportValue:Qe}=Ge.detail.insert,qe=se.children[$e],et=document.createElement("option");et.textContent=Ke,et.value=Qe,qe?qe.before(et):se.append(et),ie.setValue(w,{value:xe(!0),items:Ve(Ge)}),De=xe(!1)},items(Ge){const{items:$e}=Ge.detail;for(;se.length!==0;)se.remove(0);for(const Ke of $e){const{displayValue:Qe,exportValue:qe}=Ke,et=document.createElement("option");et.textContent=Qe,et.value=qe,se.append(et)}se.options.length>0&&(se.options[0].selected=!0),ie.setValue(w,{value:xe(!0),items:Ve(Ge)}),De=xe(!1)},indices(Ge){const $e=new Set(Ge.detail.indices);for(const Ke of Ge.target.options)Ke.selected=$e.has(Ke.index);ie.setValue(w,{value:xe(!0)}),De=xe(!1)},editable(Ge){Ge.target.disabled=!Ge.detail.editable}};this._dispatchEventFromSandbox(je,Fe)}),se.addEventListener("input",Fe=>{var Ge;const je=xe(!0);ie.setValue(w,{value:je}),Fe.preventDefault(),(Ge=this.linkService.eventBus)==null||Ge.dispatch("dispatcheventinsandbox",{source:this,detail:{id:w,name:"Keystroke",value:De,changeEx:je,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(se,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],Fe=>Fe.target.value)):se.addEventListener("input",function(Fe){ie.setValue(w,{value:xe(!0)})}),this.data.combo&&this._setTextStyle(se),this._setBackgroundColor(se),this._setDefaultPropertiesFromJS(se),this.container.append(se),this.container}}class T extends s{constructor(ie){const{data:w,elements:G}=ie;super(ie,{isRenderable:s._hasPopupData(w)}),this.elements=G}render(){this.container.classList.add("popupAnnotation");const ie=new S({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),w=[];for(const G of this.elements)G.popup=ie,w.push(G.data.id),G.addHighlightArea();return this.container.setAttribute("aria-controls",w.map(G=>"".concat(u.AnnotationPrefix).concat(G)).join(",")),this.container}}class S{constructor(ie){_(this,He);_(this,_e);_(this,Ye);_(this,Ze);_(this,j,null);_(this,ae,J(this,He,mr).bind(this));_(this,q,J(this,Ze,An).bind(this));_(this,pe,J(this,Ye,yn).bind(this));_(this,ne,J(this,_e,Nt).bind(this));_(this,me,null);_(this,ve,null);_(this,Re,null);_(this,Oe,null);_(this,Ie,null);_(this,Le,null);_(this,ue,!1);_(this,ee,null);_(this,le,null);_(this,ge,null);_(this,Ce,null);_(this,Me,!1);var Ke;let{container:w,color:G,elements:se,titleObj:fe,modificationDate:be,contentsObj:xe,richText:De,parent:Ve,rect:Fe,parentRect:je,open:Ge}=ie;ce(this,ve,w),ce(this,Ce,fe),ce(this,Re,xe),ce(this,ge,De),ce(this,Ie,Ve),ce(this,me,G),ce(this,le,Fe),ce(this,Le,je),ce(this,Oe,se);const $e=y.PDFDateString.toDateObject(be);$e&&ce(this,j,Ve.l10n.get("annotation_date_string",{date:$e.toLocaleDateString(),time:$e.toLocaleTimeString()})),this.trigger=se.flatMap(Qe=>Qe.getElementsToTriggerPopup());for(const Qe of this.trigger)Qe.addEventListener("click",l(this,ne)),Qe.addEventListener("mouseenter",l(this,pe)),Qe.addEventListener("mouseleave",l(this,q)),Qe.classList.add("popupTriggerArea");for(const Qe of se)(Ke=Qe.container)==null||Ke.addEventListener("keydown",l(this,ae));l(this,ve).hidden=!0,Ge&&J(this,_e,Nt).call(this)}render(){if(l(this,ee))return;const{page:{view:ie},viewport:{rawDims:{pageWidth:w,pageHeight:G,pageX:se,pageY:fe}}}=l(this,Ie),be=ce(this,ee,document.createElement("div"));if(be.className="popup",l(this,me)){const nt=be.style.outlineColor=u.Util.makeHexColor(...l(this,me));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?be.style.backgroundColor="color-mix(in srgb, ".concat(nt," 30%, white)"):be.style.backgroundColor=u.Util.makeHexColor(...l(this,me).map(lt=>Math.floor(.7*(255-lt)+lt)))}const xe=document.createElement("span");xe.className="header";const De=document.createElement("h1");if(xe.append(De),{dir:De.dir,str:De.textContent}=l(this,Ce),be.append(xe),l(this,j)){const nt=document.createElement("span");nt.classList.add("popupDate"),l(this,j).then(it=>{nt.textContent=it}),xe.append(nt)}const Ve=l(this,Re),Fe=l(this,ge);if(Fe!=null&&Fe.str&&(!(Ve!=null&&Ve.str)||Ve.str===Fe.str))t.XfaLayer.render({xfaHtml:Fe.html,intent:"richText",div:be}),be.lastChild.classList.add("richText","popupContent");else{const nt=this._formatContents(Ve);be.append(nt)}let je=!!l(this,Le),Ge=je?l(this,Le):l(this,le);for(const nt of l(this,Oe))if(!Ge||u.Util.intersect(nt.data.rect,Ge)!==null){Ge=nt.data.rect,je=!0;break}const $e=u.Util.normalizeRect([Ge[0],ie[3]-Ge[1]+ie[1],Ge[2],ie[3]-Ge[3]+ie[1]]),Ke=5,Qe=je?Ge[2]-Ge[0]+Ke:0,qe=$e[0]+Qe,et=$e[1],{style:rt}=l(this,ve);rt.left="".concat(100*(qe-se)/w,"%"),rt.top="".concat(100*(et-fe)/G,"%"),l(this,ve).append(be)}_formatContents(ie){let{str:w,dir:G}=ie;const se=document.createElement("p");se.classList.add("popupContent"),se.dir=G;const fe=w.split(/(?:\r\n?|\n)/);for(let be=0,xe=fe.length;be<xe;++be){const De=fe[be];se.append(document.createTextNode(De)),be<xe-1&&se.append(document.createElement("br"))}return se}forceHide(){ce(this,Me,this.isVisible),l(this,Me)&&(l(this,ve).hidden=!0)}maybeShow(){l(this,Me)&&(ce(this,Me,!1),l(this,ve).hidden=!1)}get isVisible(){return l(this,ve).hidden===!1}}j=new WeakMap,ae=new WeakMap,q=new WeakMap,pe=new WeakMap,ne=new WeakMap,me=new WeakMap,ve=new WeakMap,Re=new WeakMap,Oe=new WeakMap,Ie=new WeakMap,Le=new WeakMap,ue=new WeakMap,ee=new WeakMap,le=new WeakMap,ge=new WeakMap,Ce=new WeakMap,Me=new WeakMap,He=new WeakSet,mr=function(ie){ie.altKey||ie.shiftKey||ie.ctrlKey||ie.metaKey||(ie.key==="Enter"||ie.key==="Escape"&&l(this,ue))&&J(this,_e,Nt).call(this)},_e=new WeakSet,Nt=function(){ce(this,ue,!l(this,ue)),l(this,ue)?(J(this,Ye,yn).call(this),l(this,ve).addEventListener("click",l(this,ne)),l(this,ve).addEventListener("keydown",l(this,ae))):(J(this,Ze,An).call(this),l(this,ve).removeEventListener("click",l(this,ne)),l(this,ve).removeEventListener("keydown",l(this,ae)))},Ye=new WeakSet,yn=function(){l(this,ee)||this.render(),this.isVisible?l(this,ue)&&l(this,ve).classList.add("focused"):(l(this,ve).hidden=!1,l(this,ve).style.zIndex=parseInt(l(this,ve).style.zIndex)+1e3)},Ze=new WeakSet,An=function(){l(this,ve).classList.remove("focused"),!(l(this,ue)||!this.isVisible)&&(l(this,ve).hidden=!0,l(this,ve).style.zIndex=parseInt(l(this,ve).style.zIndex)-1e3)};class D extends s{constructor(ie){super(ie,{isRenderable:!0,ignoreBorder:!0}),this.textContent=ie.data.textContent,this.textPosition=ie.data.textPosition,this.annotationEditorType=u.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const ie=document.createElement("div");ie.classList.add("annotationTextContent"),ie.setAttribute("role","comment");for(const w of this.textContent){const G=document.createElement("span");G.textContent=w,ie.append(G)}this.container.append(ie)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}C.FreeTextAnnotationElement=D;class I extends s{constructor(w){super(w,{isRenderable:!0,ignoreBorder:!0});_(this,V,null)}render(){this.container.classList.add("lineAnnotation");const w=this.data,{width:G,height:se}=h(w.rect),fe=this.svgFactory.create(G,se,!0),be=ce(this,V,this.svgFactory.createElement("svg:line"));return be.setAttribute("x1",w.rect[2]-w.lineCoordinates[0]),be.setAttribute("y1",w.rect[3]-w.lineCoordinates[1]),be.setAttribute("x2",w.rect[2]-w.lineCoordinates[2]),be.setAttribute("y2",w.rect[3]-w.lineCoordinates[3]),be.setAttribute("stroke-width",w.borderStyle.width||1),be.setAttribute("stroke","transparent"),be.setAttribute("fill","transparent"),fe.append(be),this.container.append(fe),!w.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,V)}addHighlightArea(){this.container.classList.add("highlightArea")}}V=new WeakMap;class $ extends s{constructor(w){super(w,{isRenderable:!0,ignoreBorder:!0});_(this,H,null)}render(){this.container.classList.add("squareAnnotation");const w=this.data,{width:G,height:se}=h(w.rect),fe=this.svgFactory.create(G,se,!0),be=w.borderStyle.width,xe=ce(this,H,this.svgFactory.createElement("svg:rect"));return xe.setAttribute("x",be/2),xe.setAttribute("y",be/2),xe.setAttribute("width",G-be),xe.setAttribute("height",se-be),xe.setAttribute("stroke-width",be||1),xe.setAttribute("stroke","transparent"),xe.setAttribute("fill","transparent"),fe.append(xe),this.container.append(fe),!w.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,H)}addHighlightArea(){this.container.classList.add("highlightArea")}}H=new WeakMap;class Z extends s{constructor(w){super(w,{isRenderable:!0,ignoreBorder:!0});_(this,X,null)}render(){this.container.classList.add("circleAnnotation");const w=this.data,{width:G,height:se}=h(w.rect),fe=this.svgFactory.create(G,se,!0),be=w.borderStyle.width,xe=ce(this,X,this.svgFactory.createElement("svg:ellipse"));return xe.setAttribute("cx",G/2),xe.setAttribute("cy",se/2),xe.setAttribute("rx",G/2-be/2),xe.setAttribute("ry",se/2-be/2),xe.setAttribute("stroke-width",be||1),xe.setAttribute("stroke","transparent"),xe.setAttribute("fill","transparent"),fe.append(xe),this.container.append(fe),!w.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,X)}addHighlightArea(){this.container.classList.add("highlightArea")}}X=new WeakMap;class W extends s{constructor(w){super(w,{isRenderable:!0,ignoreBorder:!0});_(this,de,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const w=this.data,{width:G,height:se}=h(w.rect),fe=this.svgFactory.create(G,se,!0);let be=[];for(const De of w.vertices){const Ve=De.x-w.rect[0],Fe=w.rect[3]-De.y;be.push(Ve+","+Fe)}be=be.join(" ");const xe=ce(this,de,this.svgFactory.createElement(this.svgElementName));return xe.setAttribute("points",be),xe.setAttribute("stroke-width",w.borderStyle.width||1),xe.setAttribute("stroke","transparent"),xe.setAttribute("fill","transparent"),fe.append(xe),this.container.append(fe),!w.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,de)}addHighlightArea(){this.container.classList.add("highlightArea")}}de=new WeakMap;class Q extends W{constructor(ie){super(ie),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class he extends s{constructor(ie){super(ie,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Y extends s{constructor(w){super(w,{isRenderable:!0,ignoreBorder:!0});_(this,Se,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=u.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const w=this.data,{width:G,height:se}=h(w.rect),fe=this.svgFactory.create(G,se,!0);for(const be of w.inkLists){let xe=[];for(const Ve of be){const Fe=Ve.x-w.rect[0],je=w.rect[3]-Ve.y;xe.push("".concat(Fe,",").concat(je))}xe=xe.join(" ");const De=this.svgFactory.createElement(this.svgElementName);l(this,Se).push(De),De.setAttribute("points",xe),De.setAttribute("stroke-width",w.borderStyle.width||1),De.setAttribute("stroke","transparent"),De.setAttribute("fill","transparent"),!w.popupRef&&this.hasPopupData&&this._createPopup(),fe.append(De)}return this.container.append(fe),this.container}getElementsToTriggerPopup(){return l(this,Se)}addHighlightArea(){this.container.classList.add("highlightArea")}}Se=new WeakMap,C.InkAnnotationElement=Y;class z extends s{constructor(ie){super(ie,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class te extends s{constructor(ie){super(ie,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class oe extends s{constructor(ie){super(ie,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class ye extends s{constructor(ie){super(ie,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Pe extends s{constructor(ie){super(ie,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}C.StampAnnotationElement=Pe;class L extends s{constructor(w){var fe;super(w,{isRenderable:!0});_(this,U);_(this,K,null);const{filename:G,content:se}=this.data.file;this.filename=(0,y.getFilenameFromUrl)(G,!0),this.content=se,(fe=this.linkService.eventBus)==null||fe.dispatch("fileattachmentannotation",{source:this,filename:G,content:se})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:w,data:G}=this;let se;G.hasAppearance||G.fillAlpha===0?se=document.createElement("div"):(se=document.createElement("img"),se.src="".concat(this.imageResourcesPath,"annotation-").concat(/paperclip/i.test(G.name)?"paperclip":"pushpin",".svg"),G.fillAlpha&&G.fillAlpha<1&&(se.style="filter: opacity(".concat(Math.round(G.fillAlpha*100),"%);"))),se.addEventListener("dblclick",J(this,U,Sn).bind(this)),ce(this,K,se);const{isMac:fe}=u.FeatureTest.platform;return w.addEventListener("keydown",be=>{be.key==="Enter"&&(fe?be.metaKey:be.ctrlKey)&&J(this,U,Sn).call(this)}),!G.popupRef&&this.hasPopupData?this._createPopup():se.classList.add("popupTriggerArea"),w.append(se),w}getElementsToTriggerPopup(){return l(this,K)}addHighlightArea(){this.container.classList.add("highlightArea")}}K=new WeakMap,U=new WeakSet,Sn=function(){var w;(w=this.downloadManager)==null||w.openOrDownloadData(this.container,this.content,this.filename)};class P{constructor(ie){_(this,Te);_(this,ke);_(this,Ae,null);_(this,Ee,null);_(this,we,new Map);let{div:w,accessibilityManager:G,annotationCanvasMap:se,l10n:fe,page:be,viewport:xe}=ie;this.div=w,ce(this,Ae,G),ce(this,Ee,se),this.l10n=fe,this.page=be,this.viewport=xe,this.zIndex=0,this.l10n||(this.l10n=m.NullL10n)}async render(ie){const{annotations:w}=ie,G=this.div;(0,y.setLayerDimensions)(G,this.viewport);const se=new Map,fe={data:null,layer:G,linkService:ie.linkService,downloadManager:ie.downloadManager,imageResourcesPath:ie.imageResourcesPath||"",renderForms:ie.renderForms!==!1,svgFactory:new y.DOMSVGFactory,annotationStorage:ie.annotationStorage||new k.AnnotationStorage,enableScripting:ie.enableScripting===!0,hasJSActions:ie.hasJSActions,fieldObjects:ie.fieldObjects,parent:this,elements:null};for(const be of w){if(be.noHTML)continue;const xe=be.annotationType===u.AnnotationType.POPUP;if(xe){const Fe=se.get(be.id);if(!Fe)continue;fe.elements=Fe}else{const{width:Fe,height:je}=h(be.rect);if(Fe<=0||je<=0)continue}fe.data=be;const De=d.create(fe);if(!De.isRenderable)continue;if(!xe&&be.popupRef){const Fe=se.get(be.popupRef);Fe?Fe.push(De):se.set(be.popupRef,[De])}De.annotationEditorType>0&&l(this,we).set(De.data.id,De);const Ve=De.render();be.hidden&&(Ve.style.visibility="hidden"),J(this,Te,vr).call(this,Ve,be.id)}J(this,ke,En).call(this),await this.l10n.translate(G)}update(ie){let{viewport:w}=ie;const G=this.div;this.viewport=w,(0,y.setLayerDimensions)(G,{rotation:w.rotation}),J(this,ke,En).call(this),G.hidden=!1}getEditableAnnotations(){return Array.from(l(this,we).values())}getEditableAnnotation(ie){return l(this,we).get(ie)}}Ae=new WeakMap,Ee=new WeakMap,we=new WeakMap,Te=new WeakSet,vr=function(ie,w){var se;const G=ie.firstChild||ie;G.id="".concat(u.AnnotationPrefix).concat(w),this.div.append(ie),(se=l(this,Ae))==null||se.moveElementInDOM(this.div,ie,G,!1)},ke=new WeakSet,En=function(){if(!l(this,Ee))return;const ie=this.div;for(const[w,G]of l(this,Ee)){const se=ie.querySelector('[data-annotation-id="'.concat(w,'"]'));if(!se)continue;const{firstChild:fe}=se;fe?fe.nodeName==="CANVAS"?fe.replaceWith(G):fe.before(G):se.append(G)}l(this,Ee).clear()},C.AnnotationLayer=P},(N,C)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.ColorConverters=void 0;function e(k){return Math.floor(Math.max(0,Math.min(1,k))*255).toString(16).padStart(2,"0")}function u(k){return Math.max(0,Math.min(255,255*k))}class y{static CMYK_G(f){let[m,t,i,n]=f;return["G",1-Math.min(1,.3*m+.59*i+.11*t+n)]}static G_CMYK(f){let[m]=f;return["CMYK",0,0,0,1-m]}static G_RGB(f){let[m]=f;return["RGB",m,m,m]}static G_rgb(f){let[m]=f;return m=u(m),[m,m,m]}static G_HTML(f){let[m]=f;const t=e(m);return"#".concat(t).concat(t).concat(t)}static RGB_G(f){let[m,t,i]=f;return["G",.3*m+.59*t+.11*i]}static RGB_rgb(f){return f.map(u)}static RGB_HTML(f){return"#".concat(f.map(e).join(""))}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB(f){let[m,t,i,n]=f;return["RGB",1-Math.min(1,m+n),1-Math.min(1,i+n),1-Math.min(1,t+n)]}static CMYK_rgb(f){let[m,t,i,n]=f;return[u(1-Math.min(1,m+n)),u(1-Math.min(1,i+n)),u(1-Math.min(1,t+n))]}static CMYK_HTML(f){const m=this.CMYK_RGB(f).slice(1);return this.RGB_HTML(m)}static RGB_CMYK(f){let[m,t,i]=f;const n=1-m,p=1-t,h=1-i,d=Math.min(n,p,h);return["CMYK",n,p,h,d]}}C.ColorConverters=y},(N,C)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.NullL10n=void 0,C.getL10nFallback=u;const e={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} × {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} × {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing…",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};e.print_progress_percent="{{progress}}%";function u(f,m){switch(f){case"find_match_count":f="find_match_count[".concat(m.total===1?"one":"other","]");break;case"find_match_count_limit":f="find_match_count_limit[".concat(m.limit===1?"one":"other","]");break}return e[f]||""}function y(f,m){return m?f.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(t,i)=>i in m?m[i]:"{{"+i+"}}"):f}const k={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(f){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:u(f,m);return y(t,m)},async translate(f){}};C.NullL10n=k},(N,C,e)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.XfaLayer=void 0,e(89);var u=e(194);class y{static setupStorage(f,m,t,i,n){const p=i.getValue(m,{value:null});switch(t.name){case"textarea":if(p.value!==null&&(f.textContent=p.value),n==="print")break;f.addEventListener("input",h=>{i.setValue(m,{value:h.target.value})});break;case"input":if(t.attributes.type==="radio"||t.attributes.type==="checkbox"){if(p.value===t.attributes.xfaOn?f.setAttribute("checked",!0):p.value===t.attributes.xfaOff&&f.removeAttribute("checked"),n==="print")break;f.addEventListener("change",h=>{i.setValue(m,{value:h.target.checked?h.target.getAttribute("xfaOn"):h.target.getAttribute("xfaOff")})})}else{if(p.value!==null&&f.setAttribute("value",p.value),n==="print")break;f.addEventListener("input",h=>{i.setValue(m,{value:h.target.value})})}break;case"select":if(p.value!==null){f.setAttribute("value",p.value);for(const h of t.children)h.attributes.value===p.value?h.attributes.selected=!0:h.attributes.hasOwnProperty("selected")&&delete h.attributes.selected}f.addEventListener("input",h=>{const d=h.target.options,s=d.selectedIndex===-1?"":d[d.selectedIndex].value;i.setValue(m,{value:s})});break}}static setAttributes(f){let{html:m,element:t,storage:i=null,intent:n,linkService:p}=f;const{attributes:h}=t,d=m instanceof HTMLAnchorElement;h.type==="radio"&&(h.name="".concat(h.name,"-").concat(n));for(const[s,r]of Object.entries(h))if(r!=null)switch(s){case"class":r.length&&m.setAttribute(s,r.join(" "));break;case"dataId":break;case"id":m.setAttribute("data-element-id",r);break;case"style":Object.assign(m.style,r);break;case"textContent":m.textContent=r;break;default:(!d||s!=="href"&&s!=="newWindow")&&m.setAttribute(s,r)}d&&p.addLinkAttributes(m,h.href,h.newWindow),i&&h.dataId&&this.setupStorage(m,h.dataId,t,i)}static render(f){var r;const m=f.annotationStorage,t=f.linkService,i=f.xfaHtml,n=f.intent||"display",p=document.createElement(i.name);i.attributes&&this.setAttributes({html:p,element:i,intent:n,linkService:t});const h=[[i,-1,p]],d=f.div;if(d.append(p),f.viewport){const o="matrix(".concat(f.viewport.transform.join(","),")");d.style.transform=o}n!=="richText"&&d.setAttribute("class","xfaLayer xfaFont");const s=[];for(;h.length>0;){const[o,g,v]=h.at(-1);if(g+1===o.children.length){h.pop();continue}const A=o.children[++h.at(-1)[1]];if(A===null)continue;const{name:b}=A;if(b==="#text"){const a=document.createTextNode(A.value);s.push(a),v.append(a);continue}const c=(r=A==null?void 0:A.attributes)!=null&&r.xmlns?document.createElementNS(A.attributes.xmlns,b):document.createElement(b);if(v.append(c),A.attributes&&this.setAttributes({html:c,element:A,storage:m,intent:n,linkService:t}),A.children&&A.children.length>0)h.push([A,-1,c]);else if(A.value){const a=document.createTextNode(A.value);u.XfaText.shouldBuildText(b)&&s.push(a),c.append(a)}}for(const o of d.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))o.setAttribute("readOnly",!0);return{textDivs:s}}static update(f){const m="matrix(".concat(f.viewport.transform.join(","),")");f.div.style.transform=m,f.div.hidden=!1}}C.XfaLayer=y},(N,C,e)=>{var i,n,p,h,d,s,r,o,g,v,A,b,c,a,x,br,S,yr,I,Ar,Z,Sr,Q,Pn,Y,Er,te,xn,ye,Pr,L,xr,M,Tr,R,Cr,B,wr,j,at,q,Tn,ne,Bt,ve,Ut,Oe,gt,Le,Cn,ee,Vt,ge,kr,Me,wn,We,Rr,ze,Mr,Je,kn,Xe,Ht,H,mt;Object.defineProperty(C,"__esModule",{value:!0}),C.InkEditor=void 0,e(89),e(2);var u=e(1),y=e(164),k=e(198),f=e(168),m=e(165);const de=class de extends y.AnnotationEditor{constructor(U){super({...U,name:"inkEditor"});_(this,x);_(this,S);_(this,I);_(this,Z);_(this,Q);_(this,Y);_(this,te);_(this,ye);_(this,L);_(this,M);_(this,R);_(this,B);_(this,j);_(this,q);_(this,ne);_(this,ve);_(this,Oe);_(this,Le);_(this,ee);_(this,ze);_(this,Je);_(this,Xe);_(this,H);_(this,i,0);_(this,n,0);_(this,p,this.canvasPointermove.bind(this));_(this,h,this.canvasPointerleave.bind(this));_(this,d,this.canvasPointerup.bind(this));_(this,s,this.canvasPointerdown.bind(this));_(this,r,new Path2D);_(this,o,!1);_(this,g,!1);_(this,v,!1);_(this,A,null);_(this,b,0);_(this,c,0);_(this,a,null);this.color=U.color||null,this.thickness=U.thickness||null,this.opacity=U.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(U){y.AnnotationEditor.initialize(U,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(U,re){switch(U){case u.AnnotationEditorParamsType.INK_THICKNESS:de._defaultThickness=re;break;case u.AnnotationEditorParamsType.INK_COLOR:de._defaultColor=re;break;case u.AnnotationEditorParamsType.INK_OPACITY:de._defaultOpacity=re/100;break}}updateParams(U,re){switch(U){case u.AnnotationEditorParamsType.INK_THICKNESS:J(this,x,br).call(this,re);break;case u.AnnotationEditorParamsType.INK_COLOR:J(this,S,yr).call(this,re);break;case u.AnnotationEditorParamsType.INK_OPACITY:J(this,I,Ar).call(this,re);break}}static get defaultPropertiesToUpdate(){return[[u.AnnotationEditorParamsType.INK_THICKNESS,de._defaultThickness],[u.AnnotationEditorParamsType.INK_COLOR,de._defaultColor||y.AnnotationEditor._defaultLineColor],[u.AnnotationEditorParamsType.INK_OPACITY,Math.round(de._defaultOpacity*100)]]}get propertiesToUpdate(){var U;return[[u.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||de._defaultThickness],[u.AnnotationEditorParamsType.INK_COLOR,this.color||de._defaultColor||y.AnnotationEditor._defaultLineColor],[u.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*((U=this.opacity)!=null?U:de._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(J(this,ne,Bt).call(this),J(this,ve,Ut).call(this)),this.isAttachedToDOM||(this.parent.add(this),J(this,Oe,gt).call(this)),J(this,H,mt).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,l(this,A).disconnect(),ce(this,A,null),super.remove())}setParent(U){!this.parent&&U?this._uiManager.removeShouldRescale(this):this.parent&&U===null&&this._uiManager.addShouldRescale(this),super.setParent(U)}onScaleChanging(){const[U,re]=this.parentDimensions,Ae=this.width*U,Ee=this.height*re;this.setDimensions(Ae,Ee)}enableEditMode(){l(this,o)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",l(this,s)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",l(this,s)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){l(this,o)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),ce(this,o,!0),this.div.classList.add("disabled"),J(this,H,mt).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(U){this._focusEventsAllowed&&(super.focusin(U),this.enableEditMode())}canvasPointerdown(U){U.button!==0||!this.isInEditMode()||l(this,o)||(this.setInForeground(),U.preventDefault(),U.type!=="mouse"&&this.div.focus(),J(this,Y,Er).call(this,U.offsetX,U.offsetY))}canvasPointermove(U){U.preventDefault(),J(this,te,xn).call(this,U.offsetX,U.offsetY)}canvasPointerup(U){U.preventDefault(),J(this,q,Tn).call(this,U)}canvasPointerleave(U){J(this,q,Tn).call(this,U)}get isResizable(){return!this.isEmpty()&&l(this,o)}render(){if(this.div)return this.div;let U,re;this.width&&(U=this.x,re=this.y),super.render(),y.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(Ne=>{var ke;return(ke=this.div)==null?void 0:ke.setAttribute("aria-label",Ne)});const[Ae,Ee,we,Te]=J(this,Z,Sr).call(this);if(this.setAt(Ae,Ee,0,0),this.setDims(we,Te),J(this,ne,Bt).call(this),this.width){const[Ne,ke]=this.parentDimensions;this.setAspectRatio(this.width*Ne,this.height*ke),this.setAt(U*Ne,re*ke,this.width*Ne,this.height*ke),ce(this,v,!0),J(this,Oe,gt).call(this),this.setDims(this.width*Ne,this.height*ke),J(this,j,at).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return J(this,ve,Ut).call(this),this.div}setDimensions(U,re){const Ae=Math.round(U),Ee=Math.round(re);if(l(this,b)===Ae&&l(this,c)===Ee)return;ce(this,b,Ae),ce(this,c,Ee),this.canvas.style.visibility="hidden";const[we,Te]=this.parentDimensions;this.width=U/we,this.height=re/Te,this.fixAndSetPosition(),l(this,o)&&J(this,Le,Cn).call(this,U,re),J(this,Oe,gt).call(this),J(this,j,at).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(U,re,Ae){var fe,be,xe;if(U instanceof k.InkAnnotationElement)return null;const Ee=super.deserialize(U,re,Ae);Ee.thickness=U.thickness,Ee.color=u.Util.makeHexColor(...U.color),Ee.opacity=U.opacity;const[we,Te]=Ee.pageDimensions,Ne=Ee.width*we,ke=Ee.height*Te,Ue=Ee.parentScale,Be=U.thickness/2;ce(Ee,o,!0),ce(Ee,b,Math.round(Ne)),ce(Ee,c,Math.round(ke));const{paths:ie,rect:w,rotation:G}=U;for(let{bezier:De}of ie){De=J(fe=de,We,Rr).call(fe,De,w,G);const Ve=[];Ee.paths.push(Ve);let Fe=Ue*(De[0]-Be),je=Ue*(De[1]-Be);for(let $e=2,Ke=De.length;$e<Ke;$e+=6){const Qe=Ue*(De[$e]-Be),qe=Ue*(De[$e+1]-Be),et=Ue*(De[$e+2]-Be),rt=Ue*(De[$e+3]-Be),nt=Ue*(De[$e+4]-Be),it=Ue*(De[$e+5]-Be);Ve.push([[Fe,je],[Qe,qe],[et,rt],[nt,it]]),Fe=nt,je=it}const Ge=J(this,ge,kr).call(this,Ve);Ee.bezierPath2D.push(Ge)}const se=J(be=Ee,Je,kn).call(be);return ce(Ee,n,Math.max(y.AnnotationEditor.MIN_SIZE,se[2]-se[0])),ce(Ee,i,Math.max(y.AnnotationEditor.MIN_SIZE,se[3]-se[1])),J(xe=Ee,Le,Cn).call(xe,Ne,ke),Ee}serialize(){if(this.isEmpty())return null;const U=this.getRect(0,0),re=y.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:u.AnnotationEditorType.INK,color:re,thickness:this.thickness,opacity:this.opacity,paths:J(this,ze,Mr).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,U),pageIndex:this.pageIndex,rect:U,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};i=new WeakMap,n=new WeakMap,p=new WeakMap,h=new WeakMap,d=new WeakMap,s=new WeakMap,r=new WeakMap,o=new WeakMap,g=new WeakMap,v=new WeakMap,A=new WeakMap,b=new WeakMap,c=new WeakMap,a=new WeakMap,x=new WeakSet,br=function(U){const re=this.thickness;this.addCommands({cmd:()=>{this.thickness=U,J(this,H,mt).call(this)},undo:()=>{this.thickness=re,J(this,H,mt).call(this)},mustExec:!0,type:u.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},S=new WeakSet,yr=function(U){const re=this.color;this.addCommands({cmd:()=>{this.color=U,J(this,j,at).call(this)},undo:()=>{this.color=re,J(this,j,at).call(this)},mustExec:!0,type:u.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},I=new WeakSet,Ar=function(U){U/=100;const re=this.opacity;this.addCommands({cmd:()=>{this.opacity=U,J(this,j,at).call(this)},undo:()=>{this.opacity=re,J(this,j,at).call(this)},mustExec:!0,type:u.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Z=new WeakSet,Sr=function(){const{parentRotation:U,parentDimensions:[re,Ae]}=this;switch(U){case 90:return[0,Ae,Ae,re];case 180:return[re,Ae,re,Ae];case 270:return[re,0,Ae,re];default:return[0,0,re,Ae]}},Q=new WeakSet,Pn=function(){const{ctx:U,color:re,opacity:Ae,thickness:Ee,parentScale:we,scaleFactor:Te}=this;U.lineWidth=Ee*we/Te,U.lineCap="round",U.lineJoin="round",U.miterLimit=10,U.strokeStyle="".concat(re).concat((0,m.opacityToHex)(Ae))},Y=new WeakSet,Er=function(U,re){var Ae;this.canvas.addEventListener("contextmenu",f.noContextMenu),this.canvas.addEventListener("pointerleave",l(this,h)),this.canvas.addEventListener("pointermove",l(this,p)),this.canvas.addEventListener("pointerup",l(this,d)),this.canvas.removeEventListener("pointerdown",l(this,s)),this.isEditing=!0,l(this,v)||(ce(this,v,!0),J(this,Oe,gt).call(this),this.thickness||(this.thickness=de._defaultThickness),this.color||(this.color=de._defaultColor||y.AnnotationEditor._defaultLineColor),(Ae=this.opacity)!=null||(this.opacity=de._defaultOpacity)),this.currentPath.push([U,re]),ce(this,g,!1),J(this,Q,Pn).call(this),ce(this,a,()=>{J(this,M,Tr).call(this),l(this,a)&&window.requestAnimationFrame(l(this,a))}),window.requestAnimationFrame(l(this,a))},te=new WeakSet,xn=function(U,re){const[Ae,Ee]=this.currentPath.at(-1);if(this.currentPath.length>1&&U===Ae&&re===Ee)return;const we=this.currentPath;let Te=l(this,r);if(we.push([U,re]),ce(this,g,!0),we.length<=2){Te.moveTo(...we[0]),Te.lineTo(U,re);return}we.length===3&&(ce(this,r,Te=new Path2D),Te.moveTo(...we[0])),J(this,R,Cr).call(this,Te,...we.at(-3),...we.at(-2),U,re)},ye=new WeakSet,Pr=function(){if(this.currentPath.length===0)return;const U=this.currentPath.at(-1);l(this,r).lineTo(...U)},L=new WeakSet,xr=function(U,re){ce(this,a,null),U=Math.min(Math.max(U,0),this.canvas.width),re=Math.min(Math.max(re,0),this.canvas.height),J(this,te,xn).call(this,U,re),J(this,ye,Pr).call(this);let Ae;if(this.currentPath.length!==1)Ae=J(this,B,wr).call(this);else{const ke=[U,re];Ae=[[ke,ke.slice(),ke.slice(),ke]]}const Ee=l(this,r),we=this.currentPath;this.currentPath=[],ce(this,r,new Path2D);const Te=()=>{this.allRawPaths.push(we),this.paths.push(Ae),this.bezierPath2D.push(Ee),this.rebuild()},Ne=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(J(this,ne,Bt).call(this),J(this,ve,Ut).call(this)),J(this,H,mt).call(this))};this.addCommands({cmd:Te,undo:Ne,mustExec:!0})},M=new WeakSet,Tr=function(){if(!l(this,g))return;ce(this,g,!1);const U=Math.ceil(this.thickness*this.parentScale),re=this.currentPath.slice(-3),Ae=re.map(Te=>Te[0]),Ee=re.map(Te=>Te[1]);Math.min(...Ae)-U,Math.max(...Ae)+U,Math.min(...Ee)-U,Math.max(...Ee)+U;const{ctx:we}=this;we.save(),we.clearRect(0,0,this.canvas.width,this.canvas.height);for(const Te of this.bezierPath2D)we.stroke(Te);we.stroke(l(this,r)),we.restore()},R=new WeakSet,Cr=function(U,re,Ae,Ee,we,Te,Ne){const ke=(re+Ee)/2,Ue=(Ae+we)/2,Be=(Ee+Te)/2,ie=(we+Ne)/2;U.bezierCurveTo(ke+2*(Ee-ke)/3,Ue+2*(we-Ue)/3,Be+2*(Ee-Be)/3,ie+2*(we-ie)/3,Be,ie)},B=new WeakSet,wr=function(){const U=this.currentPath;if(U.length<=2)return[[U[0],U[0],U.at(-1),U.at(-1)]];const re=[];let Ae,[Ee,we]=U[0];for(Ae=1;Ae<U.length-2;Ae++){const[w,G]=U[Ae],[se,fe]=U[Ae+1],be=(w+se)/2,xe=(G+fe)/2,De=[Ee+2*(w-Ee)/3,we+2*(G-we)/3],Ve=[be+2*(w-be)/3,xe+2*(G-xe)/3];re.push([[Ee,we],De,Ve,[be,xe]]),[Ee,we]=[be,xe]}const[Te,Ne]=U[Ae],[ke,Ue]=U[Ae+1],Be=[Ee+2*(Te-Ee)/3,we+2*(Ne-we)/3],ie=[ke+2*(Te-ke)/3,Ue+2*(Ne-Ue)/3];return re.push([[Ee,we],Be,ie,[ke,Ue]]),re},j=new WeakSet,at=function(){if(this.isEmpty()){J(this,ee,Vt).call(this);return}J(this,Q,Pn).call(this);const{canvas:U,ctx:re}=this;re.setTransform(1,0,0,1,0,0),re.clearRect(0,0,U.width,U.height),J(this,ee,Vt).call(this);for(const Ae of this.bezierPath2D)re.stroke(Ae)},q=new WeakSet,Tn=function(U){this.canvas.removeEventListener("pointerleave",l(this,h)),this.canvas.removeEventListener("pointermove",l(this,p)),this.canvas.removeEventListener("pointerup",l(this,d)),this.canvas.addEventListener("pointerdown",l(this,s)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",f.noContextMenu)},10),J(this,L,xr).call(this,U.offsetX,U.offsetY),this.addToAnnotationStorage(),this.setInBackground()},ne=new WeakSet,Bt=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",y.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(U=>{var re;return(re=this.canvas)==null?void 0:re.setAttribute("aria-label",U)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},ve=new WeakSet,Ut=function(){ce(this,A,new ResizeObserver(U=>{const re=U[0].contentRect;re.width&&re.height&&this.setDimensions(re.width,re.height)})),l(this,A).observe(this.div)},Oe=new WeakSet,gt=function(){if(!l(this,v))return;const[U,re]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*U),this.canvas.height=Math.ceil(this.height*re),J(this,ee,Vt).call(this)},Le=new WeakSet,Cn=function(U,re){const Ae=J(this,Xe,Ht).call(this),Ee=(U-Ae)/l(this,n),we=(re-Ae)/l(this,i);this.scaleFactor=Math.min(Ee,we)},ee=new WeakSet,Vt=function(){const U=J(this,Xe,Ht).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+U,this.translationY*this.scaleFactor+U)},ge=new WeakSet,kr=function(U){const re=new Path2D;for(let Ae=0,Ee=U.length;Ae<Ee;Ae++){const[we,Te,Ne,ke]=U[Ae];Ae===0&&re.moveTo(...we),re.bezierCurveTo(Te[0],Te[1],Ne[0],Ne[1],ke[0],ke[1])}return re},Me=new WeakSet,wn=function(U,re,Ae){const[Ee,we,Te,Ne]=re;switch(Ae){case 0:for(let ke=0,Ue=U.length;ke<Ue;ke+=2)U[ke]+=Ee,U[ke+1]=Ne-U[ke+1];break;case 90:for(let ke=0,Ue=U.length;ke<Ue;ke+=2){const Be=U[ke];U[ke]=U[ke+1]+Ee,U[ke+1]=Be+we}break;case 180:for(let ke=0,Ue=U.length;ke<Ue;ke+=2)U[ke]=Te-U[ke],U[ke+1]+=we;break;case 270:for(let ke=0,Ue=U.length;ke<Ue;ke+=2){const Be=U[ke];U[ke]=Te-U[ke+1],U[ke+1]=Ne-Be}break;default:throw new Error("Invalid rotation")}return U},We=new WeakSet,Rr=function(U,re,Ae){const[Ee,we,Te,Ne]=re;switch(Ae){case 0:for(let ke=0,Ue=U.length;ke<Ue;ke+=2)U[ke]-=Ee,U[ke+1]=Ne-U[ke+1];break;case 90:for(let ke=0,Ue=U.length;ke<Ue;ke+=2){const Be=U[ke];U[ke]=U[ke+1]-we,U[ke+1]=Be-Ee}break;case 180:for(let ke=0,Ue=U.length;ke<Ue;ke+=2)U[ke]=Te-U[ke],U[ke+1]-=we;break;case 270:for(let ke=0,Ue=U.length;ke<Ue;ke+=2){const Be=U[ke];U[ke]=Ne-U[ke+1],U[ke+1]=Te-Be}break;default:throw new Error("Invalid rotation")}return U},ze=new WeakSet,Mr=function(U,re,Ae,Ee){var Ue,Be;const we=[],Te=this.thickness/2,Ne=U*re+Te,ke=U*Ae+Te;for(const ie of this.paths){const w=[],G=[];for(let se=0,fe=ie.length;se<fe;se++){const[be,xe,De,Ve]=ie[se],Fe=U*be[0]+Ne,je=U*be[1]+ke,Ge=U*xe[0]+Ne,$e=U*xe[1]+ke,Ke=U*De[0]+Ne,Qe=U*De[1]+ke,qe=U*Ve[0]+Ne,et=U*Ve[1]+ke;se===0&&(w.push(Fe,je),G.push(Fe,je)),w.push(Ge,$e,Ke,Qe,qe,et),G.push(Ge,$e),se===fe-1&&G.push(qe,et)}we.push({bezier:J(Ue=de,Me,wn).call(Ue,w,Ee,this.rotation),points:J(Be=de,Me,wn).call(Be,G,Ee,this.rotation)})}return we},Je=new WeakSet,kn=function(){let U=1/0,re=-1/0,Ae=1/0,Ee=-1/0;for(const we of this.paths)for(const[Te,Ne,ke,Ue]of we){const Be=u.Util.bezierBoundingBox(...Te,...Ne,...ke,...Ue);U=Math.min(U,Be[0]),Ae=Math.min(Ae,Be[1]),re=Math.max(re,Be[2]),Ee=Math.max(Ee,Be[3])}return[U,Ae,re,Ee]},Xe=new WeakSet,Ht=function(){return l(this,o)?Math.ceil(this.thickness*this.parentScale):0},H=new WeakSet,mt=function(){let U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.isEmpty())return;if(!l(this,o)){J(this,j,at).call(this);return}const re=J(this,Je,kn).call(this),Ae=J(this,Xe,Ht).call(this);ce(this,n,Math.max(y.AnnotationEditor.MIN_SIZE,re[2]-re[0])),ce(this,i,Math.max(y.AnnotationEditor.MIN_SIZE,re[3]-re[1]));const Ee=Math.ceil(Ae+l(this,n)*this.scaleFactor),we=Math.ceil(Ae+l(this,i)*this.scaleFactor),[Te,Ne]=this.parentDimensions;this.width=Ee/Te,this.height=we/Ne,this.setAspectRatio(Ee,we);const ke=this.translationX,Ue=this.translationY;this.translationX=-re[0],this.translationY=-re[1],J(this,Oe,gt).call(this),J(this,j,at).call(this),ce(this,b,Ee),ce(this,c,we),this.setDims(Ee,we);const Be=U?Ae/this.scaleFactor/2:0;this.translate(ke-this.translationX-Be,Ue-this.translationY-Be)},_(de,ge),_(de,Me),_(de,We),tt(de,"_defaultColor",null),tt(de,"_defaultOpacity",1),tt(de,"_defaultThickness",1),tt(de,"_type","ink");let t=de;C.InkEditor=t},(N,C,e)=>{var t,i,n,p,h,d,s,r,o,g,v,Pt,b,xt,a,Wt,T,Rn,D,Ir,$,Lr,W,Mn,he,zt,z,Or;Object.defineProperty(C,"__esModule",{value:!0}),C.StampEditor=void 0,e(149),e(152);var u=e(1),y=e(164),k=e(168),f=e(198);const oe=class oe extends y.AnnotationEditor{constructor(L){super({...L,name:"stampEditor"});_(this,v);_(this,b);_(this,a);_(this,T);_(this,D);_(this,$);_(this,W);_(this,he);_(this,z);_(this,t,null);_(this,i,null);_(this,n,null);_(this,p,null);_(this,h,null);_(this,d,null);_(this,s,null);_(this,r,null);_(this,o,!1);_(this,g,!1);ce(this,p,L.bitmapUrl),ce(this,h,L.bitmapFile)}static initialize(L){y.AnnotationEditor.initialize(L)}static get supportedTypes(){const L=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,u.shadow)(this,"supportedTypes",L.map(P=>"image/".concat(P)))}static get supportedTypesStr(){return(0,u.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(L){return this.supportedTypes.includes(L)}static paste(L,P){P.pasteEditor(u.AnnotationEditorType.STAMP,{bitmapFile:L.getAsFile()})}remove(){var L,P;l(this,i)&&(ce(this,t,null),this._uiManager.imageManager.deleteId(l(this,i)),(L=l(this,d))==null||L.remove(),ce(this,d,null),(P=l(this,s))==null||P.disconnect(),ce(this,s,null)),super.remove()}rebuild(){if(!this.parent){l(this,i)&&J(this,a,Wt).call(this);return}super.rebuild(),this.div!==null&&(l(this,i)&&J(this,a,Wt).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(l(this,n)||l(this,t)||l(this,p)||l(this,h))}get isResizable(){return!0}render(){if(this.div)return this.div;let L,P;if(this.width&&(L=this.x,P=this.y),super.render(),this.div.hidden=!0,l(this,t)?J(this,T,Rn).call(this):J(this,a,Wt).call(this),this.width){const[M,E]=this.parentDimensions;this.setAt(L*M,P*E,this.width*M,this.height*E)}return this.div}static deserialize(L,P,M){if(L instanceof f.StampAnnotationElement)return null;const E=super.deserialize(L,P,M),{rect:R,bitmapUrl:O,bitmapId:B,isSvg:F,accessibilityData:j}=L;B&&M.imageManager.isValidId(B)?ce(E,i,B):ce(E,p,O),ce(E,o,F);const[ae,q]=E.pageDimensions;return E.width=(R[2]-R[0])/ae,E.height=(R[3]-R[1])/q,j&&(E.altTextData=j),E}serialize(){let L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.isEmpty())return null;const M={annotationType:u.AnnotationEditorType.STAMP,bitmapId:l(this,i),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:l(this,o),structTreeParentId:this._structTreeParentId};if(L)return M.bitmapUrl=J(this,he,zt).call(this,!0),M.accessibilityData=this.altTextData,M;const{decorative:E,altText:R}=this.altTextData;if(!E&&R&&(M.accessibilityData={type:"Figure",alt:R}),P===null)return M;P.stamps||(P.stamps=new Map);const O=l(this,o)?(M.rect[2]-M.rect[0])*(M.rect[3]-M.rect[1]):null;if(!P.stamps.has(l(this,i)))P.stamps.set(l(this,i),{area:O,serialized:M}),M.bitmap=J(this,he,zt).call(this,!1);else if(l(this,o)){const B=P.stamps.get(l(this,i));O>B.area&&(B.area=O,B.serialized.bitmap.close(),B.serialized.bitmap=J(this,he,zt).call(this,!1))}return M}};t=new WeakMap,i=new WeakMap,n=new WeakMap,p=new WeakMap,h=new WeakMap,d=new WeakMap,s=new WeakMap,r=new WeakMap,o=new WeakMap,g=new WeakMap,v=new WeakSet,Pt=function(L){let P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!L){this.remove();return}ce(this,t,L.bitmap),P||(ce(this,i,L.id),ce(this,o,L.isSvg)),J(this,T,Rn).call(this)},b=new WeakSet,xt=function(){ce(this,n,null),this._uiManager.enableWaiting(!1),l(this,d)&&this.div.focus()},a=new WeakSet,Wt=function(){if(l(this,i)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(l(this,i)).then(P=>J(this,v,Pt).call(this,P,!0)).finally(()=>J(this,b,xt).call(this));return}if(l(this,p)){const P=l(this,p);ce(this,p,null),this._uiManager.enableWaiting(!0),ce(this,n,this._uiManager.imageManager.getFromUrl(P).then(M=>J(this,v,Pt).call(this,M)).finally(()=>J(this,b,xt).call(this)));return}if(l(this,h)){const P=l(this,h);ce(this,h,null),this._uiManager.enableWaiting(!0),ce(this,n,this._uiManager.imageManager.getFromFile(P).then(M=>J(this,v,Pt).call(this,M)).finally(()=>J(this,b,xt).call(this)));return}const L=document.createElement("input");L.type="file",L.accept=oe.supportedTypesStr,ce(this,n,new Promise(P=>{L.addEventListener("change",async()=>{if(!L.files||L.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const M=await this._uiManager.imageManager.getFromFile(L.files[0]);J(this,v,Pt).call(this,M)}P()}),L.addEventListener("cancel",()=>{this.remove(),P()})}).finally(()=>J(this,b,xt).call(this))),L.click()},T=new WeakSet,Rn=function(){const{div:L}=this;let{width:P,height:M}=l(this,t);const[E,R]=this.pageDimensions,O=.75;if(this.width)P=this.width*E,M=this.height*R;else if(P>O*E||M>O*R){const ae=Math.min(O*E/P,O*R/M);P*=ae,M*=ae}const[B,F]=this.parentDimensions;this.setDims(P*B/E,M*F/R),this._uiManager.enableWaiting(!1);const j=ce(this,d,document.createElement("canvas"));L.append(j),L.hidden=!1,J(this,W,Mn).call(this,P,M),J(this,z,Or).call(this),l(this,g)||(this.parent.addUndoableEditor(this),ce(this,g,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},D=new WeakSet,Ir=function(L,P){var O;const[M,E]=this.parentDimensions;this.width=L/M,this.height=P/E,this.setDims(L,P),(O=this._initialOptions)!=null&&O.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,l(this,r)!==null&&clearTimeout(l(this,r)),ce(this,r,setTimeout(()=>{ce(this,r,null),J(this,W,Mn).call(this,L,P)},200))},$=new WeakSet,Lr=function(L,P){const{width:M,height:E}=l(this,t);let R=M,O=E,B=l(this,t);for(;R>2*L||O>2*P;){const F=R,j=O;R>2*L&&(R=R>=16384?Math.floor(R/2)-1:Math.ceil(R/2)),O>2*P&&(O=O>=16384?Math.floor(O/2)-1:Math.ceil(O/2));const ae=new OffscreenCanvas(R,O);ae.getContext("2d").drawImage(B,0,0,F,j,0,0,R,O),B=ae.transferToImageBitmap()}return B},W=new WeakSet,Mn=function(L,P){L=Math.ceil(L),P=Math.ceil(P);const M=l(this,d);if(!M||M.width===L&&M.height===P)return;M.width=L,M.height=P;const E=l(this,o)?l(this,t):J(this,$,Lr).call(this,L,P),R=M.getContext("2d");R.filter=this._uiManager.hcmFilter,R.drawImage(E,0,0,E.width,E.height,0,0,L,P)},he=new WeakSet,zt=function(L){if(L){if(l(this,o)){const E=this._uiManager.imageManager.getSvgUrl(l(this,i));if(E)return E}const P=document.createElement("canvas");return{width:P.width,height:P.height}=l(this,t),P.getContext("2d").drawImage(l(this,t),0,0),P.toDataURL()}if(l(this,o)){const[P,M]=this.pageDimensions,E=Math.round(this.width*P*k.PixelsPerInch.PDF_TO_CSS_UNITS),R=Math.round(this.height*M*k.PixelsPerInch.PDF_TO_CSS_UNITS),O=new OffscreenCanvas(E,R);return O.getContext("2d").drawImage(l(this,t),0,0,l(this,t).width,l(this,t).height,0,0,E,R),O.transferToImageBitmap()}return structuredClone(l(this,t))},z=new WeakSet,Or=function(){ce(this,s,new ResizeObserver(L=>{const P=L[0].contentRect;P.width&&P.height&&J(this,D,Ir).call(this,P.width,P.height)})),l(this,s).observe(this.div)},tt(oe,"_type","stamp");let m=oe;C.StampEditor=m}],__webpack_module_cache__={};function __w_pdfjs_require__(N){var C=__webpack_module_cache__[N];if(C!==void 0)return C.exports;var e=__webpack_module_cache__[N]={exports:{}};return __webpack_modules__[N].call(e.exports,e,e.exports,__w_pdfjs_require__),e.exports}var __webpack_exports__={};return(()=>{var N=__webpack_exports__;Object.defineProperty(N,"__esModule",{value:!0}),Object.defineProperty(N,"AbortException",{enumerable:!0,get:function(){return C.AbortException}}),Object.defineProperty(N,"AnnotationEditorLayer",{enumerable:!0,get:function(){return k.AnnotationEditorLayer}}),Object.defineProperty(N,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return C.AnnotationEditorParamsType}}),Object.defineProperty(N,"AnnotationEditorType",{enumerable:!0,get:function(){return C.AnnotationEditorType}}),Object.defineProperty(N,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return f.AnnotationEditorUIManager}}),Object.defineProperty(N,"AnnotationLayer",{enumerable:!0,get:function(){return m.AnnotationLayer}}),Object.defineProperty(N,"AnnotationMode",{enumerable:!0,get:function(){return C.AnnotationMode}}),Object.defineProperty(N,"CMapCompressionType",{enumerable:!0,get:function(){return C.CMapCompressionType}}),Object.defineProperty(N,"DOMSVGFactory",{enumerable:!0,get:function(){return u.DOMSVGFactory}}),Object.defineProperty(N,"FeatureTest",{enumerable:!0,get:function(){return C.FeatureTest}}),Object.defineProperty(N,"GlobalWorkerOptions",{enumerable:!0,get:function(){return t.GlobalWorkerOptions}}),Object.defineProperty(N,"ImageKind",{enumerable:!0,get:function(){return C.ImageKind}}),Object.defineProperty(N,"InvalidPDFException",{enumerable:!0,get:function(){return C.InvalidPDFException}}),Object.defineProperty(N,"MissingPDFException",{enumerable:!0,get:function(){return C.MissingPDFException}}),Object.defineProperty(N,"OPS",{enumerable:!0,get:function(){return C.OPS}}),Object.defineProperty(N,"PDFDataRangeTransport",{enumerable:!0,get:function(){return e.PDFDataRangeTransport}}),Object.defineProperty(N,"PDFDateString",{enumerable:!0,get:function(){return u.PDFDateString}}),Object.defineProperty(N,"PDFWorker",{enumerable:!0,get:function(){return e.PDFWorker}}),Object.defineProperty(N,"PasswordResponses",{enumerable:!0,get:function(){return C.PasswordResponses}}),Object.defineProperty(N,"PermissionFlag",{enumerable:!0,get:function(){return C.PermissionFlag}}),Object.defineProperty(N,"PixelsPerInch",{enumerable:!0,get:function(){return u.PixelsPerInch}}),Object.defineProperty(N,"PromiseCapability",{enumerable:!0,get:function(){return C.PromiseCapability}}),Object.defineProperty(N,"RenderingCancelledException",{enumerable:!0,get:function(){return u.RenderingCancelledException}}),Object.defineProperty(N,"SVGGraphics",{enumerable:!0,get:function(){return e.SVGGraphics}}),Object.defineProperty(N,"UnexpectedResponseException",{enumerable:!0,get:function(){return C.UnexpectedResponseException}}),Object.defineProperty(N,"Util",{enumerable:!0,get:function(){return C.Util}}),Object.defineProperty(N,"VerbosityLevel",{enumerable:!0,get:function(){return C.VerbosityLevel}}),Object.defineProperty(N,"XfaLayer",{enumerable:!0,get:function(){return i.XfaLayer}}),Object.defineProperty(N,"build",{enumerable:!0,get:function(){return e.build}}),Object.defineProperty(N,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return C.createValidAbsoluteUrl}}),Object.defineProperty(N,"getDocument",{enumerable:!0,get:function(){return e.getDocument}}),Object.defineProperty(N,"getFilenameFromUrl",{enumerable:!0,get:function(){return u.getFilenameFromUrl}}),Object.defineProperty(N,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return u.getPdfFilenameFromUrl}}),Object.defineProperty(N,"getXfaPageViewport",{enumerable:!0,get:function(){return u.getXfaPageViewport}}),Object.defineProperty(N,"isDataScheme",{enumerable:!0,get:function(){return u.isDataScheme}}),Object.defineProperty(N,"isPdfFile",{enumerable:!0,get:function(){return u.isPdfFile}}),Object.defineProperty(N,"loadScript",{enumerable:!0,get:function(){return u.loadScript}}),Object.defineProperty(N,"noContextMenu",{enumerable:!0,get:function(){return u.noContextMenu}}),Object.defineProperty(N,"normalizeUnicode",{enumerable:!0,get:function(){return C.normalizeUnicode}}),Object.defineProperty(N,"renderTextLayer",{enumerable:!0,get:function(){return y.renderTextLayer}}),Object.defineProperty(N,"setLayerDimensions",{enumerable:!0,get:function(){return u.setLayerDimensions}}),Object.defineProperty(N,"shadow",{enumerable:!0,get:function(){return C.shadow}}),Object.defineProperty(N,"updateTextLayer",{enumerable:!0,get:function(){return y.updateTextLayer}}),Object.defineProperty(N,"version",{enumerable:!0,get:function(){return e.version}});var C=__w_pdfjs_require__(1),e=__w_pdfjs_require__(124),u=__w_pdfjs_require__(168),y=__w_pdfjs_require__(195),k=__w_pdfjs_require__(196),f=__w_pdfjs_require__(165),m=__w_pdfjs_require__(198),t=__w_pdfjs_require__(176),i=__w_pdfjs_require__(201)})(),__webpack_exports__})())})(pdf$1);var pdfExports=pdf$1.exports,pdf_viewer={exports:{}};(function(N,C){(function(u,y){N.exports=u.pdfjsViewer=y()})(globalThis,()=>(()=>{var e=[,(f,m,t)=>{var he,Y,z,te,Dr,ye,In,L,Ln,M,Fr,R,Nr,B,Br,j,On,q,Ur,ne,Vr,ve,_t,Oe,Tt,Le,vt,ee,Hr,ge,Dn,Me,Fn,We,$t,ze,Wr,Je,Nn,Xe,Bn,H,Ct;Object.defineProperty(m,"__esModule",{value:!0}),m.PDFFindController=m.FindState=void 0,t(2),t(80),t(82),t(85),t(87),t(89),t(91),t(93);var i=t(97),n=t(106),p=t(107);const h={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};m.FindState=h;const d=250,s=-50,r=-400,o={"‐":"-","‘":"'","’":"'","‚":"'","‛":"'","“":'"',"”":'"',"„":'"',"‟":'"',"¼":"1/4","½":"1/2","¾":"3/4"},g=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]);let v;const A=new RegExp("\\p{M}+","gu"),b=new RegExp("([.*+?^${}()|[\\]\\\\])|(\\p{P})|(\\s+)|(\\p{M})|(\\p{L})","gu"),c=new RegExp("([^\\p{M}])\\p{M}*$","u"),a=new RegExp("^\\p{M}*([^\\p{M}])","u"),x=/[\uAC00-\uD7AF\uFA6C\uFACF-\uFAD1\uFAD5-\uFAD7]+/g,T=new Map,S="[\\u1100-\\u1112\\ud7a4-\\ud7af\\ud84a\\ud84c\\ud850\\ud854\\ud857\\ud85f]",D=new Map;let I=null,$=null;function Z(de){const Se=[];let K;for(;(K=x.exec(de))!==null;){let{index:ie}=K;for(const w of K[0]){let G=T.get(w);G||(G=w.normalize("NFD").length,T.set(w,G)),Se.push([G,ie++])}}let U;if(Se.length===0&&I)U=I;else if(Se.length>0&&$)U=$;else{const ie=Object.keys(o).join(""),w=(0,n.getNormalizeWithNFKC)(),G="(?:\\p{Ideographic}|[぀-ヿ])",se="(?:゙|゚)",fe="([".concat(ie,"])|([").concat(w,"])|(").concat(se,"\\n)|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(").concat(G,"\\n)|(\\n)");Se.length===0?U=I=new RegExp(fe+"|(\\u0000)","gum"):U=$=new RegExp(fe+"|(".concat(S,")"),"gum")}const re=[];for(;(K=A.exec(de))!==null;)re.push([K[0].length,K.index]);let Ae=de.normalize("NFD");const Ee=[[0,0]];let we=0,Te=0,Ne=0,ke=0,Ue=0,Be=!1;return Ae=Ae.replace(U,(ie,w,G,se,fe,be,xe,De,Ve,Fe)=>{var je,Ge,$e;if(Fe-=ke,w){const Ke=o[w],Qe=Ke.length;for(let qe=1;qe<Qe;qe++)Ee.push([Fe-Ne+qe,Ne-qe]);return Ne-=Qe-1,Ke}if(G){let Ke=D.get(G);Ke||(Ke=G.normalize("NFKC"),D.set(G,Ke));const Qe=Ke.length;for(let qe=1;qe<Qe;qe++)Ee.push([Fe-Ne+qe,Ne-qe]);return Ne-=Qe-1,Ke}if(se)return Be=!0,Fe+Ue===((je=re[we])==null?void 0:je[1])?++we:(Ee.push([Fe-1-Ne+1,Ne-1]),Ne-=1,ke+=1),Ee.push([Fe-Ne+1,Ne]),ke+=1,Ue+=1,se.charAt(0);if(fe){const Ke=fe.endsWith("\n"),Qe=Ke?fe.length-2:fe.length;Be=!0;let qe=Qe;Fe+Ue===((Ge=re[we])==null?void 0:Ge[1])&&(qe-=re[we][0],++we);for(let et=1;et<=qe;et++)Ee.push([Fe-1-Ne+et,Ne-et]);return Ne-=qe,ke+=qe,Ke?(Fe+=Qe-1,Ee.push([Fe-Ne+1,1+Ne]),Ne+=1,ke+=1,Ue+=1,fe.slice(0,Qe)):fe}if(be){const Ke=be.length-2;return Ee.push([Fe-Ne+Ke,1+Ne]),Ne+=1,ke+=1,Ue+=1,be.slice(0,-2)}if(xe){const Ke=xe.length-1;return Ee.push([Fe-Ne+Ke,Ne]),ke+=1,Ue+=1,xe.slice(0,-1)}if(De)return Ee.push([Fe-Ne+1,Ne-1]),Ne-=1,ke+=1,Ue+=1," ";if(Fe+Ue===(($e=Se[Te])==null?void 0:$e[1])){const Ke=Se[Te][0]-1;++Te;for(let Qe=1;Qe<=Ke;Qe++)Ee.push([Fe-(Ne-Qe),Ne-Qe]);Ne-=Ke,ke+=Ke}return Ve}),Ee.push([Ae.length,Ne]),[Ae,Ee,Be]}function W(de,Se,K){if(!de)return[Se,K];const U=Se,re=Se+K-1;let Ae=(0,i.binarySearchFirstItem)(de,ke=>ke[0]>=U);de[Ae][0]>U&&--Ae;let Ee=(0,i.binarySearchFirstItem)(de,ke=>ke[0]>=re,Ae);de[Ee][0]>re&&--Ee;const we=U+de[Ae][1],Ne=re+de[Ee][1]+1-we;return[we,Ne]}class Q{constructor(Se){_(this,te);_(this,ye);_(this,L);_(this,M);_(this,R);_(this,B);_(this,j);_(this,q);_(this,ne);_(this,ve);_(this,Oe);_(this,Le);_(this,ee);_(this,ge);_(this,Me);_(this,We);_(this,ze);_(this,Je);_(this,Xe);_(this,H);_(this,he,null);_(this,Y,!0);_(this,z,0);let{linkService:K,eventBus:U,updateMatchesCountOnProgress:re=!0}=Se;this._linkService=K,this._eventBus=U,ce(this,Y,re),this.onIsPageVisible=null,J(this,ye,In).call(this),U._on("find",J(this,te,Dr).bind(this)),U._on("findbarclose",J(this,ze,Wr).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return l(this,he)}setDocument(Se){this._pdfDocument&&J(this,ye,In).call(this),Se&&(this._pdfDocument=Se,this._firstPageCapability.resolve())}scrollMatchIntoView(Se){let{element:K=null,selectedLeft:U=0,pageIndex:re=-1,matchIndex:Ae=-1}=Se;if(!this._scrollMatches||!K)return;if(Ae===-1||Ae!==this._selected.matchIdx)return;if(re===-1||re!==this._selected.pageIdx)return;this._scrollMatches=!1;const Ee={top:s,left:U+r};(0,i.scrollIntoView)(K,Ee,!0)}}he=new WeakMap,Y=new WeakMap,z=new WeakMap,te=new WeakSet,Dr=function(Se){if(!Se)return;Se.phraseSearch===!1&&(console.error("The `phraseSearch`-parameter was removed, please provide an Array of strings in the `query`-parameter instead."),typeof Se.query=="string"&&(Se.query=Se.query.match(/\S+/g)));const K=this._pdfDocument,{type:U}=Se;(l(this,he)===null||J(this,M,Fr).call(this,Se))&&(this._dirtyMatch=!0),ce(this,he,Se),U!=="highlightallchange"&&J(this,H,Ct).call(this,h.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||K&&this._pdfDocument!==K)return;J(this,ne,Vr).call(this);const re=!this._highlightMatches,Ae=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),U?this._dirtyMatch?J(this,Le,vt).call(this):U==="again"?(J(this,Le,vt).call(this),re&&l(this,he).highlightAll&&J(this,Oe,Tt).call(this)):U==="highlightallchange"?(Ae?J(this,Le,vt).call(this):this._highlightMatches=!0,J(this,Oe,Tt).call(this)):J(this,Le,vt).call(this):this._findTimeout=setTimeout(()=>{J(this,Le,vt).call(this),this._findTimeout=null},d)})},ye=new WeakSet,In=function(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],ce(this,z,0),ce(this,he,null),this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=new p.PromiseCapability},L=new WeakSet,Ln=function(){const{query:Se}=l(this,he);return typeof Se=="string"?(Se!==this._rawQuery&&(this._rawQuery=Se,[this._normalizedQuery]=Z(Se)),this._normalizedQuery):(Se||[]).filter(K=>!!K).map(K=>Z(K)[0])},M=new WeakSet,Fr=function(Se){var Ee,we;const K=Se.query,U=l(this,he).query,re=typeof K;if(re!==typeof U)return!0;if(re==="string"){if(K!==U)return!0}else if(JSON.stringify(K)!==JSON.stringify(U))return!0;switch(Se.type){case"again":const Te=this._selected.pageIdx+1,Ne=this._linkService;return Te>=1&&Te<=Ne.pagesCount&&Te!==Ne.page&&!((we=(Ee=this.onIsPageVisible)==null?void 0:Ee.call(this,Te))==null||we);case"highlightallchange":return!1}return!0},R=new WeakSet,Nr=function(Se,K,U){let re=Se.slice(0,K).match(c);if(re){const Ae=Se.charCodeAt(K),Ee=re[1].charCodeAt(0);if((0,n.getCharacterType)(Ae)===(0,n.getCharacterType)(Ee))return!1}if(re=Se.slice(K+U).match(a),re){const Ae=Se.charCodeAt(K+U-1),Ee=re[1].charCodeAt(0);if((0,n.getCharacterType)(Ae)===(0,n.getCharacterType)(Ee))return!1}return!0},B=new WeakSet,Br=function(Se,K,U,re){const Ae=this._pageMatches[U]=[],Ee=this._pageMatchesLength[U]=[];if(!Se)return;const we=this._pageDiffs[U];let Te;for(;(Te=Se.exec(re))!==null;){if(K&&!J(this,R,Nr).call(this,re,Te.index,Te[0].length))continue;const[Ne,ke]=W(we,Te.index,Te[0].length);ke&&(Ae.push(Ne),Ee.push(ke))}},j=new WeakSet,On=function(Se,K){const{matchDiacritics:U}=l(this,he);let re=!1;Se=Se.replaceAll(b,(Ee,we,Te,Ne,ke,Ue)=>we?"[ ]*\\".concat(we,"[ ]*"):Te?"[ ]*".concat(Te,"[ ]*"):Ne?"[ ]+":U?ke||Ue:ke?g.has(ke.charCodeAt(0))?ke:"":K?(re=!0,"".concat(Ue,"\\p{M}*")):Ue);const Ae="[ ]*";return Se.endsWith(Ae)&&(Se=Se.slice(0,Se.length-Ae.length)),U&&K&&(v||(v=String.fromCharCode(...g)),re=!0,Se="".concat(Se,"(?=[").concat(v,"]|[^\\p{M}]|$)")),[re,Se]},q=new WeakSet,Ur=function(Se){let K=l(this,L,Ln);if(K.length===0)return;const{caseSensitive:U,entireWord:re}=l(this,he),Ae=this._pageContents[Se],Ee=this._hasDiacritics[Se];let we=!1;typeof K=="string"?[we,K]=J(this,j,On).call(this,K,Ee):K=K.sort().reverse().map(ke=>{const[Ue,Be]=J(this,j,On).call(this,ke,Ee);return we||(we=Ue),"(".concat(Be,")")}).join("|");const Te="g".concat(we?"u":"").concat(U?"":"i");K=K?new RegExp(K,Te):null,J(this,B,Br).call(this,K,re,Se,Ae),l(this,he).highlightAll&&J(this,ve,_t).call(this,Se),this._resumePageIdx===Se&&(this._resumePageIdx=null,J(this,ge,Dn).call(this));const Ne=this._pageMatches[Se].length;this._matchesCountTotal+=Ne,l(this,Y)?Ne>0&&J(this,Xe,Bn).call(this):++ut(this,z)._===this._linkService.pagesCount&&J(this,Xe,Bn).call(this)},ne=new WeakSet,Vr=function(){if(this._extractTextPromises.length>0)return;let Se=Promise.resolve();const K={disableNormalization:!0};for(let U=0,re=this._linkService.pagesCount;U<re;U++){const Ae=new p.PromiseCapability;this._extractTextPromises[U]=Ae.promise,Se=Se.then(()=>this._pdfDocument.getPage(U+1).then(Ee=>Ee.getTextContent(K)).then(Ee=>{const we=[];for(const Te of Ee.items)we.push(Te.str),Te.hasEOL&&we.push("\n");[this._pageContents[U],this._pageDiffs[U],this._hasDiacritics[U]]=Z(we.join("")),Ae.resolve()},Ee=>{console.error("Unable to get text content for page ".concat(U+1),Ee),this._pageContents[U]="",this._pageDiffs[U]=null,this._hasDiacritics[U]=!1,Ae.resolve()}))}},ve=new WeakSet,_t=function(Se){this._scrollMatches&&this._selected.pageIdx===Se&&(this._linkService.page=Se+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:Se})},Oe=new WeakSet,Tt=function(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})},Le=new WeakSet,vt=function(){const Se=l(this,he).findPrevious,K=this._linkService.page-1,U=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=K,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,ce(this,z,0),this._matchesCountTotal=0,J(this,Oe,Tt).call(this);for(let Ee=0;Ee<U;Ee++)this._pendingFindMatches.has(Ee)||(this._pendingFindMatches.add(Ee),this._extractTextPromises[Ee].then(()=>{this._pendingFindMatches.delete(Ee),J(this,q,Ur).call(this,Ee)}))}if(l(this,L,Ln).length===0){J(this,H,Ct).call(this,h.FOUND);return}if(this._resumePageIdx)return;const Ae=this._offset;if(this._pagesToSearch=U,Ae.matchIdx!==null){const Ee=this._pageMatches[Ae.pageIdx].length;if(!Se&&Ae.matchIdx+1<Ee||Se&&Ae.matchIdx>0){Ae.matchIdx=Se?Ae.matchIdx-1:Ae.matchIdx+1,J(this,We,$t).call(this,!0);return}J(this,Me,Fn).call(this,Se)}J(this,ge,Dn).call(this)},ee=new WeakSet,Hr=function(Se){const K=this._offset,U=Se.length,re=l(this,he).findPrevious;return U?(K.matchIdx=re?U-1:0,J(this,We,$t).call(this,!0),!0):(J(this,Me,Fn).call(this,re),K.wrapped&&(K.matchIdx=null,this._pagesToSearch<0)?(J(this,We,$t).call(this,!1),!0):!1)},ge=new WeakSet,Dn=function(){this._resumePageIdx!==null&&console.error("There can only be one pending page.");let Se=null;do{const K=this._offset.pageIdx;if(Se=this._pageMatches[K],!Se){this._resumePageIdx=K;break}}while(!J(this,ee,Hr).call(this,Se))},Me=new WeakSet,Fn=function(Se){const K=this._offset,U=this._linkService.pagesCount;K.pageIdx=Se?K.pageIdx-1:K.pageIdx+1,K.matchIdx=null,this._pagesToSearch--,(K.pageIdx>=U||K.pageIdx<0)&&(K.pageIdx=Se?U-1:0,K.wrapped=!0)},We=new WeakSet,$t=function(){let Se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,K=h.NOT_FOUND;const U=this._offset.wrapped;if(this._offset.wrapped=!1,Se){const re=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,K=U?h.WRAPPED:h.FOUND,re!==-1&&re!==this._selected.pageIdx&&J(this,ve,_t).call(this,re)}J(this,H,Ct).call(this,K,l(this,he).findPrevious),this._selected.pageIdx!==-1&&(this._scrollMatches=!0,J(this,ve,_t).call(this,this._selected.pageIdx))},ze=new WeakSet,Wr=function(Se){const K=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||K&&this._pdfDocument!==K||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),J(this,H,Ct).call(this,h.FOUND),this._highlightMatches=!1,J(this,Oe,Tt).call(this))})},Je=new WeakSet,Nn=function(){var Ae;const{pageIdx:Se,matchIdx:K}=this._selected;let U=0,re=this._matchesCountTotal;if(K!==-1){for(let Ee=0;Ee<Se;Ee++)U+=((Ae=this._pageMatches[Ee])==null?void 0:Ae.length)||0;U+=K+1}return(U<1||U>re)&&(U=re=0),{current:U,total:re}},Xe=new WeakSet,Bn=function(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:J(this,Je,Nn).call(this)})},H=new WeakSet,Ct=function(Se){var U,re;let K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;!l(this,Y)&&(l(this,z)!==this._linkService.pagesCount||Se===h.PENDING)||this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:Se,previous:K,matchesCount:J(this,Je,Nn).call(this),rawQuery:(re=(U=l(this,he))==null?void 0:U.query)!=null?re:null})},m.PDFFindController=Q},(f,m,t)=>{var i=t(3),n=t(69),p=t(79);i({target:"Set",proto:!0,real:!0,forced:!p("difference")},{difference:n})},(f,m,t)=>{var i=t(4),n=t(5).f,p=t(44),h=t(48),d=t(38),s=t(56),r=t(68);f.exports=function(o,g){var v=o.target,A=o.global,b=o.stat,c,a,x,T,S,D;if(A?a=i:b?a=i[v]||d(v,{}):a=(i[v]||{}).prototype,a)for(x in g){if(S=g[x],o.dontCallGetSet?(D=n(a,x),T=D&&D.value):T=a[x],c=r(A?x:v+(b?".":"#")+x,o.forced),!c&&T!==void 0){if(typeof S==typeof T)continue;s(S,T)}(o.sham||T&&T.sham)&&p(S,"sham",!0),h(a,x,S,o)}}},function(f){var m=function(t){return t&&t.Math===Math&&t};f.exports=m(typeof globalThis=="object"&&globalThis)||m(typeof window=="object"&&window)||m(typeof self=="object"&&self)||m(typeof commonjsGlobal=="object"&&commonjsGlobal)||function(){return this}()||this||Function("return this")()},(f,m,t)=>{var i=t(6),n=t(8),p=t(10),h=t(11),d=t(12),s=t(18),r=t(39),o=t(42),g=Object.getOwnPropertyDescriptor;m.f=i?g:function(A,b){if(A=d(A),b=s(b),o)try{return g(A,b)}catch(c){}if(r(A,b))return h(!n(p.f,A,b),A[b])}},(f,m,t)=>{var i=t(7);f.exports=!i(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},f=>{f.exports=function(m){try{return!!m()}catch(t){return!0}}},(f,m,t)=>{var i=t(9),n=Function.prototype.call;f.exports=i?n.bind(n):function(){return n.apply(n,arguments)}},(f,m,t)=>{var i=t(7);f.exports=!i(function(){var n=(function(){}).bind();return typeof n!="function"||n.hasOwnProperty("prototype")})},(f,m)=>{var t={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,n=i&&!t.call({1:2},1);m.f=n?function(h){var d=i(this,h);return!!d&&d.enumerable}:t},f=>{f.exports=function(m,t){return{enumerable:!(m&1),configurable:!(m&2),writable:!(m&4),value:t}}},(f,m,t)=>{var i=t(13),n=t(16);f.exports=function(p){return i(n(p))}},(f,m,t)=>{var i=t(14),n=t(7),p=t(15),h=Object,d=i("".split);f.exports=n(function(){return!h("z").propertyIsEnumerable(0)})?function(s){return p(s)==="String"?d(s,""):h(s)}:h},(f,m,t)=>{var i=t(9),n=Function.prototype,p=n.call,h=i&&n.bind.bind(p,p);f.exports=i?h:function(d){return function(){return p.apply(d,arguments)}}},(f,m,t)=>{var i=t(14),n=i({}.toString),p=i("".slice);f.exports=function(h){return p(n(h),8,-1)}},(f,m,t)=>{var i=t(17),n=TypeError;f.exports=function(p){if(i(p))throw n("Can't call method on "+p);return p}},f=>{f.exports=function(m){return m==null}},(f,m,t)=>{var i=t(19),n=t(23);f.exports=function(p){var h=i(p,"string");return n(h)?h:h+""}},(f,m,t)=>{var i=t(8),n=t(20),p=t(23),h=t(30),d=t(33),s=t(34),r=TypeError,o=s("toPrimitive");f.exports=function(g,v){if(!n(g)||p(g))return g;var A=h(g,o),b;if(A){if(v===void 0&&(v="default"),b=i(A,g,v),!n(b)||p(b))return b;throw r("Can't convert object to primitive value")}return v===void 0&&(v="number"),d(g,v)}},(f,m,t)=>{var i=t(21),n=t(22),p=n.all;f.exports=n.IS_HTMLDDA?function(h){return typeof h=="object"?h!==null:i(h)||h===p}:function(h){return typeof h=="object"?h!==null:i(h)}},(f,m,t)=>{var i=t(22),n=i.all;f.exports=i.IS_HTMLDDA?function(p){return typeof p=="function"||p===n}:function(p){return typeof p=="function"}},f=>{var m=typeof document=="object"&&document.all,t=typeof m>"u"&&m!==void 0;f.exports={all:m,IS_HTMLDDA:t}},(f,m,t)=>{var i=t(24),n=t(21),p=t(25),h=t(26),d=Object;f.exports=h?function(s){return typeof s=="symbol"}:function(s){var r=i("Symbol");return n(r)&&p(r.prototype,d(s))}},(f,m,t)=>{var i=t(4),n=t(21),p=function(h){return n(h)?h:void 0};f.exports=function(h,d){return arguments.length<2?p(i[h]):i[h]&&i[h][d]}},(f,m,t)=>{var i=t(14);f.exports=i({}.isPrototypeOf)},(f,m,t)=>{var i=t(27);f.exports=i&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},(f,m,t)=>{var i=t(28),n=t(7),p=t(4),h=p.String;f.exports=!!Object.getOwnPropertySymbols&&!n(function(){var d=Symbol("symbol detection");return!h(d)||!(Object(d)instanceof Symbol)||!Symbol.sham&&i&&i<41})},(f,m,t)=>{var i=t(4),n=t(29),p=i.process,h=i.Deno,d=p&&p.versions||h&&h.version,s=d&&d.v8,r,o;s&&(r=s.split("."),o=r[0]>0&&r[0]<4?1:+(r[0]+r[1])),!o&&n&&(r=n.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=n.match(/Chrome\/(\d+)/),r&&(o=+r[1]))),f.exports=o},f=>{f.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},(f,m,t)=>{var i=t(31),n=t(17);f.exports=function(p,h){var d=p[h];return n(d)?void 0:i(d)}},(f,m,t)=>{var i=t(21),n=t(32),p=TypeError;f.exports=function(h){if(i(h))return h;throw p(n(h)+" is not a function")}},f=>{var m=String;f.exports=function(t){try{return m(t)}catch(i){return"Object"}}},(f,m,t)=>{var i=t(8),n=t(21),p=t(20),h=TypeError;f.exports=function(d,s){var r,o;if(s==="string"&&n(r=d.toString)&&!p(o=i(r,d))||n(r=d.valueOf)&&!p(o=i(r,d))||s!=="string"&&n(r=d.toString)&&!p(o=i(r,d)))return o;throw h("Can't convert object to primitive value")}},(f,m,t)=>{var i=t(4),n=t(35),p=t(39),h=t(41),d=t(27),s=t(26),r=i.Symbol,o=n("wks"),g=s?r.for||r:r&&r.withoutSetter||h;f.exports=function(v){return p(o,v)||(o[v]=d&&p(r,v)?r[v]:g("Symbol."+v)),o[v]}},(f,m,t)=>{var i=t(36),n=t(37);(f.exports=function(p,h){return n[p]||(n[p]=h!==void 0?h:{})})("versions",[]).push({version:"3.32.2",mode:i?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.32.2/LICENSE",source:"https://github.com/zloirock/core-js"})},f=>{f.exports=!1},(f,m,t)=>{var i=t(4),n=t(38),p="__core-js_shared__",h=i[p]||n(p,{});f.exports=h},(f,m,t)=>{var i=t(4),n=Object.defineProperty;f.exports=function(p,h){try{n(i,p,{value:h,configurable:!0,writable:!0})}catch(d){i[p]=h}return h}},(f,m,t)=>{var i=t(14),n=t(40),p=i({}.hasOwnProperty);f.exports=Object.hasOwn||function(d,s){return p(n(d),s)}},(f,m,t)=>{var i=t(16),n=Object;f.exports=function(p){return n(i(p))}},(f,m,t)=>{var i=t(14),n=0,p=Math.random(),h=i(1 .toString);f.exports=function(d){return"Symbol("+(d===void 0?"":d)+")_"+h(++n+p,36)}},(f,m,t)=>{var i=t(6),n=t(7),p=t(43);f.exports=!i&&!n(function(){return Object.defineProperty(p("div"),"a",{get:function(){return 7}}).a!==7})},(f,m,t)=>{var i=t(4),n=t(20),p=i.document,h=n(p)&&n(p.createElement);f.exports=function(d){return h?p.createElement(d):{}}},(f,m,t)=>{var i=t(6),n=t(45),p=t(11);f.exports=i?function(h,d,s){return n.f(h,d,p(1,s))}:function(h,d,s){return h[d]=s,h}},(f,m,t)=>{var i=t(6),n=t(42),p=t(46),h=t(47),d=t(18),s=TypeError,r=Object.defineProperty,o=Object.getOwnPropertyDescriptor,g="enumerable",v="configurable",A="writable";m.f=i?p?function(c,a,x){if(h(c),a=d(a),h(x),typeof c=="function"&&a==="prototype"&&"value"in x&&A in x&&!x[A]){var T=o(c,a);T&&T[A]&&(c[a]=x.value,x={configurable:v in x?x[v]:T[v],enumerable:g in x?x[g]:T[g],writable:!1})}return r(c,a,x)}:r:function(c,a,x){if(h(c),a=d(a),h(x),n)try{return r(c,a,x)}catch(T){}if("get"in x||"set"in x)throw s("Accessors not supported");return"value"in x&&(c[a]=x.value),c}},(f,m,t)=>{var i=t(6),n=t(7);f.exports=i&&n(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},(f,m,t)=>{var i=t(20),n=String,p=TypeError;f.exports=function(h){if(i(h))return h;throw p(n(h)+" is not an object")}},(f,m,t)=>{var i=t(21),n=t(45),p=t(49),h=t(38);f.exports=function(d,s,r,o){o||(o={});var g=o.enumerable,v=o.name!==void 0?o.name:s;if(i(r)&&p(r,v,o),o.global)g?d[s]=r:h(s,r);else{try{o.unsafe?d[s]&&(g=!0):delete d[s]}catch(A){}g?d[s]=r:n.f(d,s,{value:r,enumerable:!1,configurable:!o.nonConfigurable,writable:!o.nonWritable})}return d}},(f,m,t)=>{var i=t(14),n=t(7),p=t(21),h=t(39),d=t(6),s=t(50).CONFIGURABLE,r=t(51),o=t(52),g=o.enforce,v=o.get,A=String,b=Object.defineProperty,c=i("".slice),a=i("".replace),x=i([].join),T=d&&!n(function(){return b(function(){},"length",{value:8}).length!==8}),S=String(String).split("String"),D=f.exports=function(I,$,Z){c(A($),0,7)==="Symbol("&&($="["+a(A($),/^Symbol\(([^)]*)\)/,"$1")+"]"),Z&&Z.getter&&($="get "+$),Z&&Z.setter&&($="set "+$),(!h(I,"name")||s&&I.name!==$)&&(d?b(I,"name",{value:$,configurable:!0}):I.name=$),T&&Z&&h(Z,"arity")&&I.length!==Z.arity&&b(I,"length",{value:Z.arity});try{Z&&h(Z,"constructor")&&Z.constructor?d&&b(I,"prototype",{writable:!1}):I.prototype&&(I.prototype=void 0)}catch(Q){}var W=g(I);return h(W,"source")||(W.source=x(S,typeof $=="string"?$:"")),I};Function.prototype.toString=D(function(){return p(this)&&v(this).source||r(this)},"toString")},(f,m,t)=>{var i=t(6),n=t(39),p=Function.prototype,h=i&&Object.getOwnPropertyDescriptor,d=n(p,"name"),s=d&&(function(){}).name==="something",r=d&&(!i||i&&h(p,"name").configurable);f.exports={EXISTS:d,PROPER:s,CONFIGURABLE:r}},(f,m,t)=>{var i=t(14),n=t(21),p=t(37),h=i(Function.toString);n(p.inspectSource)||(p.inspectSource=function(d){return h(d)}),f.exports=p.inspectSource},(f,m,t)=>{var i=t(53),n=t(4),p=t(20),h=t(44),d=t(39),s=t(37),r=t(54),o=t(55),g="Object already initialized",v=n.TypeError,A=n.WeakMap,b,c,a,x=function(I){return a(I)?c(I):b(I,{})},T=function(I){return function($){var Z;if(!p($)||(Z=c($)).type!==I)throw v("Incompatible receiver, "+I+" required");return Z}};if(i||s.state){var S=s.state||(s.state=new A);S.get=S.get,S.has=S.has,S.set=S.set,b=function(I,$){if(S.has(I))throw v(g);return $.facade=I,S.set(I,$),$},c=function(I){return S.get(I)||{}},a=function(I){return S.has(I)}}else{var D=r("state");o[D]=!0,b=function(I,$){if(d(I,D))throw v(g);return $.facade=I,h(I,D,$),$},c=function(I){return d(I,D)?I[D]:{}},a=function(I){return d(I,D)}}f.exports={set:b,get:c,has:a,enforce:x,getterFor:T}},(f,m,t)=>{var i=t(4),n=t(21),p=i.WeakMap;f.exports=n(p)&&/native code/.test(String(p))},(f,m,t)=>{var i=t(35),n=t(41),p=i("keys");f.exports=function(h){return p[h]||(p[h]=n(h))}},f=>{f.exports={}},(f,m,t)=>{var i=t(39),n=t(57),p=t(5),h=t(45);f.exports=function(d,s,r){for(var o=n(s),g=h.f,v=p.f,A=0;A<o.length;A++){var b=o[A];!i(d,b)&&!(r&&i(r,b))&&g(d,b,v(s,b))}}},(f,m,t)=>{var i=t(24),n=t(14),p=t(58),h=t(67),d=t(47),s=n([].concat);f.exports=i("Reflect","ownKeys")||function(o){var g=p.f(d(o)),v=h.f;return v?s(g,v(o)):g}},(f,m,t)=>{var i=t(59),n=t(66),p=n.concat("length","prototype");m.f=Object.getOwnPropertyNames||function(d){return i(d,p)}},(f,m,t)=>{var i=t(14),n=t(39),p=t(12),h=t(60).indexOf,d=t(55),s=i([].push);f.exports=function(r,o){var g=p(r),v=0,A=[],b;for(b in g)!n(d,b)&&n(g,b)&&s(A,b);for(;o.length>v;)n(g,b=o[v++])&&(~h(A,b)||s(A,b));return A}},(f,m,t)=>{var i=t(12),n=t(61),p=t(64),h=function(d){return function(s,r,o){var g=i(s),v=p(g),A=n(o,v),b;if(d&&r!==r){for(;v>A;)if(b=g[A++],b!==b)return!0}else for(;v>A;A++)if((d||A in g)&&g[A]===r)return d||A||0;return!d&&-1}};f.exports={includes:h(!0),indexOf:h(!1)}},(f,m,t)=>{var i=t(62),n=Math.max,p=Math.min;f.exports=function(h,d){var s=i(h);return s<0?n(s+d,0):p(s,d)}},(f,m,t)=>{var i=t(63);f.exports=function(n){var p=+n;return p!==p||p===0?0:i(p)}},f=>{var m=Math.ceil,t=Math.floor;f.exports=Math.trunc||function(n){var p=+n;return(p>0?t:m)(p)}},(f,m,t)=>{var i=t(65);f.exports=function(n){return i(n.length)}},(f,m,t)=>{var i=t(62),n=Math.min;f.exports=function(p){return p>0?n(i(p),9007199254740991):0}},f=>{f.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},(f,m)=>{m.f=Object.getOwnPropertySymbols},(f,m,t)=>{var i=t(7),n=t(21),p=/#|\.prototype\./,h=function(g,v){var A=s[d(g)];return A===o?!0:A===r?!1:n(v)?i(v):!!v},d=h.normalize=function(g){return String(g).replace(p,".").toLowerCase()},s=h.data={},r=h.NATIVE="N",o=h.POLYFILL="P";f.exports=h},(f,m,t)=>{var i=t(70),n=t(71),p=t(72),h=t(75),d=t(77),s=t(73),r=t(74),o=n.has,g=n.remove;f.exports=function(A){var b=i(this),c=d(A),a=p(b);return h(b)<=c.size?s(b,function(x){c.includes(x)&&g(a,x)}):r(c.getIterator(),function(x){o(b,x)&&g(a,x)}),a}},(f,m,t)=>{var i=t(71).has;f.exports=function(n){return i(n),n}},(f,m,t)=>{var i=t(14),n=Set.prototype;f.exports={Set,add:i(n.add),has:i(n.has),remove:i(n.delete),proto:n}},(f,m,t)=>{var i=t(71),n=t(73),p=i.Set,h=i.add;f.exports=function(d){var s=new p;return n(d,function(r){h(s,r)}),s}},(f,m,t)=>{var i=t(14),n=t(74),p=t(71),h=p.Set,d=p.proto,s=i(d.forEach),r=i(d.keys),o=r(new h).next;f.exports=function(g,v,A){return A?n({iterator:r(g),next:o},v):s(g,v)}},(f,m,t)=>{var i=t(8);f.exports=function(n,p,h){for(var d=h?n:n.iterator,s=n.next,r,o;!(r=i(s,d)).done;)if(o=p(r.value),o!==void 0)return o}},(f,m,t)=>{var i=t(76),n=t(71);f.exports=i(n.proto,"size","get")||function(p){return p.size}},(f,m,t)=>{var i=t(14),n=t(31);f.exports=function(p,h,d){try{return i(n(Object.getOwnPropertyDescriptor(p,h)[d]))}catch(s){}}},(f,m,t)=>{var i=t(31),n=t(47),p=t(8),h=t(62),d=t(78),s="Invalid size",r=RangeError,o=TypeError,g=Math.max,v=function(A,b,c,a){this.set=A,this.size=b,this.has=c,this.keys=a};v.prototype={getIterator:function(){return d(n(p(this.keys,this.set)))},includes:function(A){return p(this.has,this.set,A)}},f.exports=function(A){n(A);var b=+A.size;if(b!==b)throw o(s);var c=h(b);if(c<0)throw r(s);return new v(A,g(c,0),i(A.has),i(A.keys))}},f=>{f.exports=function(m){return{iterator:m,next:m.next,done:!1}}},(f,m,t)=>{var i=t(24),n=function(p){return{size:p,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}};f.exports=function(p){var h=i("Set");try{new h()[p](n(0));try{return new h()[p](n(-1)),!1}catch(d){return!0}}catch(d){return!1}}},(f,m,t)=>{var i=t(3),n=t(7),p=t(81),h=t(79),d=!h("intersection")||n(function(){return Array.from(new Set([1,2,3]).intersection(new Set([3,2])))!=="3,2"});i({target:"Set",proto:!0,real:!0,forced:d},{intersection:p})},(f,m,t)=>{var i=t(70),n=t(71),p=t(75),h=t(77),d=t(73),s=t(74),r=n.Set,o=n.add,g=n.has;f.exports=function(A){var b=i(this),c=h(A),a=new r;return p(b)>c.size?s(c.getIterator(),function(x){g(b,x)&&o(a,x)}):d(b,function(x){c.includes(x)&&o(a,x)}),a}},(f,m,t)=>{var i=t(3),n=t(83),p=t(79);i({target:"Set",proto:!0,real:!0,forced:!p("isDisjointFrom")},{isDisjointFrom:n})},(f,m,t)=>{var i=t(70),n=t(71).has,p=t(75),h=t(77),d=t(73),s=t(74),r=t(84);f.exports=function(g){var v=i(this),A=h(g);if(p(v)<=A.size)return d(v,function(c){if(A.includes(c))return!1},!0)!==!1;var b=A.getIterator();return s(b,function(c){if(n(v,c))return r(b,"normal",!1)})!==!1}},(f,m,t)=>{var i=t(8),n=t(47),p=t(30);f.exports=function(h,d,s){var r,o;n(h);try{if(r=p(h,"return"),!r){if(d==="throw")throw s;return s}r=i(r,h)}catch(g){o=!0,r=g}if(d==="throw")throw s;if(o)throw r;return n(r),s}},(f,m,t)=>{var i=t(3),n=t(86),p=t(79);i({target:"Set",proto:!0,real:!0,forced:!p("isSubsetOf")},{isSubsetOf:n})},(f,m,t)=>{var i=t(70),n=t(75),p=t(73),h=t(77);f.exports=function(s){var r=i(this),o=h(s);return n(r)>o.size?!1:p(r,function(g){if(!o.includes(g))return!1},!0)!==!1}},(f,m,t)=>{var i=t(3),n=t(88),p=t(79);i({target:"Set",proto:!0,real:!0,forced:!p("isSupersetOf")},{isSupersetOf:n})},(f,m,t)=>{var i=t(70),n=t(71).has,p=t(75),h=t(77),d=t(74),s=t(84);f.exports=function(o){var g=i(this),v=h(o);if(p(g)<v.size)return!1;var A=v.getIterator();return d(A,function(b){if(!n(g,b))return s(A,"normal",!1)})!==!1}},(f,m,t)=>{var i=t(3),n=t(90),p=t(79);i({target:"Set",proto:!0,real:!0,forced:!p("symmetricDifference")},{symmetricDifference:n})},(f,m,t)=>{var i=t(70),n=t(71),p=t(72),h=t(77),d=t(74),s=n.add,r=n.has,o=n.remove;f.exports=function(v){var A=i(this),b=h(v).getIterator(),c=p(A);return d(b,function(a){r(A,a)?o(c,a):s(c,a)}),c}},(f,m,t)=>{var i=t(3),n=t(92),p=t(79);i({target:"Set",proto:!0,real:!0,forced:!p("union")},{union:n})},(f,m,t)=>{var i=t(70),n=t(71).add,p=t(72),h=t(77),d=t(74);f.exports=function(r){var o=i(this),g=h(r).getIterator(),v=p(o);return d(g,function(A){n(v,A)}),v}},(f,m,t)=>{var i=t(3),n=t(40),p=t(64),h=t(94),d=t(96),s=t(7),r=s(function(){return[].push.call({length:4294967296},1)!==4294967297}),o=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(v){return v instanceof TypeError}},g=r||!o();i({target:"Array",proto:!0,arity:1,forced:g},{push:function(A){var b=n(this),c=p(b),a=arguments.length;d(c+a);for(var x=0;x<a;x++)b[c]=arguments[x],c++;return h(b,c),c}})},(f,m,t)=>{var i=t(6),n=t(95),p=TypeError,h=Object.getOwnPropertyDescriptor,d=i&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}}();f.exports=d?function(s,r){if(n(s)&&!h(s,"length").writable)throw p("Cannot set read only .length");return s.length=r}:function(s,r){return s.length=r}},(f,m,t)=>{var i=t(15);f.exports=Array.isArray||function(p){return i(p)==="Array"}},f=>{var m=TypeError,t=9007199254740991;f.exports=function(i){if(i>t)throw m("Maximum allowed index exceeded");return i}},(f,m,t)=>{var ve,Re,Oe,Ie,Le;Object.defineProperty(m,"__esModule",{value:!0}),m.animationStarted=m.VERTICAL_PADDING=m.UNKNOWN_SCALE=m.TextLayerMode=m.SpreadMode=m.SidebarView=m.ScrollMode=m.SCROLLBAR_PADDING=m.RenderingStates=m.ProgressBar=m.PresentationModeState=m.OutputScale=m.MIN_SCALE=m.MAX_SCALE=m.MAX_AUTO_SCALE=m.DEFAULT_SCALE_VALUE=m.DEFAULT_SCALE_DELTA=m.DEFAULT_SCALE=m.CursorTool=m.AutoPrintRegExp=void 0,m.apiPageLayoutToViewerModes=q,m.apiPageModeToSidebarView=pe,m.approximateFraction=Y,m.backtrackBeforeAllVisibleElements=oe,m.binarySearchFirstItem=he,m.docStyle=void 0,m.getActiveOrFocusedElement=ae,m.getPageSizeInches=te,m.getVisibleElements=ye,m.isPortraitOrientation=R,m.isValidRotation=P,m.isValidScrollMode=M,m.isValidSpreadMode=E,m.normalizeWheelEventDelta=L,m.normalizeWheelEventDirection=Pe,m.parseQueryString=Z,m.removeNullCharacters=Q,m.roundToDivide=z,m.scrollIntoView=I,m.toggleCheckedBtn=ne,m.toggleExpandedBtn=me,m.watchScroll=$,t(98),t(103),t(104),t(2),t(80),t(82),t(85),t(87),t(89),t(91),t(93);const i="auto";m.DEFAULT_SCALE_VALUE=i;const n=1;m.DEFAULT_SCALE=n;const p=1.1;m.DEFAULT_SCALE_DELTA=p;const h=.1;m.MIN_SCALE=h;const d=10;m.MAX_SCALE=d;const s=0;m.UNKNOWN_SCALE=s;const r=1.25;m.MAX_AUTO_SCALE=r;const o=40;m.SCROLLBAR_PADDING=o;const g=5;m.VERTICAL_PADDING=g;const v={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3};m.RenderingStates=v;const A={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};m.PresentationModeState=A;const b={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};m.SidebarView=b;const c={DISABLE:0,ENABLE:1,ENABLE_PERMISSIONS:2};m.TextLayerMode=c;const a={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};m.ScrollMode=a;const x={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};m.SpreadMode=x;const T={SELECT:0,HAND:1,ZOOM:2};m.CursorTool=T;const S=/\bprint\s*\(/;m.AutoPrintRegExp=S;class D{constructor(){const ee=window.devicePixelRatio||1;this.sx=ee,this.sy=ee}get scaled(){return this.sx!==1||this.sy!==1}}m.OutputScale=D;function I(ue,ee){let le=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,ge=ue.offsetParent;if(!ge){console.error("offsetParent is not set -- cannot scroll");return}let Ce=ue.offsetTop+ue.clientTop,Me=ue.offsetLeft+ue.clientLeft;for(;ge.clientHeight===ge.scrollHeight&&ge.clientWidth===ge.scrollWidth||le&&(ge.classList.contains("markedContent")||getComputedStyle(ge).overflow==="hidden");)if(Ce+=ge.offsetTop,Me+=ge.offsetLeft,ge=ge.offsetParent,!ge)return;ee&&(ee.top!==void 0&&(Ce+=ee.top),ee.left!==void 0&&(Me+=ee.left,ge.scrollLeft=Me)),ge.scrollTop=Ce}function $(ue,ee){const le=function(Me){Ce||(Ce=window.requestAnimationFrame(function(){Ce=null;const We=ue.scrollLeft,_e=ge.lastX;We!==_e&&(ge.right=We>_e),ge.lastX=We;const ze=ue.scrollTop,Ye=ge.lastY;ze!==Ye&&(ge.down=ze>Ye),ge.lastY=ze,ee(ge)}))},ge={right:!0,down:!0,lastX:ue.scrollLeft,lastY:ue.scrollTop,_eventHandler:le};let Ce=null;return ue.addEventListener("scroll",le,!0),ge}function Z(ue){const ee=new Map;for(const[le,ge]of new URLSearchParams(ue))ee.set(le.toLowerCase(),ge);return ee}const W=/[\x01-\x1F]/g;function Q(ue){let ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return typeof ue!="string"?(console.error("The argument must be a string."),ue):(ee&&(ue=ue.replaceAll(W," ")),ue.replaceAll("\0",""))}function he(ue,ee){let ge=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,Ce=ue.length-1;if(Ce<0||!ee(ue[Ce]))return ue.length;if(ee(ue[ge]))return ge;for(;ge<Ce;){const Me=ge+Ce>>1,He=ue[Me];ee(He)?Ce=Me:ge=Me+1}return ge}function Y(ue){if(Math.floor(ue)===ue)return[ue,1];const ee=1/ue,le=8;if(ee>le)return[1,le];if(Math.floor(ee)===ee)return[1,ee];const ge=ue>1?ee:ue;let Ce=0,Me=1,He=1,We=1;for(;;){const ze=Ce+He,Ye=Me+We;if(Ye>le)break;ge<=ze/Ye?(He=ze,We=Ye):(Ce=ze,Me=Ye)}let _e;return ge-Ce/Me<He/We-ge?_e=ge===ue?[Ce,Me]:[Me,Ce]:_e=ge===ue?[He,We]:[We,He],_e}function z(ue,ee){const le=ue%ee;return le===0?ue:Math.round(ue-le+ee)}function te(ue){let{view:ee,userUnit:le,rotate:ge}=ue;const[Ce,Me,He,We]=ee,_e=ge%180!==0,ze=(He-Ce)/72*le,Ye=(We-Me)/72*le;return{width:_e?Ye:ze,height:_e?ze:Ye}}function oe(ue,ee,le){if(ue<2)return ue;let ge=ee[ue].div,Ce=ge.offsetTop+ge.clientTop;Ce>=le&&(ge=ee[ue-1].div,Ce=ge.offsetTop+ge.clientTop);for(let Me=ue-2;Me>=0&&(ge=ee[Me].div,!(ge.offsetTop+ge.clientTop+ge.clientHeight<=Ce));--Me)ue=Me;return ue}function ye(ue){let{scrollEl:ee,views:le,sortByVisibility:ge=!1,horizontal:Ce=!1,rtl:Me=!1}=ue;const He=ee.scrollTop,We=He+ee.clientHeight,_e=ee.scrollLeft,ze=_e+ee.clientWidth;function Ye(K){const U=K.div;return U.offsetTop+U.clientTop+U.clientHeight>He}function Je(K){const U=K.div,re=U.offsetLeft+U.clientLeft,Ae=re+U.clientWidth;return Me?re<ze:Ae>_e}const Ze=[],Xe=new Set,V=le.length;let H=he(le,Ce?Je:Ye);H>0&&H<V&&!Ce&&(H=oe(H,le,He));let X=Ce?ze:-1;for(let K=H;K<V;K++){const U=le[K],re=U.div,Ae=re.offsetLeft+re.clientLeft,Ee=re.offsetTop+re.clientTop,we=re.clientWidth,Te=re.clientHeight,Ne=Ae+we,ke=Ee+Te;if(X===-1)ke>=We&&(X=ke);else if((Ce?Ae:Ee)>X)break;if(ke<=He||Ee>=We||Ne<=_e||Ae>=ze)continue;const Ue=Math.max(0,He-Ee)+Math.max(0,ke-We),Be=Math.max(0,_e-Ae)+Math.max(0,Ne-ze),ie=(Te-Ue)/Te,w=(we-Be)/we,G=ie*w*100|0;Ze.push({id:U.id,x:Ae,y:Ee,view:U,percent:G,widthPercent:w*100|0}),Xe.add(U.id)}const de=Ze[0],Se=Ze.at(-1);return ge&&Ze.sort(function(K,U){const re=K.percent-U.percent;return Math.abs(re)>.001?-re:K.id-U.id}),{first:de,last:Se,views:Ze,ids:Xe}}function Pe(ue){let ee=Math.hypot(ue.deltaX,ue.deltaY);const le=Math.atan2(ue.deltaY,ue.deltaX);return-.25*Math.PI<le&&le<.75*Math.PI&&(ee=-ee),ee}function L(ue){const ee=ue.deltaMode;let le=Pe(ue);const ge=30,Ce=30;return ee===WheelEvent.DOM_DELTA_PIXEL?le/=ge*Ce:ee===WheelEvent.DOM_DELTA_LINE&&(le/=Ce),le}function P(ue){return Number.isInteger(ue)&&ue%90===0}function M(ue){return Number.isInteger(ue)&&Object.values(a).includes(ue)&&ue!==a.UNKNOWN}function E(ue){return Number.isInteger(ue)&&Object.values(x).includes(ue)&&ue!==x.UNKNOWN}function R(ue){return ue.width<=ue.height}const O=new Promise(function(ue){window.requestAnimationFrame(ue)});m.animationStarted=O;const B=document.documentElement.style;m.docStyle=B;function F(ue,ee,le){return Math.min(Math.max(ue,ee),le)}class j{constructor(ee){_(this,ve,null);_(this,Re,null);_(this,Oe,0);_(this,Ie,null);_(this,Le,!0);ce(this,ve,ee.classList),ce(this,Ie,ee.style)}get percent(){return l(this,Oe)}set percent(ee){if(ce(this,Oe,F(ee,0,100)),isNaN(ee)){l(this,ve).add("indeterminate");return}l(this,ve).remove("indeterminate"),l(this,Ie).setProperty("--progressBar-percent","".concat(l(this,Oe),"%"))}setWidth(ee){if(!ee)return;const ge=ee.parentNode.offsetWidth-ee.offsetWidth;ge>0&&l(this,Ie).setProperty("--progressBar-end-offset","".concat(ge,"px"))}setDisableAutoFetch(){let ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:5e3;isNaN(l(this,Oe))||(l(this,Re)&&clearTimeout(l(this,Re)),this.show(),ce(this,Re,setTimeout(()=>{ce(this,Re,null),this.hide()},ee)))}hide(){l(this,Le)&&(ce(this,Le,!1),l(this,ve).add("hidden"))}show(){l(this,Le)||(ce(this,Le,!0),l(this,ve).remove("hidden"))}}ve=new WeakMap,Re=new WeakMap,Oe=new WeakMap,Ie=new WeakMap,Le=new WeakMap,m.ProgressBar=j;function ae(){let ue=document,ee=ue.activeElement||ue.querySelector(":focus");for(;ee!=null&&ee.shadowRoot;)ue=ee.shadowRoot,ee=ue.activeElement||ue.querySelector(":focus");return ee}function q(ue){let ee=a.VERTICAL,le=x.NONE;switch(ue){case"SinglePage":ee=a.PAGE;break;case"OneColumn":break;case"TwoPageLeft":ee=a.PAGE;case"TwoColumnLeft":le=x.ODD;break;case"TwoPageRight":ee=a.PAGE;case"TwoColumnRight":le=x.EVEN;break}return{scrollMode:ee,spreadMode:le}}function pe(ue){switch(ue){case"UseNone":return b.NONE;case"UseThumbs":return b.THUMBS;case"UseOutlines":return b.OUTLINE;case"UseAttachments":return b.ATTACHMENTS;case"UseOC":return b.LAYERS}return b.NONE}function ne(ue,ee){let le=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;ue.classList.toggle("toggled",ee),ue.setAttribute("aria-checked",ee),le==null||le.classList.toggle("hidden",!ee)}function me(ue,ee){let le=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;ue.classList.toggle("toggled",ee),ue.setAttribute("aria-expanded",ee),le==null||le.classList.toggle("hidden",!ee)}},(f,m,t)=>{var i=t(48),n=t(14),p=t(99),h=t(102),d=URLSearchParams,s=d.prototype,r=n(s.append),o=n(s.delete),g=n(s.forEach),v=n([].push),A=new d("a=1&a=2&b=3");A.delete("a",1),A.delete("b",void 0),A+""!="a=2"&&i(s,"delete",function(b){var c=arguments.length,a=c<2?void 0:arguments[1];if(c&&a===void 0)return o(this,b);var x=[];g(this,function(Q,he){v(x,{key:he,value:Q})}),h(c,1);for(var T=p(b),S=p(a),D=0,I=0,$=!1,Z=x.length,W;D<Z;)W=x[D++],$||W.key===T?($=!0,o(this,W.key)):I++;for(;I<Z;)W=x[I++],W.key===T&&W.value===S||r(this,W.key,W.value)},{enumerable:!0,unsafe:!0})},(f,m,t)=>{var i=t(100),n=String;f.exports=function(p){if(i(p)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return n(p)}},(f,m,t)=>{var i=t(101),n=t(21),p=t(15),h=t(34),d=h("toStringTag"),s=Object,r=p(function(){return arguments}())==="Arguments",o=function(g,v){try{return g[v]}catch(A){}};f.exports=i?p:function(g){var v,A,b;return g===void 0?"Undefined":g===null?"Null":typeof(A=o(v=s(g),d))=="string"?A:r?p(v):(b=p(v))==="Object"&&n(v.callee)?"Arguments":b}},(f,m,t)=>{var i=t(34),n=i("toStringTag"),p={};p[n]="z",f.exports=String(p)==="[object z]"},f=>{var m=TypeError;f.exports=function(t,i){if(t<i)throw m("Not enough arguments");return t}},(f,m,t)=>{var i=t(48),n=t(14),p=t(99),h=t(102),d=URLSearchParams,s=d.prototype,r=n(s.getAll),o=n(s.has),g=new d("a=1");(g.has("a",2)||!g.has("a",void 0))&&i(s,"has",function(A){var b=arguments.length,c=b<2?void 0:arguments[1];if(b&&c===void 0)return o(this,A);var a=r(this,A);h(b,1);for(var x=p(c),T=0;T<a.length;)if(a[T++]===x)return!0;return!1},{enumerable:!0,unsafe:!0})},(f,m,t)=>{var i=t(6),n=t(14),p=t(105),h=URLSearchParams.prototype,d=n(h.forEach);i&&!("size"in h)&&p(h,"size",{get:function(){var r=0;return d(this,function(){r++}),r},configurable:!0,enumerable:!0})},(f,m,t)=>{var i=t(49),n=t(45);f.exports=function(p,h,d){return d.get&&i(d.get,h,{getter:!0}),d.set&&i(d.set,h,{setter:!0}),n.f(p,h,d)}},(f,m)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.CharacterType=void 0,m.getCharacterType=A,m.getNormalizeWithNFKC=c;const t={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};m.CharacterType=t;function i(a){return a<11904}function n(a){return(a&65408)===0}function p(a){return a>=97&&a<=122||a>=65&&a<=90}function h(a){return a>=48&&a<=57}function d(a){return a===32||a===9||a===13||a===10}function s(a){return a>=13312&&a<=40959||a>=63744&&a<=64255}function r(a){return a>=12448&&a<=12543}function o(a){return a>=12352&&a<=12447}function g(a){return a>=65376&&a<=65439}function v(a){return(a&65408)===3584}function A(a){return i(a)?n(a)?d(a)?t.SPACE:p(a)||h(a)||a===95?t.ALPHA_LETTER:t.PUNCT:v(a)?t.THAI_LETTER:a===160?t.SPACE:t.ALPHA_LETTER:s(a)?t.HAN_LETTER:r(a)?t.KATAKANA_LETTER:o(a)?t.HIRAGANA_LETTER:g(a)?t.HALFWIDTH_KATAKANA_LETTER:t.ALPHA_LETTER}let b;function c(){return b||(b=" ¨ª¯²-µ¸-º¼-¾Ĳ-ĳĿ-ŀŉſǄ-ǌǱ-ǳʰ-ʸ˘-˝ˠ-ˤʹͺ;΄-΅·ϐ-ϖϰ-ϲϴ-ϵϹևٵ-ٸक़-य़ড়-ঢ়য়ਲ਼ਸ਼ਖ਼-ਜ਼ਫ਼ଡ଼-ଢ଼ำຳໜ-ໝ༌གྷཌྷདྷབྷཛྷཀྵჼᴬ-ᴮᴰ-ᴺᴼ-ᵍᵏ-ᵪᵸᶛ-ᶿẚ-ẛάέήίόύώΆ᾽-῁ΈΉ῍-῏ΐΊ῝-῟ΰΎ῭-`ΌΏ´-῾ - ‑‗․-… ″-‴‶-‷‼‾⁇-⁉⁗ ⁰-ⁱ⁴-₎ₐ-ₜ₨℀-℃℅-ℇ℉-ℓℕ-№ℙ-ℝ℠-™ℤΩℨK-ℭℯ-ℱℳ-ℹ℻-⅀ⅅ-ⅉ⅐-ⅿ↉∬-∭∯-∰〈-〉①-⓪⨌⩴-⩶⫝̸ⱼ-ⱽⵯ⺟⻳⼀-⿕　〶〸-〺゛-゜ゟヿㄱ-ㆎ㆒-㆟㈀-㈞㈠-㉇㉐-㉾㊀-㏿ꚜ-ꚝꝰꟲ-ꟴꟸ-ꟹꭜ-ꭟꭩ豈-嗀塚晴凞-羽蘒諸逸-都飯-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-זּטּ-לּמּנּ-סּףּ-פּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-﷼︐-︙︰-﹄﹇-﹒﹔-﹦﹨-﹫ﹰ-ﹲﹴﹶ-ﻼ！-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ￠-￦"),b}},f=>{f.exports=globalThis.pdfjsLib},(f,m,t)=>{var r,o,Un,v,zr;Object.defineProperty(m,"__esModule",{value:!0}),m.SimpleLinkService=m.PDFLinkService=m.LinkTarget=void 0,t(109),t(93),t(121);var i=t(97);const n="noopener noreferrer nofollow",p={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};m.LinkTarget=p;function h(c){let{url:a,target:x,rel:T,enabled:S=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!a||typeof a!="string")throw new Error('A valid "url" parameter must provided.');S?c.href=c.title=a:(c.href="",c.title="Disabled: ".concat(a),c.onclick=()=>!1);let D="";switch(x){case p.NONE:break;case p.SELF:D="_self";break;case p.BLANK:D="_blank";break;case p.PARENT:D="_parent";break;case p.TOP:D="_top";break}c.target=D,c.rel=typeof T=="string"?T:n}const b=class b{constructor(){_(this,o);_(this,r,new Map);let{eventBus:a,externalLinkTarget:x=null,externalLinkRel:T=null,ignoreDestinationZoom:S=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.eventBus=a,this.externalLinkTarget=x,this.externalLinkRel=T,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=S,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(a){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.baseUrl=x,this.pdfDocument=a,l(this,r).clear()}setViewer(a){this.pdfViewer=a}setHistory(a){this.pdfHistory=a}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(a){this.pdfViewer.currentPageNumber=a}get rotation(){return this.pdfViewer.pagesRotation}set rotation(a){this.pdfViewer.pagesRotation=a}get isInPresentationMode(){return this.pdfViewer.isInPresentationMode}async goToDestination(a){if(!this.pdfDocument)return;let x,T;if(typeof a=="string"?(x=a,T=await this.pdfDocument.getDestination(a)):(x=null,T=await a),!Array.isArray(T)){console.error('PDFLinkService.goToDestination: "'.concat(T,'" is not ')+'a valid destination array, for dest="'.concat(a,'".'));return}J(this,o,Un).call(this,a,x,T)}goToPage(a){if(!this.pdfDocument)return;const x=typeof a=="string"&&this.pdfViewer.pageLabelToPageNumber(a)||a|0;if(!(Number.isInteger(x)&&x>0&&x<=this.pagesCount)){console.error('PDFLinkService.goToPage: "'.concat(a,'" is not a valid page.'));return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(x)),this.pdfViewer.scrollPageIntoView({pageNumber:x})}addLinkAttributes(a,x){let T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;h(a,{url:x,target:T?p.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(a){if(typeof a=="string"){if(a.length>0)return this.getAnchorUrl("#"+escape(a))}else if(Array.isArray(a)){const x=JSON.stringify(a);if(x.length>0)return this.getAnchorUrl("#"+escape(x))}return this.getAnchorUrl("")}getAnchorUrl(a){return this.baseUrl?this.baseUrl+a:a}setHash(a){var S;if(!this.pdfDocument)return;let x,T;if(a.includes("=")){const D=(0,i.parseQueryString)(a);if(D.has("search")){const I=D.get("search").replaceAll('"',""),$=D.get("phrase")==="true";this.eventBus.dispatch("findfromurlhash",{source:this,query:$?I:I.match(/\S+/g)})}if(D.has("page")&&(x=D.get("page")|0||1),D.has("zoom")){const I=D.get("zoom").split(","),$=I[0],Z=parseFloat($);$.includes("Fit")?$==="Fit"||$==="FitB"?T=[null,{name:$}]:$==="FitH"||$==="FitBH"||$==="FitV"||$==="FitBV"?T=[null,{name:$},I.length>1?I[1]|0:null]:$==="FitR"?I.length!==5?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):T=[null,{name:$},I[1]|0,I[2]|0,I[3]|0,I[4]|0]:console.error('PDFLinkService.setHash: "'.concat($,'" is not a valid zoom value.')):T=[null,{name:"XYZ"},I.length>1?I[1]|0:null,I.length>2?I[2]|0:null,Z?Z/100:$]}T?this.pdfViewer.scrollPageIntoView({pageNumber:x||this.page,destArray:T,allowNegativeOffset:!0}):x&&(this.page=x),D.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:D.get("pagemode")}),D.has("nameddest")&&this.goToDestination(D.get("nameddest"))}else{T=unescape(a);try{T=JSON.parse(T),Array.isArray(T)||(T=T.toString())}catch(D){}if(typeof T=="string"||J(S=b,v,zr).call(S,T)){this.goToDestination(T);return}console.error('PDFLinkService.setHash: "'.concat(unescape(a),'" is not a valid destination.'))}}executeNamedAction(a){var x,T;switch(a){case"GoBack":(x=this.pdfHistory)==null||x.back();break;case"GoForward":(T=this.pdfHistory)==null||T.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1;break}this.eventBus.dispatch("namedaction",{source:this,action:a})}async executeSetOCGState(a){const x=this.pdfDocument,T=await this.pdfViewer.optionalContentConfigPromise;if(x!==this.pdfDocument)return;let S;for(const D of a.state){switch(D){case"ON":case"OFF":case"Toggle":S=D;continue}switch(S){case"ON":T.setVisibility(D,!0);break;case"OFF":T.setVisibility(D,!1);break;case"Toggle":const I=T.getGroup(D);I&&T.setVisibility(D,!I.visible);break}}this.pdfViewer.optionalContentConfigPromise=Promise.resolve(T)}cachePageRef(a,x){if(!x)return;const T=x.gen===0?"".concat(x.num,"R"):"".concat(x.num,"R").concat(x.gen);l(this,r).set(T,a)}_cachedPageNumber(a){if(!a)return null;const x=a.gen===0?"".concat(a.num,"R"):"".concat(a.num,"R").concat(a.gen);return l(this,r).get(x)||null}};r=new WeakMap,o=new WeakSet,Un=function(a){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,T=arguments.length>2?arguments[2]:void 0;const S=T[0];let D;if(typeof S=="object"&&S!==null){if(D=this._cachedPageNumber(S),!D){this.pdfDocument.getPageIndex(S).then(I=>{this.cachePageRef(I+1,S),J(this,o,Un).call(this,a,x,T)}).catch(()=>{console.error('PDFLinkService.#goToDestinationHelper: "'.concat(S,'" is not ')+'a valid page reference, for dest="'.concat(a,'".'))});return}}else if(Number.isInteger(S))D=S+1;else{console.error('PDFLinkService.#goToDestinationHelper: "'.concat(S,'" is not ')+'a valid destination reference, for dest="'.concat(a,'".'));return}if(!D||D<1||D>this.pagesCount){console.error('PDFLinkService.#goToDestinationHelper: "'.concat(D,'" is not ')+'a valid page number, for dest="'.concat(a,'".'));return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:x,explicitDest:T,pageNumber:D})),this.pdfViewer.scrollPageIntoView({pageNumber:D,destArray:T,ignoreDestinationZoom:this._ignoreDestinationZoom})},v=new WeakSet,zr=function(a){if(!Array.isArray(a))return!1;const x=a.length;if(x<2)return!1;const T=a[0];if(!(typeof T=="object"&&Number.isInteger(T.num)&&Number.isInteger(T.gen))&&!(Number.isInteger(T)&&T>=0))return!1;const S=a[1];if(!(typeof S=="object"&&typeof S.name=="string"))return!1;let D=!0;switch(S.name){case"XYZ":if(x!==5)return!1;break;case"Fit":case"FitB":return x===2;case"FitH":case"FitBH":case"FitV":case"FitBV":if(x!==3)return!1;break;case"FitR":if(x!==6)return!1;D=!1;break;default:return!1}for(let I=2;I<x;I++){const $=a[I];if(!(typeof $=="number"||D&&$===null))return!1}return!0},_(b,v);let d=b;m.PDFLinkService=d;class s{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(a){}get rotation(){return 0}set rotation(a){}get isInPresentationMode(){return!1}async goToDestination(a){}goToPage(a){}addLinkAttributes(a,x){h(a,{url:x,enabled:this.externalLinkEnabled})}getDestinationHash(a){return"#"}getAnchorUrl(a){return"#"}setHash(a){}executeNamedAction(a){}executeSetOCGState(a){}cachePageRef(a,x){}}m.SimpleLinkService=s},(f,m,t)=>{var i=t(3),n=t(4),p=t(110),h=t(111),d="WebAssembly",s=n[d],r=Error("e",{cause:7}).cause!==7,o=function(v,A){var b={};b[v]=h(v,A,r),i({global:!0,constructor:!0,arity:1,forced:r},b)},g=function(v,A){if(s&&s[v]){var b={};b[v]=h(d+"."+v,A,r),i({target:d,stat:!0,constructor:!0,arity:1,forced:r},b)}};o("Error",function(v){return function(b){return p(v,this,arguments)}}),o("EvalError",function(v){return function(b){return p(v,this,arguments)}}),o("RangeError",function(v){return function(b){return p(v,this,arguments)}}),o("ReferenceError",function(v){return function(b){return p(v,this,arguments)}}),o("SyntaxError",function(v){return function(b){return p(v,this,arguments)}}),o("TypeError",function(v){return function(b){return p(v,this,arguments)}}),o("URIError",function(v){return function(b){return p(v,this,arguments)}}),g("CompileError",function(v){return function(b){return p(v,this,arguments)}}),g("LinkError",function(v){return function(b){return p(v,this,arguments)}}),g("RuntimeError",function(v){return function(b){return p(v,this,arguments)}})},(f,m,t)=>{var i=t(9),n=Function.prototype,p=n.apply,h=n.call;f.exports=typeof Reflect=="object"&&Reflect.apply||(i?h.bind(p):function(){return h.apply(p,arguments)})},(f,m,t)=>{var i=t(24),n=t(39),p=t(44),h=t(25),d=t(112),s=t(56),r=t(114),o=t(115),g=t(116),v=t(117),A=t(118),b=t(6),c=t(36);f.exports=function(a,x,T,S){var D="stackTraceLimit",I=S?2:1,$=a.split("."),Z=$[$.length-1],W=i.apply(null,$);if(W){var Q=W.prototype;if(!c&&n(Q,"cause")&&delete Q.cause,!T)return W;var he=i("Error"),Y=x(function(z,te){var oe=g(S?te:z,void 0),ye=S?new W(z):new W;return oe!==void 0&&p(ye,"message",oe),A(ye,Y,ye.stack,2),this&&h(Q,this)&&o(ye,this,Y),arguments.length>I&&v(ye,arguments[I]),ye});if(Y.prototype=Q,Z!=="Error"?d?d(Y,he):s(Y,he,{name:!0}):b&&D in W&&(r(Y,W,D),r(Y,W,"prepareStackTrace")),s(Y,W),!c)try{Q.name!==Z&&p(Q,"name",Z),Q.constructor=Y}catch(z){}return Y}}},(f,m,t)=>{var i=t(76),n=t(47),p=t(113);f.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var h=!1,d={},s;try{s=i(Object.prototype,"__proto__","set"),s(d,[]),h=d instanceof Array}catch(r){}return function(o,g){return n(o),p(g),h?s(o,g):o.__proto__=g,o}}():void 0)},(f,m,t)=>{var i=t(21),n=String,p=TypeError;f.exports=function(h){if(typeof h=="object"||i(h))return h;throw p("Can't set "+n(h)+" as a prototype")}},(f,m,t)=>{var i=t(45).f;f.exports=function(n,p,h){h in n||i(n,h,{configurable:!0,get:function(){return p[h]},set:function(d){p[h]=d}})}},(f,m,t)=>{var i=t(21),n=t(20),p=t(112);f.exports=function(h,d,s){var r,o;return p&&i(r=d.constructor)&&r!==s&&n(o=r.prototype)&&o!==s.prototype&&p(h,o),h}},(f,m,t)=>{var i=t(99);f.exports=function(n,p){return n===void 0?arguments.length<2?"":p:i(n)}},(f,m,t)=>{var i=t(20),n=t(44);f.exports=function(p,h){i(h)&&"cause"in h&&n(p,"cause",h.cause)}},(f,m,t)=>{var i=t(44),n=t(119),p=t(120),h=Error.captureStackTrace;f.exports=function(d,s,r,o){p&&(h?h(d,s):i(d,"stack",n(r,o)))}},(f,m,t)=>{var i=t(14),n=Error,p=i("".replace),h=function(r){return String(n(r).stack)}("zxcasd"),d=/\n\s*at [^:]*:[^\n]*/,s=d.test(h);f.exports=function(r,o){if(s&&typeof r=="string"&&!n.prepareStackTrace)for(;o--;)r=p(r,d,"");return r}},(f,m,t)=>{var i=t(7),n=t(11);f.exports=!i(function(){var p=Error("a");return"stack"in p?(Object.defineProperty(p,"stack",n(1,7)),p.stack!==7):!0})},(f,m,t)=>{var i=t(3),n=t(6),p=t(4),h=t(24),d=t(14),s=t(8),r=t(21),o=t(20),g=t(95),v=t(39),A=t(99),b=t(64),c=t(122),a=t(7),x=t(123),T=t(27),S=p.JSON,D=p.Number,I=p.SyntaxError,$=S&&S.parse,Z=h("Object","keys"),W=Object.getOwnPropertyDescriptor,Q=d("".charAt),he=d("".slice),Y=d(/./.exec),z=d([].push),te=/^\d$/,oe=/^[1-9]$/,ye=/^(?:-|\d)$/,Pe=/^[\t\n\r ]$/,L=0,P=1,M=function(ae,q){ae=A(ae);var pe=new B(ae,0),ne=pe.parse(),me=ne.value,ve=pe.skip(Pe,ne.end);if(ve<ae.length)throw I('Unexpected extra character: "'+Q(ae,ve)+'" after the parsed data at: '+ve);return r(q)?E({"":me},"",q,ne):me},E=function(ae,q,pe,ne){var me=ae[q],ve=ne&&me===ne.value,Re=ve&&typeof ne.source=="string"?{source:ne.source}:{},Oe,Ie,Le,ue,ee;if(o(me)){var le=g(me),ge=ve?ne.nodes:le?[]:{};if(le)for(Oe=ge.length,Le=b(me),ue=0;ue<Le;ue++)R(me,ue,E(me,""+ue,pe,ue<Oe?ge[ue]:void 0));else for(Ie=Z(me),Le=b(Ie),ue=0;ue<Le;ue++)ee=Ie[ue],R(me,ee,E(me,ee,pe,v(ge,ee)?ge[ee]:void 0))}return s(pe,ae,q,me,Re)},R=function(ae,q,pe){if(n){var ne=W(ae,q);if(ne&&!ne.configurable)return}pe===void 0?delete ae[q]:c(ae,q,pe)},O=function(ae,q,pe,ne){this.value=ae,this.end=q,this.source=pe,this.nodes=ne},B=function(ae,q){this.source=ae,this.index=q};B.prototype={fork:function(ae){return new B(this.source,ae)},parse:function(){var ae=this.source,q=this.skip(Pe,this.index),pe=this.fork(q),ne=Q(ae,q);if(Y(ye,ne))return pe.number();switch(ne){case"{":return pe.object();case"[":return pe.array();case'"':return pe.string();case"t":return pe.keyword(!0);case"f":return pe.keyword(!1);case"n":return pe.keyword(null)}throw I('Unexpected character: "'+ne+'" at: '+q)},node:function(ae,q,pe,ne,me){return new O(q,ne,ae?null:he(this.source,pe,ne),me)},object:function(){for(var ae=this.source,q=this.index+1,pe=!1,ne={},me={};q<ae.length;){if(q=this.until(['"',"}"],q),Q(ae,q)==="}"&&!pe){q++;break}var ve=this.fork(q).string(),Re=ve.value;q=ve.end,q=this.until([":"],q)+1,q=this.skip(Pe,q),ve=this.fork(q).parse(),c(me,Re,ve),c(ne,Re,ve.value),q=this.until([",","}"],ve.end);var Oe=Q(ae,q);if(Oe===",")pe=!0,q++;else if(Oe==="}"){q++;break}}return this.node(P,ne,this.index,q,me)},array:function(){for(var ae=this.source,q=this.index+1,pe=!1,ne=[],me=[];q<ae.length;){if(q=this.skip(Pe,q),Q(ae,q)==="]"&&!pe){q++;break}var ve=this.fork(q).parse();if(z(me,ve),z(ne,ve.value),q=this.until([",","]"],ve.end),Q(ae,q)===",")pe=!0,q++;else if(Q(ae,q)==="]"){q++;break}}return this.node(P,ne,this.index,q,me)},string:function(){var ae=this.index,q=x(this.source,this.index+1);return this.node(L,q.value,ae,q.end)},number:function(){var ae=this.source,q=this.index,pe=q;if(Q(ae,pe)==="-"&&pe++,Q(ae,pe)==="0")pe++;else if(Y(oe,Q(ae,pe)))pe=this.skip(te,++pe);else throw I("Failed to parse number at: "+pe);if(Q(ae,pe)==="."&&(pe=this.skip(te,++pe)),Q(ae,pe)==="e"||Q(ae,pe)==="E"){pe++,(Q(ae,pe)==="+"||Q(ae,pe)==="-")&&pe++;var ne=pe;if(pe=this.skip(te,pe),ne===pe)throw I("Failed to parse number's exponent value at: "+pe)}return this.node(L,D(he(ae,q,pe)),q,pe)},keyword:function(ae){var q=""+ae,pe=this.index,ne=pe+q.length;if(he(this.source,pe,ne)!==q)throw I("Failed to parse value at: "+pe);return this.node(L,ae,pe,ne)},skip:function(ae,q){for(var pe=this.source;q<pe.length&&Y(ae,Q(pe,q));q++);return q},until:function(ae,q){q=this.skip(Pe,q);for(var pe=Q(this.source,q),ne=0;ne<ae.length;ne++)if(ae[ne]===pe)return q;throw I('Unexpected character: "'+pe+'" at: '+q)}};var F=a(function(){var ae="9007199254740993",q;return $(ae,function(pe,ne,me){q=me.source}),q!==ae}),j=T&&!a(function(){return 1/$("-0 	")!==-1/0});i({target:"JSON",stat:!0,forced:F},{parse:function(q,pe){return j&&!r(pe)?$(q):M(q,pe)}})},(f,m,t)=>{var i=t(18),n=t(45),p=t(11);f.exports=function(h,d,s){var r=i(d);r in h?n.f(h,r,p(0,s)):h[r]=s}},(f,m,t)=>{var i=t(14),n=t(39),p=SyntaxError,h=parseInt,d=String.fromCharCode,s=i("".charAt),r=i("".slice),o=i(/./.exec),g={'\\"':'"',"\\\\":"\\","\\/":"/","\\b":"\b","\\f":"\f","\\n":"\n","\\r":"\r","\\t":"	"},v=/^[\da-f]{4}$/i,A=/^[\u0000-\u001F]$/;f.exports=function(b,c){for(var a=!0,x="";c<b.length;){var T=s(b,c);if(T==="\\"){var S=r(b,c,c+2);if(n(g,S))x+=g[S],c+=2;else if(S==="\\u"){c+=2;var D=r(b,c,c+4);if(!o(v,D))throw p("Bad Unicode escape at: "+c);x+=d(h(D,16)),c+=4}else throw p('Unknown escape sequence: "'+S+'"')}else if(T==='"'){a=!1,c++;break}else{if(o(A,T))throw p("Bad control character in string literal at: "+c);x+=T,c++}}if(a)throw p("Unterminated string at: "+c);return{value:x,end:c}}},(f,m,t)=>{var d,s,Vn;Object.defineProperty(m,"__esModule",{value:!0}),m.AnnotationLayerBuilder=void 0;var i=t(107),n=t(125),p=t(97);class h{constructor(g){_(this,s);_(this,d,null);let{pageDiv:v,pdfPage:A,linkService:b,downloadManager:c,annotationStorage:a=null,imageResourcesPath:x="",renderForms:T=!0,l10n:S=n.NullL10n,enableScripting:D=!1,hasJSActionsPromise:I=null,fieldObjectsPromise:$=null,annotationCanvasMap:Z=null,accessibilityManager:W=null}=g;this.pageDiv=v,this.pdfPage=A,this.linkService=b,this.downloadManager=c,this.imageResourcesPath=x,this.renderForms=T,this.l10n=S,this.annotationStorage=a,this.enableScripting=D,this._hasJSActionsPromise=I||Promise.resolve(!1),this._fieldObjectsPromise=$||Promise.resolve(null),this._annotationCanvasMap=Z,this._accessibilityManager=W,this.annotationLayer=null,this.div=null,this._cancelled=!1,this._eventBus=b.eventBus}async render(g){var x;let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"display";if(this.div){if(this._cancelled||!this.annotationLayer)return;this.annotationLayer.update({viewport:g.clone({dontFlip:!0})});return}const[A,b,c]=await Promise.all([this.pdfPage.getAnnotations({intent:v}),this._hasJSActionsPromise,this._fieldObjectsPromise]);if(this._cancelled)return;const a=this.div=document.createElement("div");if(a.className="annotationLayer",this.pageDiv.append(a),A.length===0){this.hide();return}this.annotationLayer=new i.AnnotationLayer({div:a,accessibilityManager:this._accessibilityManager,annotationCanvasMap:this._annotationCanvasMap,l10n:this.l10n,page:this.pdfPage,viewport:g.clone({dontFlip:!0})}),await this.annotationLayer.render({annotations:A,imageResourcesPath:this.imageResourcesPath,renderForms:this.renderForms,linkService:this.linkService,downloadManager:this.downloadManager,annotationStorage:this.annotationStorage,enableScripting:this.enableScripting,hasJSActions:b,fieldObjects:c}),this.linkService.isInPresentationMode&&J(this,s,Vn).call(this,p.PresentationModeState.FULLSCREEN),l(this,d)||(ce(this,d,T=>{J(this,s,Vn).call(this,T.state)}),(x=this._eventBus)==null||x._on("presentationmodechanged",l(this,d)))}cancel(){var g;this._cancelled=!0,l(this,d)&&((g=this._eventBus)==null||g._off("presentationmodechanged",l(this,d)),ce(this,d,null))}hide(){this.div&&(this.div.hidden=!0)}}d=new WeakMap,s=new WeakSet,Vn=function(g){if(!this.div)return;let v=!1;switch(g){case p.PresentationModeState.FULLSCREEN:v=!0;break;case p.PresentationModeState.NORMAL:break;default:return}for(const A of this.div.childNodes)A.hasAttribute("data-internal-link")||(A.inert=v)},m.AnnotationLayerBuilder=h},(f,m)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.NullL10n=void 0,m.getL10nFallback=i;const t={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} × {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} × {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing…",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};t.print_progress_percent="{{progress}}%";function i(h,d){switch(h){case"find_match_count":h="find_match_count[".concat(d.total===1?"one":"other","]");break;case"find_match_count_limit":h="find_match_count_limit[".concat(d.limit===1?"one":"other","]");break}return t[h]||""}function n(h,d){return d?h.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(s,r)=>r in d?d[r]:"{{"+r+"}}"):h}const p={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(h){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:i(h,d);return n(s,d)},async translate(h){}};m.NullL10n=p},(f,m,t)=>{var h;Object.defineProperty(m,"__esModule",{value:!0}),m.DownloadManager=void 0,t(109),t(98),t(103),t(104);var i=t(107);function n(d,s){const r=document.createElement("a");if(!r.click)throw new Error('DownloadManager: "a.click()" is not supported.');r.href=d,r.target="_parent","download"in r&&(r.download=s),(document.body||document.documentElement).append(r),r.click(),r.remove()}class p{constructor(){_(this,h,new WeakMap)}downloadUrl(s,r,o){if(!(0,i.createValidAbsoluteUrl)(s,"http://example.com")){console.error("downloadUrl - not a valid URL: ".concat(s));return}n(s+"#pdfjs.action=download",r)}downloadData(s,r,o){const g=URL.createObjectURL(new Blob([s],{type:o}));n(g,r)}openOrDownloadData(s,r,o){const v=(0,i.isPdfFile)(o)?"application/pdf":"";return this.downloadData(r,o,v),!1}download(s,r,o,g){const v=URL.createObjectURL(s);n(v,o)}}h=new WeakMap,m.DownloadManager=p},(f,m,t)=>{var d;Object.defineProperty(m,"__esModule",{value:!0}),m.WaitOnType=m.EventBus=m.AutomationEventBus=void 0,m.waitOnEventOrTimeout=n,t(109),t(93);const i={EVENT:"event",TIMEOUT:"timeout"};m.WaitOnType=i;function n(s){let{target:r,name:o,delay:g=0}=s;return new Promise(function(v,A){if(typeof r!="object"||!(o&&typeof o=="string")||!(Number.isInteger(g)&&g>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function b(T){r instanceof p?r._off(o,c):r.removeEventListener(o,c),x&&clearTimeout(x),v(T)}const c=b.bind(null,i.EVENT);r instanceof p?r._on(o,c):r.addEventListener(o,c);const a=b.bind(null,i.TIMEOUT),x=setTimeout(a,g)})}class p{constructor(){_(this,d,Object.create(null))}on(r,o){let g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;this._on(r,o,{external:!0,once:g==null?void 0:g.once})}off(r,o){let g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;this._off(r,o,{external:!0,once:g==null?void 0:g.once})}dispatch(r,o){const g=l(this,d)[r];if(!g||g.length===0)return;let v;for(const{listener:A,external:b,once:c}of g.slice(0)){if(c&&this._off(r,A),b){(v||(v=[])).push(A);continue}A(o)}if(v){for(const A of v)A(o);v=null}}_on(r,o){var A;let g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;((A=l(this,d))[r]||(A[r]=[])).push({listener:o,external:(g==null?void 0:g.external)===!0,once:(g==null?void 0:g.once)===!0})}_off(r,o){const g=l(this,d)[r];if(g){for(let v=0,A=g.length;v<A;v++)if(g[v].listener===o){g.splice(v,1);return}}}}d=new WeakMap,m.EventBus=p;class h extends p{dispatch(r,o){throw new Error("Not implemented: AutomationEventBus.dispatch")}}m.AutomationEventBus=h},(f,m,t)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.GenericL10n=void 0,t(129);var i=t(125);const n={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};function p(d){return n[d==null?void 0:d.toLowerCase()]||d}class h{constructor(s){const{webL10n:r}=document;this._lang=s,this._ready=new Promise((o,g)=>{r.setLanguage(p(s),()=>{o(r)})})}async getLanguage(){return(await this._ready).getLanguage()}async getDirection(){return(await this._ready).getDirection()}async get(s){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:(0,i.getL10nFallback)(s,r);return(await this._ready).get(s,r,o)}async translate(s){return(await this._ready).translate(s)}}m.GenericL10n=h},(f,m,t)=>{t(121),document.webL10n=function(i,n){var p={},h="",d="textContent",s="",r={},o="loading",g=!0;function v(){return n.querySelectorAll('link[type="application/l10n"]')}function A(){var Y=n.querySelector('script[type="application/l10n"]');return Y?JSON.parse(Y.innerHTML):null}function b(Y){return Y?Y.querySelectorAll("*[data-l10n-id]"):[]}function c(Y){if(!Y)return{};var z=Y.getAttribute("data-l10n-id"),te=Y.getAttribute("data-l10n-args"),oe={};if(te)try{oe=JSON.parse(te)}catch(ye){console.warn("could not parse arguments for #"+z)}return{id:z,args:oe}}function a(Y,z,te){z=z||function(Pe){},te=te||function(){};var oe=new XMLHttpRequest;oe.open("GET",Y,g),oe.overrideMimeType&&oe.overrideMimeType("text/plain; charset=utf-8"),oe.onreadystatechange=function(){oe.readyState==4&&(oe.status==200||oe.status===0?z(oe.responseText):te())},oe.onerror=te,oe.ontimeout=te;try{oe.send(null)}catch(ye){te()}}function x(Y,z,te,oe){var ye=Y.replace(/[^\/]*$/,"")||"./";function Pe(P){return P.lastIndexOf("\\")<0?P:P.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"	").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}function L(P,M){var E={},R=/^\s*|\s*$/,O=/^\s*#|^\s*$/,B=/^\s*\[(.*)\]\s*$/,F=/^\s*@import\s+url\((.*)\)\s*$/i,j=/^([^=\s]*)\s*=\s*(.+)$/;function ae(pe,ne,me){var ve=pe.replace(R,"").split(/[\r\n]+/),Re="*",Oe=z.split("-",1)[0],Ie=!1,Le="";function ue(){for(;;){if(!ve.length){me();return}var ee=ve.shift();if(!O.test(ee)){if(ne){if(Le=B.exec(ee),Le){Re=Le[1].toLowerCase(),Ie=Re!=="*"&&Re!==z&&Re!==Oe;continue}else if(Ie)continue;if(Le=F.exec(ee),Le){q(ye+Le[1],ue);return}}var le=ee.match(j);le&&le.length==3&&(E[le[1]]=Pe(le[2]))}}}ue()}function q(pe,ne){a(pe,function(me){ae(me,!1,ne)},function(){console.warn(pe+" not found."),ne()})}ae(P,!0,function(){M(E)})}a(Y,function(P){h+=P,L(P,function(M){for(var E in M){var R,O,B=E.lastIndexOf(".");B>0?(R=E.substring(0,B),O=E.substring(B+1)):(R=E,O=d),p[R]||(p[R]={}),p[R][O]=M[E]}te&&te()})},oe)}function T(Y,z){Y&&(Y=Y.toLowerCase()),z=z||function(){},S(),s=Y;var te=v(),oe=te.length;if(oe===0){var ye=A();if(ye&&ye.locales&&ye.default_locale){if(console.log("using the embedded JSON directory, early way out"),p=ye.locales[Y],!p){var Pe=ye.default_locale.toLowerCase();for(var L in ye.locales)if(L=L.toLowerCase(),L===Y){p=ye.locales[Y];break}else L===Pe&&(p=ye.locales[Pe])}z()}else console.log("no resource to load, early way out");o="complete";return}var P=null,M=0;P=function(){M++,M>=oe&&(z(),o="complete")};function E(B){var F=B.href;this.load=function(j,ae){x(F,j,ae,function(){console.warn(F+" not found."),console.warn('"'+j+'" resource not found'),s="",ae()})}}for(var R=0;R<oe;R++){var O=new E(te[R]);O.load(Y,P)}}function S(){p={},h="",s=""}function D(Y){var z={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3};function te(L,P){return P.indexOf(L)!==-1}function oe(L,P,M){return P<=L&&L<=M}var ye={0:function(L){return"other"},1:function(L){return oe(L%100,3,10)?"few":L===0?"zero":oe(L%100,11,99)?"many":L==2?"two":L==1?"one":"other"},2:function(L){return L!==0&&L%10===0?"many":L==2?"two":L==1?"one":"other"},3:function(L){return L==1?"one":"other"},4:function(L){return oe(L,0,1)?"one":"other"},5:function(L){return oe(L,0,2)&&L!=2?"one":"other"},6:function(L){return L===0?"zero":L%10==1&&L%100!=11?"one":"other"},7:function(L){return L==2?"two":L==1?"one":"other"},8:function(L){return oe(L,3,6)?"few":oe(L,7,10)?"many":L==2?"two":L==1?"one":"other"},9:function(L){return L===0||L!=1&&oe(L%100,1,19)?"few":L==1?"one":"other"},10:function(L){return oe(L%10,2,9)&&!oe(L%100,11,19)?"few":L%10==1&&!oe(L%100,11,19)?"one":"other"},11:function(L){return oe(L%10,2,4)&&!oe(L%100,12,14)?"few":L%10===0||oe(L%10,5,9)||oe(L%100,11,14)?"many":L%10==1&&L%100!=11?"one":"other"},12:function(L){return oe(L,2,4)?"few":L==1?"one":"other"},13:function(L){return oe(L%10,2,4)&&!oe(L%100,12,14)?"few":L!=1&&oe(L%10,0,1)||oe(L%10,5,9)||oe(L%100,12,14)?"many":L==1?"one":"other"},14:function(L){return oe(L%100,3,4)?"few":L%100==2?"two":L%100==1?"one":"other"},15:function(L){return L===0||oe(L%100,2,10)?"few":oe(L%100,11,19)?"many":L==1?"one":"other"},16:function(L){return L%10==1&&L!=11?"one":"other"},17:function(L){return L==3?"few":L===0?"zero":L==6?"many":L==2?"two":L==1?"one":"other"},18:function(L){return L===0?"zero":oe(L,0,2)&&L!==0&&L!=2?"one":"other"},19:function(L){return oe(L,2,10)?"few":oe(L,0,1)?"one":"other"},20:function(L){return(oe(L%10,3,4)||L%10==9)&&!(oe(L%100,10,19)||oe(L%100,70,79)||oe(L%100,90,99))?"few":L%1e6===0&&L!==0?"many":L%10==2&&!te(L%100,[12,72,92])?"two":L%10==1&&!te(L%100,[11,71,91])?"one":"other"},21:function(L){return L===0?"zero":L==1?"one":"other"},22:function(L){return oe(L,0,1)||oe(L,11,99)?"one":"other"},23:function(L){return oe(L%10,1,2)||L%20===0?"one":"other"},24:function(L){return oe(L,3,10)||oe(L,13,19)?"few":te(L,[2,12])?"two":te(L,[1,11])?"one":"other"}},Pe=z[Y.replace(/-.*$/,"")];return Pe in ye?ye[Pe]:(console.warn("plural form unknown for ["+Y+"]"),function(){return"other"})}r.plural=function(Y,z,te,oe){var ye=parseFloat(z);if(isNaN(ye)||oe!=d)return Y;r._pluralRules||(r._pluralRules=D(s));var Pe="["+r._pluralRules(ye)+"]";return ye===0&&te+"[zero]"in p?Y=p[te+"[zero]"][oe]:ye==1&&te+"[one]"in p?Y=p[te+"[one]"][oe]:ye==2&&te+"[two]"in p?Y=p[te+"[two]"][oe]:te+Pe in p?Y=p[te+Pe][oe]:te+"[other]"in p&&(Y=p[te+"[other]"][oe]),Y};function I(Y,z,te){var oe=p[Y];if(!oe){if(console.warn("#"+Y+" is undefined."),!te)return null;oe=te}var ye={};for(var Pe in oe){var L=oe[Pe];L=$(L,z,Y,Pe),L=Z(L,z,Y),ye[Pe]=L}return ye}function $(Y,z,te,oe){var ye=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/,Pe=ye.exec(Y);if(!Pe||!Pe.length)return Y;var L=Pe[1],P=Pe[2],M;if(z&&P in z?M=z[P]:P in p&&(M=p[P]),L in r){var E=r[L];Y=E(Y,M,te,oe)}return Y}function Z(Y,z,te){var oe=/\{\{\s*(.+?)\s*\}\}/g;return Y.replace(oe,function(ye,Pe){return z&&Pe in z?z[Pe]:Pe in p?p[Pe]:(console.log("argument {{"+Pe+"}} for #"+te+" is undefined."),ye)})}function W(Y){var z=c(Y);if(z.id){var te=I(z.id,z.args);if(!te){console.warn("#"+z.id+" is undefined.");return}if(te[d]){if(Q(Y)===0)Y[d]=te[d];else{for(var oe=Y.childNodes,ye=!1,Pe=0,L=oe.length;Pe<L;Pe++)oe[Pe].nodeType===3&&/\S/.test(oe[Pe].nodeValue)&&(ye?oe[Pe].nodeValue="":(oe[Pe].nodeValue=te[d],ye=!0));if(!ye){var P=n.createTextNode(te[d]);Y.prepend(P)}}delete te[d]}for(var M in te)Y[M]=te[M]}}function Q(Y){if(Y.children)return Y.children.length;if(typeof Y.childElementCount<"u")return Y.childElementCount;for(var z=0,te=0;te<Y.childNodes.length;te++)z+=Y.nodeType===1?1:0;return z}function he(Y){Y=Y||n.documentElement;for(var z=b(Y),te=z.length,oe=0;oe<te;oe++)W(z[oe]);W(Y)}return{get:function(Y,z,te){var oe=Y.lastIndexOf("."),ye=d;oe>0&&(ye=Y.substring(oe+1),Y=Y.substring(0,oe));var Pe;te&&(Pe={},Pe[ye]=te);var L=I(Y,z,Pe);return L&&ye in L?L[ye]:"{{"+Y+"}}"},getData:function(){return p},getText:function(){return h},getLanguage:function(){return s},setLanguage:function(Y,z){T(Y,function(){z&&z()})},getDirection:function(){var Y=["ar","he","fa","ps","ur"],z=s.split("-",1)[0];return Y.indexOf(z)>=0?"rtl":"ltr"},translate:he,getReadyState:function(){return o},ready:function(Y){if(Y)o=="complete"||o=="interactive"?i.setTimeout(function(){Y()}):n.addEventListener&&n.addEventListener("localized",function z(){n.removeEventListener("localized",z),Y()});else return}}}(window,document)},(f,m,t)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.PDFHistory=void 0,m.isDestArraysEqual=g,m.isDestHashesEqual=o;var i=t(97),n=t(127);const p=1e3,h=50,d=1e3;function s(){return document.location.hash}class r{constructor(A){let{linkService:b,eventBus:c}=A;this.linkService=b,this.eventBus=c,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",a=>{this._isPagesLoaded=!!a.pagesCount},{once:!0})})}initialize(A){let{fingerprint:b,resetHistory:c=!1,updateUrl:a=!1}=A;if(!b||typeof b!="string"){console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');return}this._initialized&&this.reset();const x=this._fingerprint!==""&&this._fingerprint!==b;this._fingerprint=b,this._updateUrl=a===!0,this._initialized=!0,this._bindEvents();const T=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=s(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(T,!0)||c){const{hash:D,page:I,rotation:$}=this._parseCurrentHash(!0);if(!D||x||c){this._pushOrReplaceState(null,!0);return}this._pushOrReplaceState({hash:D,page:I,rotation:$},!0);return}const S=T.destination;this._updateInternalState(S,T.uid,!0),S.rotation!==void 0&&(this._initialRotation=S.rotation),S.dest?(this._initialBookmark=JSON.stringify(S.dest),this._destination.page=null):S.hash?this._initialBookmark=S.hash:S.page&&(this._initialBookmark="page=".concat(S.page))}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push(A){let{namedDest:b=null,explicitDest:c,pageNumber:a}=A;if(!this._initialized)return;if(b&&typeof b!="string"){console.error("PDFHistory.push: "+'"'.concat(b,'" is not a valid namedDest parameter.'));return}else if(Array.isArray(c)){if(!this._isValidPage(a)&&(a!==null||this._destination)){console.error("PDFHistory.push: "+'"'.concat(a,'" is not a valid pageNumber parameter.'));return}}else{console.error("PDFHistory.push: "+'"'.concat(c,'" is not a valid explicitDest parameter.'));return}const x=b||JSON.stringify(c);if(!x)return;let T=!1;if(this._destination&&(o(this._destination.hash,x)||g(this._destination.dest,c))){if(this._destination.page)return;T=!0}this._popStateInProgress&&!T||(this._pushOrReplaceState({dest:c,hash:x,page:a,rotation:this.linkService.rotation},T),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(A){var b;if(this._initialized){if(!this._isValidPage(A)){console.error('PDFHistory.pushPage: "'.concat(A,'" is not a valid page number.'));return}((b=this._destination)==null?void 0:b.page)!==A&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:"page=".concat(A),page:A,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const A=window.history.state;this._isValidState(A)&&A.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const A=window.history.state;this._isValidState(A)&&A.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(A){const c=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)||!this._destination,a={fingerprint:this._fingerprint,uid:c?this._uid:this._uid+1,destination:A};this._updateInternalState(A,a.uid);let x;if(this._updateUrl&&(A!=null&&A.hash)){const T=document.location.href.split("#")[0];T.startsWith("file://")||(x="".concat(T,"#").concat(A.hash))}c?window.history.replaceState(a,"",x):window.history.pushState(a,"",x)}_tryPushCurrentPosition(){let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this._position)return;let b=this._position;if(A&&(b=Object.assign(Object.create(null),this._position),b.temporary=!0),!this._destination){this._pushOrReplaceState(b);return}if(this._destination.temporary){this._pushOrReplaceState(b,!0);return}if(this._destination.hash===b.hash||!this._destination.page&&this._numPositionUpdates<=h)return;let c=!1;if(this._destination.page>=b.first&&this._destination.page<=b.page){if(this._destination.dest!==void 0||!this._destination.first)return;c=!0}this._pushOrReplaceState(b,c)}_isValidPage(A){return Number.isInteger(A)&&A>0&&A<=this.linkService.pagesCount}_isValidState(A){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!A)return!1;if(A.fingerprint!==this._fingerprint)if(b){if(typeof A.fingerprint!="string"||A.fingerprint.length!==this._fingerprint.length)return!1;const[c]=performance.getEntriesByType("navigation");if((c==null?void 0:c.type)!=="reload")return!1}else return!1;return!(!Number.isInteger(A.uid)||A.uid<0||A.destination===null||typeof A.destination!="object")}_updateInternalState(A,b){let c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),c&&(A!=null&&A.temporary)&&delete A.temporary,this._destination=A,this._uid=b,this._maxUid=Math.max(this._maxUid,b),this._numPositionUpdates=0}_parseCurrentHash(){let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const b=unescape(s()).substring(1),c=(0,i.parseQueryString)(b),a=c.get("nameddest")||"";let x=c.get("page")|0;return(!this._isValidPage(x)||A&&a.length>0)&&(x=null),{hash:b,page:x,rotation:this.linkService.rotation}}_updateViewarea(A){let{location:b}=A;this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:b.pdfOpenParams.substring(1),page:this.linkService.page,first:b.pageNumber,rotation:b.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},d))}_popState(A){let{state:b}=A;const c=s(),a=this._currentHash!==c;if(this._currentHash=c,!b){this._uid++;const{hash:T,page:S,rotation:D}=this._parseCurrentHash();this._pushOrReplaceState({hash:T,page:S,rotation:D},!0);return}if(!this._isValidState(b))return;this._popStateInProgress=!0,a&&(this._blockHashChange++,(0,n.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:p}).then(()=>{this._blockHashChange--}));const x=b.destination;this._updateInternalState(x,b.uid,!0),(0,i.isValidRotation)(x.rotation)&&(this.linkService.rotation=x.rotation),x.dest?this.linkService.goToDestination(x.dest):x.hash?this.linkService.setHash(x.hash):x.page&&(this.linkService.page=x.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){this._boundEvents&&(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}m.PDFHistory=r;function o(v,A){return typeof v!="string"||typeof A!="string"?!1:v===A||(0,i.parseQueryString)(v).get("nameddest")===A}function g(v,A){function b(c,a){if(typeof c!=typeof a||Array.isArray(c)||Array.isArray(a))return!1;if(c!==null&&typeof c=="object"&&a!==null){if(Object.keys(c).length!==Object.keys(a).length)return!1;for(const x in c)if(!b(c[x],a[x]))return!1;return!0}return c===a||Number.isNaN(c)&&Number.isNaN(a)}if(!(Array.isArray(v)&&Array.isArray(A))||v.length!==A.length)return!1;for(let c=0,a=v.length;c<a;c++)if(!b(v[c],A[c]))return!1;return!0}},(f,m,t)=>{var T,S,D,I,$,Z,W,Q,he,Y,z,Gt,oe,Hn,Pe,Wn,P,zn,E,_n,O,_r,F,$r,ae,$n;Object.defineProperty(m,"__esModule",{value:!0}),m.PDFPageView=void 0,t(93),t(109);var i=t(107),n=t(97),p=t(132),h=t(124),d=t(133),s=t(125),r=t(108),o=t(134),g=t(135),v=t(136),A=t(137),b=t(138);const c=d.compatibilityParams.maxCanvasPixels||16777216,a=()=>({annotationEditorUIManager:null,annotationStorage:null,downloadManager:null,enableScripting:!1,fieldObjectsPromise:null,findController:null,hasJSActionsPromise:null,get linkService(){return new r.SimpleLinkService}});class x{constructor(ne){_(this,z);_(this,oe);_(this,Pe);_(this,P);_(this,E);_(this,O);_(this,F);_(this,ae);_(this,T,i.AnnotationMode.ENABLE_FORMS);_(this,S,!1);_(this,D,null);_(this,I,null);_(this,$,null);_(this,Z,null);_(this,W,n.RenderingStates.INITIAL);_(this,Q,n.TextLayerMode.ENABLE);_(this,he,{directDrawing:!0,initialOptionalContent:!0,regularAnnotations:!0});_(this,Y,new WeakMap);var Oe,Ie,Le,ue,ee;const me=ne.container,ve=ne.defaultViewport;this.id=ne.id,this.renderingId="page"+this.id,ce(this,D,ne.layerProperties||a),this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=ne.scale||n.DEFAULT_SCALE,this.viewport=ve,this.pdfPageRotate=ve.rotation,this._optionalContentConfigPromise=ne.optionalContentConfigPromise||null,ce(this,Q,(Oe=ne.textLayerMode)!=null?Oe:n.TextLayerMode.ENABLE),ce(this,T,(Ie=ne.annotationMode)!=null?Ie:i.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=ne.imageResourcesPath||"",this.isOffscreenCanvasSupported=(Le=ne.isOffscreenCanvasSupported)!=null?Le:!0,this.maxCanvasPixels=(ue=ne.maxCanvasPixels)!=null?ue:c,this.pageColors=ne.pageColors||null,this.eventBus=ne.eventBus,this.renderingQueue=ne.renderingQueue,this.l10n=ne.l10n||s.NullL10n,this.renderTask=null,this.resume=null,this._isStandalone=!((ee=this.renderingQueue)!=null&&ee.hasViewer()),this._container=me,ne.useOnlyCssZoom&&(console.error("useOnlyCssZoom was removed, please use `maxCanvasPixels = 0` instead."),this.maxCanvasPixels=0),this._annotationCanvasMap=null,this.annotationLayer=null,this.annotationEditorLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const Re=document.createElement("div");if(Re.className="page",Re.setAttribute("data-page-number",this.id),Re.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(le=>{Re.setAttribute("aria-label",le)}),this.div=Re,J(this,z,Gt).call(this),me==null||me.append(Re),this._isStandalone){me==null||me.style.setProperty("--scale-factor",this.scale*i.PixelsPerInch.PDF_TO_CSS_UNITS);const{optionalContentConfigPromise:le}=ne;le&&le.then(ge=>{le===this._optionalContentConfigPromise&&(l(this,he).initialOptionalContent=ge.hasInitialVisibility)})}}get renderingState(){return l(this,W)}set renderingState(ne){if(ne!==l(this,W))switch(ce(this,W,ne),l(this,I)&&(clearTimeout(l(this,I)),ce(this,I,null)),ne){case n.RenderingStates.PAUSED:this.div.classList.remove("loading");break;case n.RenderingStates.RUNNING:this.div.classList.add("loadingIcon"),ce(this,I,setTimeout(()=>{this.div.classList.add("loading"),ce(this,I,null)},0));break;case n.RenderingStates.INITIAL:case n.RenderingStates.FINISHED:this.div.classList.remove("loadingIcon","loading");break}}setPdfPage(ne){var ve,Re,Oe;this._isStandalone&&(((ve=this.pageColors)==null?void 0:ve.foreground)==="CanvasText"||((Re=this.pageColors)==null?void 0:Re.background)==="Canvas")&&((Oe=this._container)==null||Oe.style.setProperty("--hcm-highligh-filter",ne.filterFactory.addHighlightHCMFilter("CanvasText","Canvas","HighlightText","Highlight"))),this.pdfPage=ne,this.pdfPageRotate=ne.rotate;const me=(this.rotation+this.pdfPageRotate)%360;this.viewport=ne.getViewport({scale:this.scale*i.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:me}),J(this,z,Gt).call(this),this.reset()}destroy(){var ne;this.reset(),(ne=this.pdfPage)==null||ne.cleanup()}get _textHighlighter(){return(0,i.shadow)(this,"_textHighlighter",new v.TextHighlighter({pageIndex:this.id-1,eventBus:this.eventBus,findController:l(this,D).call(this).findController}))}_resetZoomLayer(){let ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.zoomLayer)return;const me=this.zoomLayer.firstChild;l(this,Y).delete(me),me.width=0,me.height=0,ne&&this.zoomLayer.remove(),this.zoomLayer=null}reset(){var Me,He,We,_e,ze;let{keepZoomLayer:ne=!1,keepAnnotationLayer:me=!1,keepAnnotationEditorLayer:ve=!1,keepXfaLayer:Re=!1,keepTextLayer:Oe=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.cancelRendering({keepAnnotationLayer:me,keepAnnotationEditorLayer:ve,keepXfaLayer:Re,keepTextLayer:Oe}),this.renderingState=n.RenderingStates.INITIAL;const Ie=this.div,Le=Ie.childNodes,ue=ne&&this.zoomLayer||null,ee=me&&((Me=this.annotationLayer)==null?void 0:Me.div)||null,le=ve&&((He=this.annotationEditorLayer)==null?void 0:He.div)||null,ge=Re&&((We=this.xfaLayer)==null?void 0:We.div)||null,Ce=Oe&&((_e=this.textLayer)==null?void 0:_e.div)||null;for(let Ye=Le.length-1;Ye>=0;Ye--){const Je=Le[Ye];switch(Je){case ue:case ee:case le:case ge:case Ce:continue}Je.remove()}Ie.removeAttribute("data-loaded"),ee&&this.annotationLayer.hide(),le&&this.annotationEditorLayer.hide(),ge&&this.xfaLayer.hide(),Ce&&this.textLayer.hide(),(ze=this.structTreeLayer)==null||ze.hide(),ue||(this.canvas&&(l(this,Y).delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer())}update(ne){var Le;let{scale:me=0,rotation:ve=null,optionalContentConfigPromise:Re=null,drawingDelay:Oe=-1}=ne;this.scale=me||this.scale,typeof ve=="number"&&(this.rotation=ve),Re instanceof Promise&&(this._optionalContentConfigPromise=Re,Re.then(ue=>{Re===this._optionalContentConfigPromise&&(l(this,he).initialOptionalContent=ue.hasInitialVisibility)})),l(this,he).directDrawing=!0;const Ie=(this.rotation+this.pdfPageRotate)%360;if(this.viewport=this.viewport.clone({scale:this.scale*i.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:Ie}),J(this,z,Gt).call(this),this._isStandalone&&((Le=this._container)==null||Le.style.setProperty("--scale-factor",this.viewport.scale)),this.canvas){let ue=!1;if(l(this,S)){if(this.maxCanvasPixels===0)ue=!0;else if(this.maxCanvasPixels>0){const{width:le,height:ge}=this.viewport,{sx:Ce,sy:Me}=this.outputScale;ue=(Math.floor(le)*Ce|0)*(Math.floor(ge)*Me|0)>this.maxCanvasPixels}}const ee=!ue&&Oe>=0&&Oe<1e3;if(ee||ue){if(ee&&this.renderingState!==n.RenderingStates.FINISHED&&(this.cancelRendering({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0,cancelExtraDelay:Oe}),this.renderingState=n.RenderingStates.FINISHED,l(this,he).directDrawing=!1),this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0,redrawTextLayer:!ee,hideTextLayer:ee}),ee)return;this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:l(this,Z)});return}!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0})}cancelRendering(){var Ie;let{keepAnnotationLayer:ne=!1,keepAnnotationEditorLayer:me=!1,keepXfaLayer:ve=!1,keepTextLayer:Re=!1,cancelExtraDelay:Oe=0}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.renderTask&&(this.renderTask.cancel(Oe),this.renderTask=null),this.resume=null,this.textLayer&&(!Re||!this.textLayer.div)&&(this.textLayer.cancel(),this.textLayer=null),this.structTreeLayer&&!this.textLayer&&(this.structTreeLayer=null),this.annotationLayer&&(!ne||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.annotationEditorLayer&&(!me||!this.annotationEditorLayer.div)&&(this.annotationEditorLayer.cancel(),this.annotationEditorLayer=null),this.xfaLayer&&(!ve||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,(Ie=this._textHighlighter)==null||Ie.disable())}cssTransform(ne){var ee;let{target:me,redrawAnnotationLayer:ve=!1,redrawAnnotationEditorLayer:Re=!1,redrawXfaLayer:Oe=!1,redrawTextLayer:Ie=!1,hideTextLayer:Le=!1}=ne;if(!me.hasAttribute("zooming")){me.setAttribute("zooming",!0);const{style:le}=me;le.width=le.height=""}const ue=l(this,Y).get(me);if(this.viewport!==ue){const le=this.viewport.rotation-ue.rotation,ge=Math.abs(le);let Ce=1,Me=1;if(ge===90||ge===270){const{width:He,height:We}=this.viewport;Ce=We/He,Me=He/We}me.style.transform="rotate(".concat(le,"deg) scale(").concat(Ce,", ").concat(Me,")")}ve&&this.annotationLayer&&J(this,oe,Hn).call(this),Re&&this.annotationEditorLayer&&J(this,Pe,Wn).call(this),Oe&&this.xfaLayer&&J(this,P,zn).call(this),this.textLayer&&(Le?(this.textLayer.hide(),(ee=this.structTreeLayer)==null||ee.hide()):Ie&&J(this,E,_n).call(this))}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(ne,me){return this.viewport.convertToPdfPoint(ne,me)}async draw(){this.renderingState!==n.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:ne,l10n:me,pageColors:ve,pdfPage:Re,viewport:Oe}=this;if(!Re)throw this.renderingState=n.RenderingStates.FINISHED,new Error("pdfPage is not loaded");this.renderingState=n.RenderingStates.RUNNING;const Ie=document.createElement("div");if(Ie.classList.add("canvasWrapper"),ne.append(Ie),!this.textLayer&&l(this,Q)!==n.TextLayerMode.DISABLE&&!Re.isPureXfa&&(this._accessibilityManager||(this._accessibilityManager=new g.TextAccessibilityManager),this.textLayer=new A.TextLayerBuilder({highlighter:this._textHighlighter,accessibilityManager:this._accessibilityManager,isOffscreenCanvasSupported:this.isOffscreenCanvasSupported,enablePermissions:l(this,Q)===n.TextLayerMode.ENABLE_PERMISSIONS}),ne.append(this.textLayer.div)),!this.annotationLayer&&l(this,T)!==i.AnnotationMode.DISABLE){const{annotationStorage:V,downloadManager:H,enableScripting:X,fieldObjectsPromise:de,hasJSActionsPromise:Se,linkService:K}=l(this,D).call(this);this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer=new h.AnnotationLayerBuilder({pageDiv:ne,pdfPage:Re,annotationStorage:V,imageResourcesPath:this.imageResourcesPath,renderForms:l(this,T)===i.AnnotationMode.ENABLE_FORMS,linkService:K,downloadManager:H,l10n:me,enableScripting:X,hasJSActionsPromise:Se,fieldObjectsPromise:de,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager})}const Le=V=>{if(Ce==null||Ce(!1),this.renderingQueue&&!this.renderingQueue.isHighestPriority(this)){this.renderingState=n.RenderingStates.PAUSED,this.resume=()=>{this.renderingState=n.RenderingStates.RUNNING,V()};return}V()},{width:ue,height:ee}=Oe,le=document.createElement("canvas");le.setAttribute("role","presentation"),le.hidden=!0;const ge=!!(ve!=null&&ve.background&&(ve!=null&&ve.foreground));let Ce=V=>{(!ge||V)&&(le.hidden=!1,Ce=null)};Ie.append(le),this.canvas=le;const Me=le.getContext("2d",{alpha:!1}),He=this.outputScale=new n.OutputScale;if(this.maxCanvasPixels===0){const V=1/this.scale;He.sx*=V,He.sy*=V,ce(this,S,!0)}else if(this.maxCanvasPixels>0){const V=ue*ee,H=Math.sqrt(this.maxCanvasPixels/V);He.sx>H||He.sy>H?(He.sx=H,He.sy=H,ce(this,S,!0)):ce(this,S,!1)}const We=(0,n.approximateFraction)(He.sx),_e=(0,n.approximateFraction)(He.sy);le.width=(0,n.roundToDivide)(ue*He.sx,We[0]),le.height=(0,n.roundToDivide)(ee*He.sy,_e[0]);const{style:ze}=le;ze.width=(0,n.roundToDivide)(ue,We[1])+"px",ze.height=(0,n.roundToDivide)(ee,_e[1])+"px",l(this,Y).set(le,Oe);const Ye=He.scaled?[He.sx,0,0,He.sy,0,0]:null,Je={canvasContext:Me,transform:Ye,viewport:Oe,annotationMode:l(this,T),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:ve},Ze=this.renderTask=this.pdfPage.render(Je);Ze.onContinue=Le;const Xe=Ze.promise.then(async()=>{var V;if(Ce==null||Ce(!0),await J(this,ae,$n).call(this,Ze),J(this,E,_n).call(this),this.annotationLayer&&await J(this,oe,Hn).call(this),!this.annotationEditorLayer){const{annotationEditorUIManager:H}=l(this,D).call(this);if(!H)return;this.annotationEditorLayer=new p.AnnotationEditorLayerBuilder({uiManager:H,pageDiv:ne,pdfPage:Re,l10n:me,accessibilityManager:this._accessibilityManager,annotationLayer:(V=this.annotationLayer)==null?void 0:V.annotationLayer})}J(this,Pe,Wn).call(this)},V=>(V instanceof i.RenderingCancelledException||Ce==null||Ce(!0),J(this,ae,$n).call(this,Ze,V)));if(Re.isPureXfa){if(this.xfaLayer)this.xfaLayer.div&&ne.append(this.xfaLayer.div);else{const{annotationStorage:V,linkService:H}=l(this,D).call(this);this.xfaLayer=new b.XfaLayerBuilder({pageDiv:ne,pdfPage:Re,annotationStorage:V,linkService:H})}J(this,P,zn).call(this)}return ne.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),Xe}setPageLabel(ne){this.pageLabel=typeof ne=="string"?ne:null,this.pageLabel!==null?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}get thumbnailCanvas(){const{directDrawing:ne,initialOptionalContent:me,regularAnnotations:ve}=l(this,he);return ne&&me&&ve?this.canvas:null}}T=new WeakMap,S=new WeakMap,D=new WeakMap,I=new WeakMap,$=new WeakMap,Z=new WeakMap,W=new WeakMap,Q=new WeakMap,he=new WeakMap,Y=new WeakMap,z=new WeakSet,Gt=function(){const{viewport:ne}=this;if(this.pdfPage){if(l(this,$)===ne.rotation)return;ce(this,$,ne.rotation)}(0,i.setLayerDimensions)(this.div,ne,!0,!1)},oe=new WeakSet,Hn=async function(){let ne=null;try{await this.annotationLayer.render(this.viewport,"display")}catch(me){console.error('#renderAnnotationLayer: "'.concat(me,'".')),ne=me}finally{this.eventBus.dispatch("annotationlayerrendered",{source:this,pageNumber:this.id,error:ne})}},Pe=new WeakSet,Wn=async function(){let ne=null;try{await this.annotationEditorLayer.render(this.viewport,"display")}catch(me){console.error('#renderAnnotationEditorLayer: "'.concat(me,'".')),ne=me}finally{this.eventBus.dispatch("annotationeditorlayerrendered",{source:this,pageNumber:this.id,error:ne})}},P=new WeakSet,zn=async function(){let ne=null;try{const me=await this.xfaLayer.render(this.viewport,"display");me!=null&&me.textDivs&&this._textHighlighter&&J(this,F,$r).call(this,me.textDivs)}catch(me){console.error('#renderXfaLayer: "'.concat(me,'".')),ne=me}finally{this.eventBus.dispatch("xfalayerrendered",{source:this,pageNumber:this.id,error:ne})}},E=new WeakSet,_n=async function(){const{pdfPage:ne,textLayer:me,viewport:ve}=this;if(!me)return;let Re=null;try{if(!me.renderingDone){const Oe=ne.streamTextContent({includeMarkedContent:!0,disableNormalization:!0});me.setTextContentSource(Oe)}await me.render(ve)}catch(Oe){if(Oe instanceof i.AbortException)return;console.error('#renderTextLayer: "'.concat(Oe,'".')),Re=Oe}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.id,numTextDivs:me.numTextDivs,error:Re}),J(this,O,_r).call(this)},O=new WeakSet,_r=async function(){var ve,Re,Oe;if(!this.textLayer)return;this.structTreeLayer||(this.structTreeLayer=new o.StructTreeLayerBuilder);const ne=await(this.structTreeLayer.renderingDone?null:this.pdfPage.getStructTree()),me=(ve=this.structTreeLayer)==null?void 0:ve.render(ne);me&&((Re=this.canvas)==null||Re.append(me)),(Oe=this.structTreeLayer)==null||Oe.show()},F=new WeakSet,$r=async function(ne){const me=await this.pdfPage.getTextContent(),ve=[];for(const Re of me.items)ve.push(Re.str);this._textHighlighter.setTextMapping(ne,ve),this._textHighlighter.enable()},ae=new WeakSet,$n=async function(ne){let me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(ne===this.renderTask&&(this.renderTask=null),me instanceof i.RenderingCancelledException){ce(this,Z,null);return}if(ce(this,Z,me),this.renderingState=n.RenderingStates.FINISHED,this._resetZoomLayer(!0),l(this,he).regularAnnotations=!ne.separateAnnots,this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!1,timestamp:performance.now(),error:l(this,Z)}),me)throw me},m.PDFPageView=x},(f,m,t)=>{var h,d;Object.defineProperty(m,"__esModule",{value:!0}),m.AnnotationEditorLayerBuilder=void 0;var i=t(107),n=t(125);class p{constructor(r){_(this,h,null);_(this,d,void 0);this.pageDiv=r.pageDiv,this.pdfPage=r.pdfPage,this.accessibilityManager=r.accessibilityManager,this.l10n=r.l10n||n.NullL10n,this.annotationEditorLayer=null,this.div=null,this._cancelled=!1,ce(this,d,r.uiManager),ce(this,h,r.annotationLayer||null)}async render(r){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"display";if(o!=="display"||this._cancelled)return;const g=r.clone({dontFlip:!0});if(this.div){this.annotationEditorLayer.update({viewport:g}),this.show();return}const v=this.div=document.createElement("div");v.className="annotationEditorLayer",v.tabIndex=0,v.hidden=!0,v.dir=l(this,d).direction,this.pageDiv.append(v),this.annotationEditorLayer=new i.AnnotationEditorLayer({uiManager:l(this,d),div:v,accessibilityManager:this.accessibilityManager,pageIndex:this.pdfPage.pageNumber-1,l10n:this.l10n,viewport:g,annotationLayer:l(this,h)});const A={viewport:g,div:v,annotations:null,intent:o};this.annotationEditorLayer.render(A),this.show()}cancel(){this._cancelled=!0,this.div&&(this.pageDiv=null,this.annotationEditorLayer.destroy(),this.div.remove())}hide(){this.div&&(this.div.hidden=!0)}show(){!this.div||this.annotationEditorLayer.isEmpty||(this.div.hidden=!1)}}h=new WeakMap,d=new WeakMap,m.AnnotationEditorLayerBuilder=p},(f,m,t)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.compatibilityParams=m.OptionKind=m.AppOptions=void 0,t(109);const i=Object.create(null);m.compatibilityParams=i;{const s=navigator.userAgent||"",r=navigator.platform||"",o=navigator.maxTouchPoints||1,g=/Android/.test(s),v=/\b(iPad|iPhone|iPod)(?=;)/.test(s)||r==="MacIntel"&&o>1;(function(){(v||g)&&(i.maxCanvasPixels=5242880)})()}const n={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};m.OptionKind=n;const p={annotationEditorMode:{value:0,kind:n.VIEWER+n.PREFERENCE},annotationMode:{value:2,kind:n.VIEWER+n.PREFERENCE},cursorToolOnLoad:{value:0,kind:n.VIEWER+n.PREFERENCE},defaultZoomDelay:{value:400,kind:n.VIEWER+n.PREFERENCE},defaultZoomValue:{value:"",kind:n.VIEWER+n.PREFERENCE},disableHistory:{value:!1,kind:n.VIEWER},disablePageLabels:{value:!1,kind:n.VIEWER+n.PREFERENCE},enablePermissions:{value:!1,kind:n.VIEWER+n.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:n.VIEWER+n.PREFERENCE},enableScripting:{value:!0,kind:n.VIEWER+n.PREFERENCE},enableStampEditor:{value:!0,kind:n.VIEWER+n.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:n.VIEWER},externalLinkTarget:{value:0,kind:n.VIEWER+n.PREFERENCE},historyUpdateUrl:{value:!1,kind:n.VIEWER+n.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:n.VIEWER+n.PREFERENCE},imageResourcesPath:{value:"./images/",kind:n.VIEWER},maxCanvasPixels:{value:16777216,kind:n.VIEWER},forcePageColors:{value:!1,kind:n.VIEWER+n.PREFERENCE},pageColorsBackground:{value:"Canvas",kind:n.VIEWER+n.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:n.VIEWER+n.PREFERENCE},pdfBugEnabled:{value:!1,kind:n.VIEWER+n.PREFERENCE},printResolution:{value:150,kind:n.VIEWER},sidebarViewOnLoad:{value:-1,kind:n.VIEWER+n.PREFERENCE},scrollModeOnLoad:{value:-1,kind:n.VIEWER+n.PREFERENCE},spreadModeOnLoad:{value:-1,kind:n.VIEWER+n.PREFERENCE},textLayerMode:{value:1,kind:n.VIEWER+n.PREFERENCE},viewerCssTheme:{value:0,kind:n.VIEWER+n.PREFERENCE},viewOnLoad:{value:0,kind:n.VIEWER+n.PREFERENCE},cMapPacked:{value:!0,kind:n.API},cMapUrl:{value:"../web/cmaps/",kind:n.API},disableAutoFetch:{value:!1,kind:n.API+n.PREFERENCE},disableFontFace:{value:!1,kind:n.API+n.PREFERENCE},disableRange:{value:!1,kind:n.API+n.PREFERENCE},disableStream:{value:!1,kind:n.API+n.PREFERENCE},docBaseUrl:{value:"",kind:n.API},enableXfa:{value:!0,kind:n.API+n.PREFERENCE},fontExtraProperties:{value:!1,kind:n.API},isEvalSupported:{value:!0,kind:n.API},isOffscreenCanvasSupported:{value:!0,kind:n.API},maxImageSize:{value:-1,kind:n.API},pdfBug:{value:!1,kind:n.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:n.API},verbosity:{value:1,kind:n.API},workerPort:{value:null,kind:n.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:n.WORKER}};p.defaultUrl={value:"compressed.tracemonkey-pldi-09.pdf",kind:n.VIEWER},p.disablePreferences={value:!1,kind:n.VIEWER},p.locale={value:navigator.language||"en-US",kind:n.VIEWER},p.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:n.VIEWER};const h=Object.create(null);class d{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(r){var v;const o=h[r];if(o!==void 0)return o;const g=p[r];if(g!==void 0)return(v=i[r])!=null?v:g.value}static getAll(){var g;let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;const o=Object.create(null);for(const v in p){const A=p[v];if(r){if(!(r&A.kind))continue;if(r===n.PREFERENCE){const c=A.value,a=typeof c;if(a==="boolean"||a==="string"||a==="number"&&Number.isInteger(c)){o[v]=c;continue}throw new Error("Invalid type for preference: ".concat(v))}}const b=h[v];o[v]=b!==void 0?b:(g=i[v])!=null?g:A.value}return o}static set(r,o){h[r]=o}static setAll(r){for(const o in r)h[o]=r[o]}static remove(r){delete h[r]}}m.AppOptions=d,d._hasUserOptions=function(){return Object.keys(h).length>0}},(f,m,t)=>{var d,s,Gn,o,Xn;Object.defineProperty(m,"__esModule",{value:!0}),m.StructTreeLayerBuilder=void 0;var i=t(97);const n={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},p=/^H(\d+)$/;class h{constructor(){_(this,s);_(this,o);_(this,d,void 0)}get renderingDone(){return l(this,d)!==void 0}render(A){if(l(this,d)!==void 0)return l(this,d);const b=J(this,o,Xn).call(this,A);return b==null||b.classList.add("structTree"),ce(this,d,b)}hide(){l(this,d)&&!l(this,d).hidden&&(l(this,d).hidden=!0)}show(){var A;(A=l(this,d))!=null&&A.hidden&&(l(this,d).hidden=!1)}}d=new WeakMap,s=new WeakSet,Gn=function(A,b){const{alt:c,id:a,lang:x}=A;c!==void 0&&b.setAttribute("aria-label",(0,i.removeNullCharacters)(c)),a!==void 0&&b.setAttribute("aria-owns",a),x!==void 0&&b.setAttribute("lang",(0,i.removeNullCharacters)(x,!0))},o=new WeakSet,Xn=function(A){if(!A)return null;const b=document.createElement("span");if("role"in A){const{role:c}=A,a=c.match(p);a?(b.setAttribute("role","heading"),b.setAttribute("aria-level",a[1])):n[c]&&b.setAttribute("role",n[c])}if(J(this,s,Gn).call(this,A,b),A.children)if(A.children.length===1&&"id"in A.children[0])J(this,s,Gn).call(this,A.children[0],b);else for(const c of A.children)b.append(J(this,o,Xn).call(this,c));return b},m.StructTreeLayerBuilder=h},(f,m,t)=>{var p,h,d,s,r,Xt,g,Kn;Object.defineProperty(m,"__esModule",{value:!0}),m.TextAccessibilityManager=void 0,t(109);var i=t(97);const A=class A{constructor(){_(this,g);_(this,p,!1);_(this,h,null);_(this,d,new Map);_(this,s,new Map)}setTextMapping(c){ce(this,h,c)}enable(){if(l(this,p))throw new Error("TextAccessibilityManager is already enabled.");if(!l(this,h))throw new Error("Text divs and strings have not been set.");if(ce(this,p,!0),ce(this,h,l(this,h).slice()),l(this,h).sort(J(A,r,Xt)),l(this,d).size>0){const c=l(this,h);for(const[a,x]of l(this,d)){if(!document.getElementById(a)){l(this,d).delete(a);continue}J(this,g,Kn).call(this,a,c[x])}}for(const[c,a]of l(this,s))this.addPointerInTextLayer(c,a);l(this,s).clear()}disable(){l(this,p)&&(l(this,s).clear(),ce(this,h,null),ce(this,p,!1))}removePointerInTextLayer(c){if(!l(this,p)){l(this,s).delete(c);return}const a=l(this,h);if(!a||a.length===0)return;const{id:x}=c,T=l(this,d).get(x);if(T===void 0)return;const S=a[T];l(this,d).delete(x);let D=S.getAttribute("aria-owns");D!=null&&D.includes(x)&&(D=D.split(" ").filter(I=>I!==x).join(" "),D?S.setAttribute("aria-owns",D):(S.removeAttribute("aria-owns"),S.setAttribute("role","presentation")))}addPointerInTextLayer(c,a){const{id:x}=c;if(!x)return null;if(!l(this,p))return l(this,s).set(c,a),null;a&&this.removePointerInTextLayer(c);const T=l(this,h);if(!T||T.length===0)return null;const S=(0,i.binarySearchFirstItem)(T,Z=>{var W;return J(W=A,r,Xt).call(W,c,Z)<0}),D=Math.max(0,S-1),I=T[D];J(this,g,Kn).call(this,x,I),l(this,d).set(x,D);const $=I.parentNode;return $!=null&&$.classList.contains("markedContent")?$.id:null}moveElementInDOM(c,a,x,T){const S=this.addPointerInTextLayer(x,T);if(!c.hasChildNodes())return c.append(a),S;const D=Array.from(c.childNodes).filter(Z=>Z!==a);if(D.length===0)return S;const I=x||a,$=(0,i.binarySearchFirstItem)(D,Z=>{var W;return J(W=A,r,Xt).call(W,I,Z)<0});return $===0?D[0].before(a):D[$-1].after(a),S}};p=new WeakMap,h=new WeakMap,d=new WeakMap,s=new WeakMap,r=new WeakSet,Xt=function(c,a){const x=c.getBoundingClientRect(),T=a.getBoundingClientRect();if(x.width===0&&x.height===0)return 1;if(T.width===0&&T.height===0)return-1;const S=x.y,D=x.y+x.height,I=x.y+x.height/2,$=T.y,Z=T.y+T.height,W=T.y+T.height/2;if(I<=$&&W>=D)return-1;if(W<=S&&I>=Z)return 1;const Q=x.x+x.width/2,he=T.x+T.width/2;return Q-he},g=new WeakSet,Kn=function(c,a){const x=a.getAttribute("aria-owns");x!=null&&x.includes(c)||a.setAttribute("aria-owns",x?"".concat(x," ").concat(c):c),a.removeAttribute("role")},_(A,r);let n=A;m.TextAccessibilityManager=n},(f,m,t)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.TextHighlighter=void 0,t(109),t(93);class i{constructor(p){let{findController:h,eventBus:d,pageIndex:s}=p;this.findController=h,this.matches=[],this.eventBus=d,this.pageIdx=s,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(p,h){this.textDivs=p,this.textContentItemsStr=h}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=p=>{(p.pageIndex===this.pageIdx||p.pageIndex===-1)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){this.enabled&&(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null),this._updateMatches(!0))}_convertMatches(p,h){if(!p)return[];const{textContentItemsStr:d}=this;let s=0,r=0;const o=d.length-1,g=[];for(let v=0,A=p.length;v<A;v++){let b=p[v];for(;s!==o&&b>=r+d[s].length;)r+=d[s].length,s++;s===d.length&&console.error("Could not find a matching mapping");const c={begin:{divIdx:s,offset:b-r}};for(b+=h[v];s!==o&&b>r+d[s].length;)r+=d[s].length,s++;c.end={divIdx:s,offset:b-r},g.push(c)}return g}_renderMatches(p){if(p.length===0)return;const{findController:h,pageIdx:d}=this,{textContentItemsStr:s,textDivs:r}=this,o=d===h.selected.pageIdx,g=h.selected.matchIdx,v=h.state.highlightAll;let A=null;const b={divIdx:-1,offset:void 0};function c(I,$){const Z=I.divIdx;return r[Z].textContent="",a(Z,0,I.offset,$)}function a(I,$,Z,W){let Q=r[I];if(Q.nodeType===Node.TEXT_NODE){const z=document.createElement("span");Q.before(z),z.append(Q),r[I]=z,Q=z}const he=s[I].substring($,Z),Y=document.createTextNode(he);if(W){const z=document.createElement("span");return z.className="".concat(W," appended"),z.append(Y),Q.append(z),W.includes("selected")?z.offsetLeft:0}return Q.append(Y),0}let x=g,T=x+1;if(v)x=0,T=p.length;else if(!o)return;let S=-1,D=-1;for(let I=x;I<T;I++){const $=p[I],Z=$.begin;if(Z.divIdx===S&&Z.offset===D)continue;S=Z.divIdx,D=Z.offset;const W=$.end,Q=o&&I===g,he=Q?" selected":"";let Y=0;if(!A||Z.divIdx!==A.divIdx?(A!==null&&a(A.divIdx,A.offset,b.offset),c(Z)):a(A.divIdx,A.offset,Z.offset),Z.divIdx===W.divIdx)Y=a(Z.divIdx,Z.offset,W.offset,"highlight"+he);else{Y=a(Z.divIdx,Z.offset,b.offset,"highlight begin"+he);for(let z=Z.divIdx+1,te=W.divIdx;z<te;z++)r[z].className="highlight middle"+he;c(W,"highlight end"+he)}A=W,Q&&h.scrollMatchIntoView({element:r[Z.divIdx],selectedLeft:Y,pageIndex:d,matchIndex:g})}A&&a(A.divIdx,A.offset,b.offset)}_updateMatches(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.enabled&&!p)return;const{findController:h,matches:d,pageIdx:s}=this,{textContentItemsStr:r,textDivs:o}=this;let g=-1;for(const b of d){const c=Math.max(g,b.begin.divIdx);for(let a=c,x=b.end.divIdx;a<=x;a++){const T=o[a];T.textContent=r[a],T.className=""}g=b.end.divIdx+1}if(!(h!=null&&h.highlightMatches)||p)return;const v=h.pageMatches[s]||null,A=h.pageMatchesLength[s]||null;this.matches=this._convertMatches(v,A),this._renderMatches(this.matches)}}m.TextHighlighter=i},(f,m,t)=>{var h,d,s,r,o,Gr,v,Xr;Object.defineProperty(m,"__esModule",{value:!0}),m.TextLayerBuilder=void 0,t(109);var i=t(107),n=t(97);class p{constructor(c){_(this,o);_(this,v);_(this,h,!1);_(this,d,0);_(this,s,0);_(this,r,null);let{highlighter:a=null,accessibilityManager:x=null,isOffscreenCanvasSupported:T=!0,enablePermissions:S=!1}=c;this.textContentItemsStr=[],this.renderingDone=!1,this.textDivs=[],this.textDivProperties=new WeakMap,this.textLayerRenderTask=null,this.highlighter=a,this.accessibilityManager=x,this.isOffscreenCanvasSupported=T,ce(this,h,S===!0),this.div=document.createElement("div"),this.div.className="textLayer",this.hide()}get numTextDivs(){return this.textDivs.length}async render(c){var T,S,D;if(!l(this,r))throw new Error('No "textContentSource" parameter specified.');const a=c.scale*(globalThis.devicePixelRatio||1),{rotation:x}=c;if(this.renderingDone){const I=x!==l(this,d),$=a!==l(this,s);(I||$)&&(this.hide(),(0,i.updateTextLayer)({container:this.div,viewport:c,textDivs:this.textDivs,textDivProperties:this.textDivProperties,isOffscreenCanvasSupported:this.isOffscreenCanvasSupported,mustRescale:$,mustRotate:I}),ce(this,s,a),ce(this,d,x)),this.show();return}this.cancel(),(T=this.highlighter)==null||T.setTextMapping(this.textDivs,this.textContentItemsStr),(S=this.accessibilityManager)==null||S.setTextMapping(this.textDivs),this.textLayerRenderTask=(0,i.renderTextLayer)({textContentSource:l(this,r),container:this.div,viewport:c,textDivs:this.textDivs,textDivProperties:this.textDivProperties,textContentItemsStr:this.textContentItemsStr,isOffscreenCanvasSupported:this.isOffscreenCanvasSupported}),await this.textLayerRenderTask.promise,J(this,o,Gr).call(this),ce(this,s,a),ce(this,d,x),this.show(),(D=this.accessibilityManager)==null||D.enable()}hide(){var c;this.div.hidden||((c=this.highlighter)==null||c.disable(),this.div.hidden=!0)}show(){var c;this.div.hidden&&this.renderingDone&&(this.div.hidden=!1,(c=this.highlighter)==null||c.enable())}cancel(){var c,a;this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),(c=this.highlighter)==null||c.disable(),(a=this.accessibilityManager)==null||a.disable(),this.textContentItemsStr.length=0,this.textDivs.length=0,this.textDivProperties=new WeakMap}setTextContentSource(c){this.cancel(),ce(this,r,c)}}h=new WeakMap,d=new WeakMap,s=new WeakMap,r=new WeakMap,o=new WeakSet,Gr=function(){this.renderingDone=!0;const c=document.createElement("div");c.className="endOfContent",this.div.append(c),J(this,v,Xr).call(this)},v=new WeakSet,Xr=function(){const{div:c}=this;c.addEventListener("mousedown",a=>{const x=c.querySelector(".endOfContent");if(!x)return;let T=a.target!==c;if(T&&(T=getComputedStyle(x).getPropertyValue("-moz-user-select")!=="none"),T){const S=c.getBoundingClientRect(),D=Math.max(0,(a.pageY-S.top)/S.height);x.style.top=(D*100).toFixed(2)+"%"}x.classList.add("active")}),c.addEventListener("mouseup",()=>{const a=c.querySelector(".endOfContent");a&&(a.style.top="",a.classList.remove("active"))}),c.addEventListener("copy",a=>{if(!l(this,h)){const x=document.getSelection();a.clipboardData.setData("text/plain",(0,n.removeNullCharacters)((0,i.normalizeUnicode)(x.toString())))}a.preventDefault(),a.stopPropagation()})},m.TextLayerBuilder=p},(f,m,t)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.XfaLayerBuilder=void 0;var i=t(107);class n{constructor(h){let{pageDiv:d,pdfPage:s,annotationStorage:r=null,linkService:o,xfaHtml:g=null}=h;this.pageDiv=d,this.pdfPage=s,this.annotationStorage=r,this.linkService=o,this.xfaHtml=g,this.div=null,this._cancelled=!1}async render(h){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"display";if(d==="print"){const o={viewport:h.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:d},g=document.createElement("div");return this.pageDiv.append(g),o.div=g,i.XfaLayer.render(o)}const s=await this.pdfPage.getXfa();if(this._cancelled||!s)return{textDivs:[]};const r={viewport:h.clone({dontFlip:!0}),div:this.div,xfaHtml:s,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:d};return this.div?i.XfaLayer.update(r):(this.div=document.createElement("div"),this.pageDiv.append(this.div),r.div=this.div,i.XfaLayer.render(r))}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}m.XfaLayerBuilder=n},(f,m,t)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.PDFScriptingManager=void 0;var i=t(140),n=t(141);class p extends n.PDFScriptingManager{constructor(d){d.externalServices||window.addEventListener("updatefromsandbox",s=>{d.eventBus.dispatch("updatefromsandbox",{source:window,detail:s.detail})}),d.externalServices||(d.externalServices={createScripting:s=>{let{sandboxBundleSrc:r}=s;return new i.GenericScripting(r)}}),d.docProperties||(d.docProperties=s=>(0,i.docProperties)(s)),super(d)}}m.PDFScriptingManager=p},(f,m,t)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.GenericScripting=void 0,m.docProperties=n;var i=t(107);async function n(h){const d="",s=d.split("#")[0];let{info:r,metadata:o,contentDispositionFilename:g,contentLength:v}=await h.getMetadata();if(!v){const{length:A}=await h.getDownloadInfo();v=A}return{...r,baseURL:s,filesize:v,filename:g||(0,i.getPdfFilenameFromUrl)(d),metadata:o==null?void 0:o.getRaw(),authors:o==null?void 0:o.get("dc:creator"),numPages:h.numPages,URL:d}}class p{constructor(d){this._ready=(0,i.loadScript)(d,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}async createSandbox(d){(await this._ready).create(d)}async dispatchEventInSandbox(d){const s=await this._ready;setTimeout(()=>s.dispatchEvent(d),0)}async destroySandbox(){(await this._ready).nukeSandbox()}}m.GenericScripting=p},(f,m,t)=>{var h,d,s,r,o,g,v,A,b,c,a,x,Kr,S,Kt,I,Yn,Z,Yr,Q,wt;Object.defineProperty(m,"__esModule",{value:!0}),m.PDFScriptingManager=void 0,t(2),t(80),t(82),t(85),t(87),t(89),t(91),t(109);var i=t(97),n=t(107);class p{constructor(z){_(this,x);_(this,S);_(this,I);_(this,Z);_(this,Q);_(this,h,null);_(this,d,null);_(this,s,null);_(this,r,null);_(this,o,null);_(this,g,null);_(this,v,null);_(this,A,!1);_(this,b,null);_(this,c,null);_(this,a,null);let{eventBus:te,sandboxBundleSrc:oe=null,externalServices:ye=null,docProperties:Pe=null}=z;ce(this,r,te),ce(this,b,oe),ce(this,o,ye),ce(this,s,Pe)}setViewer(z){ce(this,v,z)}async setDocument(z){var Pe;if(l(this,g)&&await J(this,Q,wt).call(this),ce(this,g,z),!z)return;const[te,oe,ye]=await Promise.all([z.getFieldObjects(),z.getCalculationOrderIds(),z.getJSActions()]);if(!te&&!ye){await J(this,Q,wt).call(this);return}if(z===l(this,g)){try{ce(this,c,J(this,Z,Yr).call(this))}catch(L){console.error('setDocument: "'.concat(L.message,'".')),await J(this,Q,wt).call(this);return}this._internalEvents.set("updatefromsandbox",L=>{(L==null?void 0:L.source)===window&&J(this,x,Kr).call(this,L.detail)}),this._internalEvents.set("dispatcheventinsandbox",L=>{var P;(P=l(this,c))==null||P.dispatchEventInSandbox(L.detail)}),this._internalEvents.set("pagechanging",L=>{let{pageNumber:P,previous:M}=L;P!==M&&(J(this,I,Yn).call(this,M),J(this,S,Kt).call(this,P))}),this._internalEvents.set("pagerendered",L=>{let{pageNumber:P}=L;this._pageOpenPending.has(P)&&P===l(this,v).currentPageNumber&&J(this,S,Kt).call(this,P)}),this._internalEvents.set("pagesdestroy",async()=>{var L,P;await J(this,I,Yn).call(this,l(this,v).currentPageNumber),await((L=l(this,c))==null?void 0:L.dispatchEventInSandbox({id:"doc",name:"WillClose"})),(P=l(this,h))==null||P.resolve()});for(const[L,P]of this._internalEvents)l(this,r)._on(L,P);try{const L=await l(this,s).call(this,z);if(z!==l(this,g))return;await l(this,c).createSandbox({objects:te,calculationOrder:oe,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...L,actions:ye}}),l(this,r).dispatch("sandboxcreated",{source:this})}catch(L){console.error('setDocument: "'.concat(L.message,'".')),await J(this,Q,wt).call(this);return}await((Pe=l(this,c))==null?void 0:Pe.dispatchEventInSandbox({id:"doc",name:"Open"})),await J(this,S,Kt).call(this,l(this,v).currentPageNumber,!0),Promise.resolve().then(()=>{z===l(this,g)&&ce(this,A,!0)})}}async dispatchWillSave(){var z;return(z=l(this,c))==null?void 0:z.dispatchEventInSandbox({id:"doc",name:"WillSave"})}async dispatchDidSave(){var z;return(z=l(this,c))==null?void 0:z.dispatchEventInSandbox({id:"doc",name:"DidSave"})}async dispatchWillPrint(){var z;if(l(this,c)){await((z=l(this,a))==null?void 0:z.promise),ce(this,a,new n.PromiseCapability);try{await l(this,c).dispatchEventInSandbox({id:"doc",name:"WillPrint"})}catch(te){throw l(this,a).resolve(),ce(this,a,null),te}await l(this,a).promise}}async dispatchDidPrint(){var z;return(z=l(this,c))==null?void 0:z.dispatchEventInSandbox({id:"doc",name:"DidPrint"})}get destroyPromise(){var z;return((z=l(this,d))==null?void 0:z.promise)||null}get ready(){return l(this,A)}get _internalEvents(){return(0,n.shadow)(this,"_internalEvents",new Map)}get _pageOpenPending(){return(0,n.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,n.shadow)(this,"_visitedPages",new Map)}}h=new WeakMap,d=new WeakMap,s=new WeakMap,r=new WeakMap,o=new WeakMap,g=new WeakMap,v=new WeakMap,A=new WeakMap,b=new WeakMap,c=new WeakMap,a=new WeakMap,x=new WeakSet,Kr=async function(z){var E,R;const te=l(this,v),oe=te.isInPresentationMode||te.isChangingPresentationMode,{id:ye,siblings:Pe,command:L,value:P}=z;if(!ye){switch(L){case"clear":console.clear();break;case"error":console.error(P);break;case"layout":if(!oe){const O=(0,i.apiPageLayoutToViewerModes)(P);te.spreadMode=O.spreadMode}break;case"page-num":te.currentPageNumber=P+1;break;case"print":await te.pagesPromise,l(this,r).dispatch("print",{source:this});break;case"println":console.log(P);break;case"zoom":oe||(te.currentScaleValue=P);break;case"SaveAs":l(this,r).dispatch("download",{source:this});break;case"FirstPage":te.currentPageNumber=1;break;case"LastPage":te.currentPageNumber=te.pagesCount;break;case"NextPage":te.nextPage();break;case"PrevPage":te.previousPage();break;case"ZoomViewIn":oe||te.increaseScale();break;case"ZoomViewOut":oe||te.decreaseScale();break;case"WillPrintFinished":(E=l(this,a))==null||E.resolve(),ce(this,a,null);break}return}if(oe&&z.focus)return;delete z.id,delete z.siblings;const M=Pe?[ye,...Pe]:[ye];for(const O of M){const B=document.querySelector('[data-element-id="'.concat(O,'"]'));B?B.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:z})):(R=l(this,g))==null||R.annotationStorage.setValue(O,z)}},S=new WeakSet,Kt=async function(z){let te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const oe=l(this,g),ye=this._visitedPages;if(te&&ce(this,h,new n.PromiseCapability),!l(this,h))return;const Pe=l(this,v).getPageView(z-1);if((Pe==null?void 0:Pe.renderingState)!==i.RenderingStates.FINISHED){this._pageOpenPending.add(z);return}this._pageOpenPending.delete(z);const L=(async()=>{var M,E;const P=await(ye.has(z)?null:(M=Pe.pdfPage)==null?void 0:M.getJSActions());oe===l(this,g)&&await((E=l(this,c))==null?void 0:E.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:z,actions:P}))})();ye.set(z,L)},I=new WeakSet,Yn=async function(z){var Pe;const te=l(this,g),oe=this._visitedPages;if(!l(this,h)||this._pageOpenPending.has(z))return;const ye=oe.get(z);ye&&(oe.set(z,null),await ye,te===l(this,g)&&await((Pe=l(this,c))==null?void 0:Pe.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:z})))},Z=new WeakSet,Yr=function(){if(ce(this,d,new n.PromiseCapability),l(this,c))throw new Error("#initScripting: Scripting already exists.");return l(this,o).createScripting({sandboxBundleSrc:l(this,b)})},Q=new WeakSet,wt=async function(){var z,te,oe;if(!l(this,c)){ce(this,g,null),(z=l(this,d))==null||z.resolve();return}l(this,h)&&(await Promise.race([l(this,h).promise,new Promise(ye=>{setTimeout(ye,1e3)})]).catch(()=>{}),ce(this,h,null)),ce(this,g,null);try{await l(this,c).destroySandbox()}catch(ye){}(te=l(this,a))==null||te.reject(new Error("Scripting destroyed.")),ce(this,a,null);for(const[ye,Pe]of this._internalEvents)l(this,r)._off(ye,Pe);this._internalEvents.clear(),this._pageOpenPending.clear(),this._visitedPages.clear(),ce(this,c,null),ce(this,A,!1),(oe=l(this,d))==null||oe.resolve()},m.PDFScriptingManager=p},(f,m,t)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.PDFSinglePageViewer=void 0;var i=t(97),n=t(143);class p extends n.PDFViewer{_resetView(){super._resetView(),this._scrollMode=i.ScrollMode.PAGE,this._spreadMode=i.SpreadMode.NONE}set scrollMode(d){}_updateScrollMode(){}set spreadMode(d){}_updateSpreadMode(){}}m.PDFSinglePageViewer=p},(f,m,t)=>{var b,c,a,Jn,T,S,D,I,$,Z,W,Q,he,Y,z,te,oe,ye,Pe,L,P,M,Jr,R,Qr,B,Zr,j,jr,q,kt,ne,Yt,ve,qr,Oe,Qn,Le,ei,ee,ot,ge,Zn,Me,ti,We,ni,ze,jn,Je,ri;Object.defineProperty(m,"__esModule",{value:!0}),m.PagesCountLimit=m.PDFViewer=m.PDFPageViewBuffer=void 0,t(2),t(80),t(82),t(85),t(87),t(89),t(91),t(109),t(93);var i=t(107),n=t(97),p=t(125),h=t(131),d=t(144),s=t(108);const r=10,o={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};m.PagesCountLimit=o;function g(Xe){return Object.values(i.AnnotationEditorType).includes(Xe)&&Xe!==i.AnnotationEditorType.DISABLE}class v{constructor(V){_(this,a);_(this,b,new Set);_(this,c,0);ce(this,c,V)}push(V){const H=l(this,b);H.has(V)&&H.delete(V),H.add(V),H.size>l(this,c)&&J(this,a,Jn).call(this)}resize(V){let H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;ce(this,c,V);const X=l(this,b);if(H){const de=X.size;let Se=1;for(const K of X)if(H.has(K.id)&&(X.delete(K),X.add(K)),++Se>de)break}for(;X.size>l(this,c);)J(this,a,Jn).call(this)}has(V){return l(this,b).has(V)}[Symbol.iterator](){return l(this,b).keys()}}b=new WeakMap,c=new WeakMap,a=new WeakSet,Jn=function(){const V=l(this,b).keys().next().value;V==null||V.destroy(),l(this,b).delete(V)},m.PDFPageViewBuffer=v;class A{constructor(V){_(this,M);_(this,R);_(this,B);_(this,j);_(this,q);_(this,ne);_(this,ve);_(this,Oe);_(this,Le);_(this,ee);_(this,ge);_(this,Me);_(this,We);_(this,ze);_(this,Je);_(this,T,null);_(this,S,null);_(this,D,i.AnnotationEditorType.NONE);_(this,I,null);_(this,$,i.AnnotationMode.ENABLE_FORMS);_(this,Z,null);_(this,W,null);_(this,Q,!1);_(this,he,!1);_(this,Y,null);_(this,z,!1);_(this,te,0);_(this,oe,new ResizeObserver(J(this,Je,ri).bind(this)));_(this,ye,null);_(this,Pe,null);_(this,L,null);_(this,P,n.TextLayerMode.ENABLE);var X,de,Se,K,U,re;const H="3.11.174";if(i.version!==H)throw new Error('The API version "'.concat(i.version,'" does not match the Viewer version "').concat(H,'".'));if(this.container=V.container,this.viewer=V.viewer||V.container.firstElementChild,((X=this.container)==null?void 0:X.tagName)!=="DIV"||((de=this.viewer)==null?void 0:de.tagName)!=="DIV")throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&getComputedStyle(this.container).position!=="absolute")throw new Error("The `container` must be absolutely positioned.");l(this,oe).observe(this.container),this.eventBus=V.eventBus,this.linkService=V.linkService||new s.SimpleLinkService,this.downloadManager=V.downloadManager||null,this.findController=V.findController||null,ce(this,S,V.altTextManager||null),this.findController&&(this.findController.onIsPageVisible=Ae=>this._getVisiblePages().ids.has(Ae)),this._scriptingManager=V.scriptingManager||null,ce(this,P,(Se=V.textLayerMode)!=null?Se:n.TextLayerMode.ENABLE),ce(this,$,(K=V.annotationMode)!=null?K:i.AnnotationMode.ENABLE_FORMS),ce(this,D,(U=V.annotationEditorMode)!=null?U:i.AnnotationEditorType.NONE),this.imageResourcesPath=V.imageResourcesPath||"",this.enablePrintAutoRotate=V.enablePrintAutoRotate||!1,this.removePageBorders=V.removePageBorders||!1,V.useOnlyCssZoom&&(console.error("useOnlyCssZoom was removed, please use `maxCanvasPixels = 0` instead."),V.maxCanvasPixels=0),this.isOffscreenCanvasSupported=(re=V.isOffscreenCanvasSupported)!=null?re:!0,this.maxCanvasPixels=V.maxCanvasPixels,this.l10n=V.l10n||p.NullL10n,ce(this,Q,V.enablePermissions||!1),this.pageColors=V.pageColors||null,this.defaultRenderingQueue=!V.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new d.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=V.renderingQueue,this.scroll=(0,n.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=n.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),J(this,ze,jn).call(this),this.eventBus._on("thumbnailrendered",Ae=>{let{pageNumber:Ee,pdfPage:we}=Ae;const Te=this._pages[Ee-1];l(this,T).has(Te)||we==null||we.cleanup()})}get pagesCount(){return this._pages.length}getPageView(V){return this._pages[V]}getCachedPageViews(){return new Set(l(this,T))}get pageViewsReady(){return this._pagesCapability.settled&&this._pages.every(V=>V==null?void 0:V.pdfPage)}get renderForms(){return l(this,$)===i.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(V){if(!Number.isInteger(V))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(V,!0)||console.error('currentPageNumber: "'.concat(V,'" is not a valid page.')))}_setCurrentPageNumber(V){var de,Se;let H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this._currentPageNumber===V)return H&&J(this,ge,Zn).call(this),!0;if(!(0<V&&V<=this.pagesCount))return!1;const X=this._currentPageNumber;return this._currentPageNumber=V,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:V,pageLabel:(Se=(de=this._pageLabels)==null?void 0:de[V-1])!=null?Se:null,previous:X}),H&&J(this,ge,Zn).call(this),!0}get currentPageLabel(){var V,H;return(H=(V=this._pageLabels)==null?void 0:V[this._currentPageNumber-1])!=null?H:null}set currentPageLabel(V){if(!this.pdfDocument)return;let H=V|0;if(this._pageLabels){const X=this._pageLabels.indexOf(V);X>=0&&(H=X+1)}this._setCurrentPageNumber(H,!0)||console.error('currentPageLabel: "'.concat(V,'" is not a valid page.'))}get currentScale(){return this._currentScale!==n.UNKNOWN_SCALE?this._currentScale:n.DEFAULT_SCALE}set currentScale(V){if(isNaN(V))throw new Error("Invalid numeric scale.");this.pdfDocument&&J(this,ee,ot).call(this,V,{noScroll:!1})}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(V){this.pdfDocument&&J(this,ee,ot).call(this,V,{noScroll:!1})}get pagesRotation(){return this._pagesRotation}set pagesRotation(V){if(!(0,n.isValidRotation)(V))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||(V%=360,V<0&&(V+=360),this._pagesRotation===V))return;this._pagesRotation=V;const H=this._currentPageNumber;this.refresh(!0,{rotation:V}),this._currentScaleValue&&J(this,ee,ot).call(this,this._currentScaleValue,{noScroll:!0}),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:V,pageNumber:H}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}async getAllText(){const V=[],H=[];for(let X=1,de=this.pdfDocument.numPages;X<=de;++X){if(l(this,z))return null;H.length=0;const Se=await this.pdfDocument.getPage(X),{items:K}=await Se.getTextContent();for(const U of K)U.str&&H.push(U.str),U.hasEOL&&H.push("\n");V.push((0,n.removeNullCharacters)(H.join("")))}return V.join("\n")}setDocument(V){var K,U;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),(K=this.findController)==null||K.setDocument(null),(U=this._scriptingManager)==null||U.setDocument(null),l(this,I)&&(l(this,I).destroy(),ce(this,I,null))),this.pdfDocument=V,!V)return;const H=V.numPages,X=V.getPage(1),de=V.getOptionalContentConfig(),Se=l(this,Q)?V.getPermissions():Promise.resolve();if(H>o.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const re=this._scrollMode=n.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:re})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:H})},()=>{}),this._onBeforeDraw=re=>{const Ae=this._pages[re.pageNumber-1];Ae&&l(this,T).push(Ae)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=re=>{re.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:re.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,l(this,Pe)&&(document.removeEventListener("visibilitychange",l(this,Pe)),ce(this,Pe,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([X,Se]).then(re=>{var G,se;let[Ae,Ee]=re;if(V!==this.pdfDocument)return;this._firstPageCapability.resolve(Ae),this._optionalContentConfigPromise=de;const{annotationEditorMode:we,annotationMode:Te,textLayerMode:Ne}=J(this,R,Qr).call(this,Ee);if(Ne!==n.TextLayerMode.DISABLE){const fe=ce(this,Y,document.createElement("div"));fe.id="hiddenCopyElement",this.viewer.before(fe)}if(we!==i.AnnotationEditorType.DISABLE){const fe=we;V.isPureXfa?console.warn("Warning: XFA-editing is not implemented."):g(fe)?(ce(this,I,new i.AnnotationEditorUIManager(this.container,this.viewer,l(this,S),this.eventBus,V,this.pageColors)),fe!==i.AnnotationEditorType.NONE&&l(this,I).updateMode(fe)):console.error("Invalid AnnotationEditor mode: ".concat(fe))}const ke=J(this,M,Jr).bind(this),Ue=this._scrollMode===n.ScrollMode.PAGE?null:this.viewer,Be=this.currentScale,ie=Ae.getViewport({scale:Be*i.PixelsPerInch.PDF_TO_CSS_UNITS});this.viewer.style.setProperty("--scale-factor",ie.scale),(((G=this.pageColors)==null?void 0:G.foreground)==="CanvasText"||((se=this.pageColors)==null?void 0:se.background)==="Canvas")&&this.viewer.style.setProperty("--hcm-highligh-filter",V.filterFactory.addHighlightHCMFilter("CanvasText","Canvas","HighlightText","Highlight"));for(let fe=1;fe<=H;++fe){const be=new h.PDFPageView({container:Ue,eventBus:this.eventBus,id:fe,scale:Be,defaultViewport:ie.clone(),optionalContentConfigPromise:de,renderingQueue:this.renderingQueue,textLayerMode:Ne,annotationMode:Te,imageResourcesPath:this.imageResourcesPath,isOffscreenCanvasSupported:this.isOffscreenCanvasSupported,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n,layerProperties:ke});this._pages.push(be)}const w=this._pages[0];w&&(w.setPdfPage(Ae),this.linkService.cachePageRef(1,Ae.ref)),this._scrollMode===n.ScrollMode.PAGE?J(this,q,kt).call(this):this._spreadMode!==n.SpreadMode.NONE&&this._updateSpreadMode(),J(this,B,Zr).call(this).then(async()=>{var be,xe;if((be=this.findController)==null||be.setDocument(V),(xe=this._scriptingManager)==null||xe.setDocument(V),l(this,Y)&&(ce(this,W,J(this,j,jr).bind(this,Ne)),document.addEventListener("copy",l(this,W))),l(this,I)&&this.eventBus.dispatch("annotationeditormodechanged",{source:this,mode:l(this,D)}),V.loadingParams.disableAutoFetch||H>o.FORCE_LAZY_PAGE_INIT){this._pagesCapability.resolve();return}let fe=H-1;if(fe<=0){this._pagesCapability.resolve();return}for(let De=2;De<=H;++De){const Ve=V.getPage(De).then(Fe=>{const je=this._pages[De-1];je.pdfPage||je.setPdfPage(Fe),this.linkService.cachePageRef(De,Fe.ref),--fe===0&&this._pagesCapability.resolve()},Fe=>{console.error("Unable to get page ".concat(De," to initialize viewer"),Fe),--fe===0&&this._pagesCapability.resolve()});De%o.PAUSE_EAGER_PAGE_INIT===0&&await Ve}}),this.eventBus.dispatch("pagesinit",{source:this}),V.getMetadata().then(fe=>{let{info:be}=fe;V===this.pdfDocument&&be.Language&&(this.viewer.lang=be.Language)}),this.defaultRenderingQueue&&this.update()}).catch(re=>{console.error("Unable to initialize viewer",re),this._pagesCapability.reject(re)})}setPageLabels(V){var H,X;if(this.pdfDocument){V?Array.isArray(V)&&this.pdfDocument.numPages===V.length?this._pageLabels=V:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let de=0,Se=this._pages.length;de<Se;de++)this._pages[de].setPageLabel((X=(H=this._pageLabels)==null?void 0:H[de])!=null?X:null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=n.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,ce(this,T,new v(r)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=new i.PromiseCapability,this._onePageRenderedCapability=new i.PromiseCapability,this._pagesCapability=new i.PromiseCapability,this._scrollMode=n.ScrollMode.VERTICAL,this._previousScrollMode=n.ScrollMode.UNKNOWN,this._spreadMode=n.SpreadMode.NONE,ce(this,ye,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),l(this,Pe)&&(document.removeEventListener("visibilitychange",l(this,Pe)),ce(this,Pe,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),l(this,Y)&&(document.removeEventListener("copy",l(this,W)),ce(this,W,null),l(this,Y).remove(),ce(this,Y,null))}_scrollUpdate(){this.pagesCount!==0&&this.update()}pageLabelToPageNumber(V){if(!this._pageLabels)return null;const H=this._pageLabels.indexOf(V);return H<0?null:H+1}scrollPageIntoView(V){let{pageNumber:H,destArray:X=null,allowNegativeOffset:de=!1,ignoreDestinationZoom:Se=!1}=V;if(!this.pdfDocument)return;const K=Number.isInteger(H)&&this._pages[H-1];if(!K){console.error('scrollPageIntoView: "'.concat(H,'" is not a valid pageNumber parameter.'));return}if(this.isInPresentationMode||!X){this._setCurrentPageNumber(H,!0);return}let U=0,re=0,Ae=0,Ee=0,we,Te;const Ne=K.rotation%180!==0,ke=(Ne?K.height:K.width)/K.scale/i.PixelsPerInch.PDF_TO_CSS_UNITS,Ue=(Ne?K.width:K.height)/K.scale/i.PixelsPerInch.PDF_TO_CSS_UNITS;let Be=0;switch(X[1].name){case"XYZ":U=X[2],re=X[3],Be=X[4],U=U!==null?U:0,re=re!==null?re:Ue;break;case"Fit":case"FitB":Be="page-fit";break;case"FitH":case"FitBH":re=X[2],Be="page-width",re===null&&this._location?(U=this._location.left,re=this._location.top):(typeof re!="number"||re<0)&&(re=Ue);break;case"FitV":case"FitBV":U=X[2],Ae=ke,Ee=Ue,Be="page-height";break;case"FitR":U=X[2],re=X[3],Ae=X[4]-U,Ee=X[5]-re;let se=n.SCROLLBAR_PADDING,fe=n.VERTICAL_PADDING;this.removePageBorders&&(se=fe=0),we=(this.container.clientWidth-se)/Ae/i.PixelsPerInch.PDF_TO_CSS_UNITS,Te=(this.container.clientHeight-fe)/Ee/i.PixelsPerInch.PDF_TO_CSS_UNITS,Be=Math.min(Math.abs(we),Math.abs(Te));break;default:console.error('scrollPageIntoView: "'.concat(X[1].name,'" is not a valid destination type.'));return}if(Se||(Be&&Be!==this._currentScale?this.currentScaleValue=Be:this._currentScale===n.UNKNOWN_SCALE&&(this.currentScaleValue=n.DEFAULT_SCALE_VALUE)),Be==="page-fit"&&!X[4]){J(this,ne,Yt).call(this,K);return}const ie=[K.viewport.convertToViewportPoint(U,re),K.viewport.convertToViewportPoint(U+Ae,re+Ee)];let w=Math.min(ie[0][0],ie[1][0]),G=Math.min(ie[0][1],ie[1][1]);de||(w=Math.max(w,0),G=Math.max(G,0)),J(this,ne,Yt).call(this,K,{left:w,top:G})}_updateLocation(V){const H=this._currentScale,X=this._currentScaleValue,de=parseFloat(X)===H?Math.round(H*1e4)/100:X,Se=V.id,K=this._pages[Se-1],U=this.container,re=K.getPagePoint(U.scrollLeft-V.x,U.scrollTop-V.y),Ae=Math.round(re[0]),Ee=Math.round(re[1]);let we="#page=".concat(Se);this.isInPresentationMode||(we+="&zoom=".concat(de,",").concat(Ae,",").concat(Ee)),this._location={pageNumber:Se,scale:de,top:Ee,left:Ae,rotation:this._pagesRotation,pdfOpenParams:we}}update(){const V=this._getVisiblePages(),H=V.views,X=H.length;if(X===0)return;const de=Math.max(r,2*X+1);l(this,T).resize(de,V.ids),this.renderingQueue.renderHighestPriority(V);const Se=this._spreadMode===n.SpreadMode.NONE&&(this._scrollMode===n.ScrollMode.PAGE||this._scrollMode===n.ScrollMode.VERTICAL),K=this._currentPageNumber;let U=!1;for(const re of H){if(re.percent<100)break;if(re.id===K&&Se){U=!0;break}}this._setCurrentPageNumber(U?K:H[0].id),this._updateLocation(V.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(V){return this.container.contains(V)}focus(){this.container.focus()}get _isContainerRtl(){return getComputedStyle(this.container).direction==="rtl"}get isInPresentationMode(){return this.presentationModeState===n.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===n.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const V=this._scrollMode===n.ScrollMode.PAGE?l(this,ye).pages:this._pages,H=this._scrollMode===n.ScrollMode.HORIZONTAL,X=H&&this._isContainerRtl;return(0,n.getVisibleElements)({scrollEl:this.container,views:V,sortByVisibility:!0,horizontal:H,rtl:X})}cleanup(){for(const V of this._pages)V.renderingState!==n.RenderingStates.FINISHED&&V.reset()}_cancelRendering(){for(const V of this._pages)V.cancelRendering()}forceRendering(V){const H=V||this._getVisiblePages(),X=J(this,We,ni).call(this,H),de=this._spreadMode!==n.SpreadMode.NONE&&this._scrollMode!==n.ScrollMode.HORIZONTAL,Se=this.renderingQueue.getHighestPriority(H,this._pages,X,de);return Se?(J(this,Me,ti).call(this,Se).then(()=>{this.renderingQueue.renderView(Se)}),!0):!1}get hasEqualPageSizes(){const V=this._pages[0];for(let H=1,X=this._pages.length;H<X;++H){const de=this._pages[H];if(de.width!==V.width||de.height!==V.height)return!1}return!0}getPagesOverview(){let V;return this._pages.map(H=>{const X=H.pdfPage.getViewport({scale:1}),de=(0,n.isPortraitOrientation)(X);if(V===void 0)V=de;else if(this.enablePrintAutoRotate&&de!==V)return{width:X.height,height:X.width,rotation:(X.rotation-90)%360};return{width:X.width,height:X.height,rotation:X.rotation}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:(console.error("optionalContentConfigPromise: Not initialized yet."),this.pdfDocument.getOptionalContentConfig()):Promise.resolve(null)}set optionalContentConfigPromise(V){if(!(V instanceof Promise))throw new Error("Invalid optionalContentConfigPromise: ".concat(V));this.pdfDocument&&this._optionalContentConfigPromise&&(this._optionalContentConfigPromise=V,this.refresh(!1,{optionalContentConfigPromise:V}),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:V}))}get scrollMode(){return this._scrollMode}set scrollMode(V){if(this._scrollMode!==V){if(!(0,n.isValidScrollMode)(V))throw new Error("Invalid scroll mode: ".concat(V));this.pagesCount>o.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=V,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:V}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(){let V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;const H=this._scrollMode,X=this.viewer;X.classList.toggle("scrollHorizontal",H===n.ScrollMode.HORIZONTAL),X.classList.toggle("scrollWrapped",H===n.ScrollMode.WRAPPED),!(!this.pdfDocument||!V)&&(H===n.ScrollMode.PAGE?J(this,q,kt).call(this):this._previousScrollMode===n.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&J(this,ee,ot).call(this,this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(V,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(V){if(this._spreadMode!==V){if(!(0,n.isValidSpreadMode)(V))throw new Error("Invalid spread mode: ".concat(V));this._spreadMode=V,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:V}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(){let V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(!this.pdfDocument)return;const H=this.viewer,X=this._pages;if(this._scrollMode===n.ScrollMode.PAGE)J(this,q,kt).call(this);else if(H.textContent="",this._spreadMode===n.SpreadMode.NONE)for(const de of this._pages)H.append(de.div);else{const de=this._spreadMode-1;let Se=null;for(let K=0,U=X.length;K<U;++K)Se===null?(Se=document.createElement("div"),Se.className="spread",H.append(Se)):K%2===de&&(Se=Se.cloneNode(!1),H.append(Se)),Se.append(X[K].div)}V&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&J(this,ee,ot).call(this,this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(V,!0),this.update())}_getPageAdvance(V){let H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;switch(this._scrollMode){case n.ScrollMode.WRAPPED:{const{views:X}=this._getVisiblePages(),de=new Map;for(const{id:Se,y:K,percent:U,widthPercent:re}of X){if(U===0||re<100)continue;let Ae=de.get(K);Ae||de.set(K,Ae||(Ae=[])),Ae.push(Se)}for(const Se of de.values()){const K=Se.indexOf(V);if(K===-1)continue;const U=Se.length;if(U===1)break;if(H)for(let re=K-1,Ae=0;re>=Ae;re--){const Ee=Se[re],we=Se[re+1]-1;if(Ee<we)return V-we}else for(let re=K+1,Ae=U;re<Ae;re++){const Ee=Se[re],we=Se[re-1]+1;if(Ee>we)return we-V}if(H){const re=Se[0];if(re<V)return V-re+1}else{const re=Se[U-1];if(re>V)return re-V+1}break}break}case n.ScrollMode.HORIZONTAL:break;case n.ScrollMode.PAGE:case n.ScrollMode.VERTICAL:{if(this._spreadMode===n.SpreadMode.NONE)break;const X=this._spreadMode-1;if(H&&V%2!==X)break;if(!H&&V%2===X)break;const{views:de}=this._getVisiblePages(),Se=H?V-1:V+1;for(const{id:K,percent:U,widthPercent:re}of de)if(K===Se){if(U>0&&re===100)return 2;break}break}}return 1}nextPage(){const V=this._currentPageNumber,H=this.pagesCount;if(V>=H)return!1;const X=this._getPageAdvance(V,!1)||1;return this.currentPageNumber=Math.min(V+X,H),!0}previousPage(){const V=this._currentPageNumber;if(V<=1)return!1;const H=this._getPageAdvance(V,!0)||1;return this.currentPageNumber=Math.max(V-H,1),!0}increaseScale(){let{drawingDelay:V,scaleFactor:H,steps:X}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.pdfDocument)return;let de=this._currentScale;if(H>1)de=Math.round(de*H*100)/100;else{X!=null||(X=1);do de=Math.ceil((de*n.DEFAULT_SCALE_DELTA).toFixed(2)*10)/10;while(--X>0&&de<n.MAX_SCALE)}J(this,ee,ot).call(this,Math.min(n.MAX_SCALE,de),{noScroll:!1,drawingDelay:V})}decreaseScale(){let{drawingDelay:V,scaleFactor:H,steps:X}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.pdfDocument)return;let de=this._currentScale;if(H>0&&H<1)de=Math.round(de*H*100)/100;else{X!=null||(X=1);do de=Math.floor((de/n.DEFAULT_SCALE_DELTA).toFixed(2)*10)/10;while(--X>0&&de>n.MIN_SCALE)}J(this,ee,ot).call(this,Math.max(n.MIN_SCALE,de),{noScroll:!1,drawingDelay:V})}get containerTopLeft(){return l(this,Z)||ce(this,Z,[this.container.offsetTop,this.container.offsetLeft])}get annotationEditorMode(){return l(this,I)?l(this,D):i.AnnotationEditorType.DISABLE}set annotationEditorMode(V){let{mode:H,editId:X=null}=V;if(!l(this,I))throw new Error("The AnnotationEditor is not enabled.");if(l(this,D)!==H){if(!g(H))throw new Error("Invalid AnnotationEditor mode: ".concat(H));this.pdfDocument&&(ce(this,D,H),this.eventBus.dispatch("annotationeditormodechanged",{source:this,mode:H}),l(this,I).updateMode(H,X))}}set annotationEditorParams(V){let{type:H,value:X}=V;if(!l(this,I))throw new Error("The AnnotationEditor is not enabled.");l(this,I).updateParams(H,X)}refresh(){let V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Object.create(null);if(this.pdfDocument){for(const X of this._pages)X.update(H);l(this,L)!==null&&(clearTimeout(l(this,L)),ce(this,L,null)),V||this.update()}}}T=new WeakMap,S=new WeakMap,D=new WeakMap,I=new WeakMap,$=new WeakMap,Z=new WeakMap,W=new WeakMap,Q=new WeakMap,he=new WeakMap,Y=new WeakMap,z=new WeakMap,te=new WeakMap,oe=new WeakMap,ye=new WeakMap,Pe=new WeakMap,L=new WeakMap,P=new WeakMap,M=new WeakSet,Jr=function(){const V=this;return{get annotationEditorUIManager(){return l(V,I)},get annotationStorage(){var H;return(H=V.pdfDocument)==null?void 0:H.annotationStorage},get downloadManager(){return V.downloadManager},get enableScripting(){return!!V._scriptingManager},get fieldObjectsPromise(){var H;return(H=V.pdfDocument)==null?void 0:H.getFieldObjects()},get findController(){return V.findController},get hasJSActionsPromise(){var H;return(H=V.pdfDocument)==null?void 0:H.hasJSActions()},get linkService(){return V.linkService}}},R=new WeakSet,Qr=function(V){const H={annotationEditorMode:l(this,D),annotationMode:l(this,$),textLayerMode:l(this,P)};return V&&(!V.includes(i.PermissionFlag.COPY)&&l(this,P)===n.TextLayerMode.ENABLE&&(H.textLayerMode=n.TextLayerMode.ENABLE_PERMISSIONS),V.includes(i.PermissionFlag.MODIFY_CONTENTS)||(H.annotationEditorMode=i.AnnotationEditorType.DISABLE),!V.includes(i.PermissionFlag.MODIFY_ANNOTATIONS)&&!V.includes(i.PermissionFlag.FILL_INTERACTIVE_FORMS)&&l(this,$)===i.AnnotationMode.ENABLE_FORMS&&(H.annotationMode=i.AnnotationMode.ENABLE)),H},B=new WeakSet,Zr=function(){if(document.visibilityState==="hidden"||!this.container.offsetParent||this._getVisiblePages().views.length===0)return Promise.resolve();const V=new Promise(H=>{ce(this,Pe,()=>{document.visibilityState==="hidden"&&(H(),document.removeEventListener("visibilitychange",l(this,Pe)),ce(this,Pe,null))}),document.addEventListener("visibilitychange",l(this,Pe))});return Promise.race([this._onePageRenderedCapability.promise,V])},j=new WeakSet,jr=function(V,H){const X=document.getSelection(),{focusNode:de,anchorNode:Se}=X;if(Se&&de&&X.containsNode(l(this,Y))){if(l(this,he)||V===n.TextLayerMode.ENABLE_PERMISSIONS){H.preventDefault(),H.stopPropagation();return}ce(this,he,!0);const K=this.container.style.cursor;this.container.style.cursor="wait";const U=re=>ce(this,z,re.key==="Escape");window.addEventListener("keydown",U),this.getAllText().then(async re=>{re!==null&&await navigator.clipboard.writeText(re)}).catch(re=>{console.warn("Something goes wrong when extracting the text: ".concat(re.message))}).finally(()=>{ce(this,he,!1),ce(this,z,!1),window.removeEventListener("keydown",U),this.container.style.cursor=K}),H.preventDefault(),H.stopPropagation()}},q=new WeakSet,kt=function(){if(this._scrollMode!==n.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const V=this._currentPageNumber,H=l(this,ye),X=this.viewer;if(X.textContent="",H.pages.length=0,this._spreadMode===n.SpreadMode.NONE&&!this.isInPresentationMode){const de=this._pages[V-1];X.append(de.div),H.pages.push(de)}else{const de=new Set,Se=this._spreadMode-1;Se===-1?de.add(V-1):V%2!==Se?(de.add(V-1),de.add(V)):(de.add(V-2),de.add(V-1));const K=document.createElement("div");if(K.className="spread",this.isInPresentationMode){const U=document.createElement("div");U.className="dummyPage",K.append(U)}for(const U of de){const re=this._pages[U];re&&(K.append(re.div),H.pages.push(re))}X.append(K)}H.scrollDown=V>=H.previousPageNumber,H.previousPageNumber=V},ne=new WeakSet,Yt=function(V){let H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const{div:X,id:de}=V;if(this._currentPageNumber!==de&&this._setCurrentPageNumber(de),this._scrollMode===n.ScrollMode.PAGE&&(J(this,q,kt).call(this),this.update()),!H&&!this.isInPresentationMode){const Se=X.offsetLeft+X.clientLeft,K=Se+X.clientWidth,{scrollLeft:U,clientWidth:re}=this.container;(this._scrollMode===n.ScrollMode.HORIZONTAL||Se<U||K>U+re)&&(H={left:0,top:0})}(0,n.scrollIntoView)(X,H),!this._currentScaleValue&&this._location&&(this._location=null)},ve=new WeakSet,qr=function(V){return V===this._currentScale||Math.abs(V-this._currentScale)<1e-15},Oe=new WeakSet,Qn=function(V,H,X){let{noScroll:de=!1,preset:Se=!1,drawingDelay:K=-1}=X;if(this._currentScaleValue=H.toString(),J(this,ve,qr).call(this,V)){Se&&this.eventBus.dispatch("scalechanging",{source:this,scale:V,presetValue:H});return}this.viewer.style.setProperty("--scale-factor",V*i.PixelsPerInch.PDF_TO_CSS_UNITS);const U=K>=0&&K<1e3;if(this.refresh(!0,{scale:V,drawingDelay:U?K:-1}),U&&ce(this,L,setTimeout(()=>{ce(this,L,null),this.refresh()},K)),this._currentScale=V,!de){let re=this._currentPageNumber,Ae;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(re=this._location.pageNumber,Ae=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:re,destArray:Ae,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:V,presetValue:Se?H:void 0}),this.defaultRenderingQueue&&this.update()},Le=new WeakSet,ei=function(){return this._spreadMode!==n.SpreadMode.NONE&&this._scrollMode!==n.ScrollMode.HORIZONTAL?2:1},ee=new WeakSet,ot=function(V,H){let X=parseFloat(V);if(X>0)H.preset=!1,J(this,Oe,Qn).call(this,X,V,H);else{const de=this._pages[this._currentPageNumber-1];if(!de)return;let Se=n.SCROLLBAR_PADDING,K=n.VERTICAL_PADDING;this.isInPresentationMode?(Se=K=4,this._spreadMode!==n.SpreadMode.NONE&&(Se*=2)):this.removePageBorders?Se=K=0:this._scrollMode===n.ScrollMode.HORIZONTAL&&([Se,K]=[K,Se]);const U=(this.container.clientWidth-Se)/de.width*de.scale/l(this,Le,ei),re=(this.container.clientHeight-K)/de.height*de.scale;switch(V){case"page-actual":X=1;break;case"page-width":X=U;break;case"page-height":X=re;break;case"page-fit":X=Math.min(U,re);break;case"auto":const Ae=(0,n.isPortraitOrientation)(de)?U:Math.min(re,U);X=Math.min(n.MAX_AUTO_SCALE,Ae);break;default:console.error('#setScale: "'.concat(V,'" is an unknown zoom value.'));return}H.preset=!0,J(this,Oe,Qn).call(this,X,V,H)}},ge=new WeakSet,Zn=function(){const V=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&J(this,ee,ot).call(this,this._currentScaleValue,{noScroll:!0}),J(this,ne,Yt).call(this,V)},Me=new WeakSet,ti=async function(V){var H,X;if(V.pdfPage)return V.pdfPage;try{const de=await this.pdfDocument.getPage(V.id);return V.pdfPage||V.setPdfPage(de),(X=(H=this.linkService)._cachedPageNumber)!=null&&X.call(H,de.ref)||this.linkService.cachePageRef(V.id,de.ref),de}catch(de){return console.error("Unable to get page for page view",de),null}},We=new WeakSet,ni=function(V){var H,X;if(((H=V.first)==null?void 0:H.id)===1)return!0;if(((X=V.last)==null?void 0:X.id)===this.pagesCount)return!1;switch(this._scrollMode){case n.ScrollMode.PAGE:return l(this,ye).scrollDown;case n.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down},ze=new WeakSet,jn=function(){let V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.container.clientHeight;V!==l(this,te)&&(ce(this,te,V),n.docStyle.setProperty("--viewer-container-height","".concat(V,"px")))},Je=new WeakSet,ri=function(V){for(const H of V)if(H.target===this.container){J(this,ze,jn).call(this,Math.floor(H.borderBoxSize[0].blockSize)),ce(this,Z,null);break}},m.PDFViewer=A},(f,m,t)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.PDFRenderingQueue=void 0;var i=t(107),n=t(97);const p=3e4;class h{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1,Object.defineProperty(this,"hasViewer",{value:()=>!!this.pdfViewer})}setViewer(s){this.pdfViewer=s}setThumbnailViewer(s){this.pdfThumbnailViewer=s}isHighestPriority(s){return this.highestPriorityPage===s.renderingId}renderHighestPriority(s){var r;this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(s)&&(this.isThumbnailViewEnabled&&((r=this.pdfThumbnailViewer)!=null&&r.forceRendering())||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),p)))}getHighestPriority(s,r,o){let g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const v=s.views,A=v.length;if(A===0)return null;for(let T=0;T<A;T++){const S=v[T].view;if(!this.isViewFinished(S))return S}const b=s.first.id,c=s.last.id;if(c-b+1>A){const T=s.ids;for(let S=1,D=c-b;S<D;S++){const I=o?b+S:c-S;if(T.has(I))continue;const $=r[I-1];if(!this.isViewFinished($))return $}}let a=o?c:b-2,x=r[a];return x&&!this.isViewFinished(x)||g&&(a+=o?1:-1,x=r[a],x&&!this.isViewFinished(x))?x:null}isViewFinished(s){return s.renderingState===n.RenderingStates.FINISHED}renderView(s){switch(s.renderingState){case n.RenderingStates.FINISHED:return!1;case n.RenderingStates.PAUSED:this.highestPriorityPage=s.renderingId,s.resume();break;case n.RenderingStates.RUNNING:this.highestPriorityPage=s.renderingId;break;case n.RenderingStates.INITIAL:this.highestPriorityPage=s.renderingId,s.draw().finally(()=>{this.renderHighestPriority()}).catch(r=>{r instanceof i.RenderingCancelledException||console.error('renderView: "'.concat(r,'"'))});break}return!0}}m.PDFRenderingQueue=h}],u={};function y(f){var m=u[f];if(m!==void 0)return m.exports;var t=u[f]={exports:{}};return e[f].call(t.exports,t,t.exports,y),t.exports}var k={};return(()=>{var f=k;Object.defineProperty(f,"__esModule",{value:!0}),Object.defineProperty(f,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return n.AnnotationLayerBuilder}}),Object.defineProperty(f,"DownloadManager",{enumerable:!0,get:function(){return p.DownloadManager}}),Object.defineProperty(f,"EventBus",{enumerable:!0,get:function(){return h.EventBus}}),Object.defineProperty(f,"FindState",{enumerable:!0,get:function(){return m.FindState}}),Object.defineProperty(f,"GenericL10n",{enumerable:!0,get:function(){return d.GenericL10n}}),Object.defineProperty(f,"LinkTarget",{enumerable:!0,get:function(){return t.LinkTarget}}),Object.defineProperty(f,"NullL10n",{enumerable:!0,get:function(){return s.NullL10n}}),Object.defineProperty(f,"PDFFindController",{enumerable:!0,get:function(){return m.PDFFindController}}),Object.defineProperty(f,"PDFHistory",{enumerable:!0,get:function(){return r.PDFHistory}}),Object.defineProperty(f,"PDFLinkService",{enumerable:!0,get:function(){return t.PDFLinkService}}),Object.defineProperty(f,"PDFPageView",{enumerable:!0,get:function(){return o.PDFPageView}}),Object.defineProperty(f,"PDFScriptingManager",{enumerable:!0,get:function(){return g.PDFScriptingManager}}),Object.defineProperty(f,"PDFSinglePageViewer",{enumerable:!0,get:function(){return v.PDFSinglePageViewer}}),Object.defineProperty(f,"PDFViewer",{enumerable:!0,get:function(){return A.PDFViewer}}),Object.defineProperty(f,"ProgressBar",{enumerable:!0,get:function(){return i.ProgressBar}}),Object.defineProperty(f,"RenderingStates",{enumerable:!0,get:function(){return i.RenderingStates}}),Object.defineProperty(f,"ScrollMode",{enumerable:!0,get:function(){return i.ScrollMode}}),Object.defineProperty(f,"SimpleLinkService",{enumerable:!0,get:function(){return t.SimpleLinkService}}),Object.defineProperty(f,"SpreadMode",{enumerable:!0,get:function(){return i.SpreadMode}}),Object.defineProperty(f,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return b.StructTreeLayerBuilder}}),Object.defineProperty(f,"TextLayerBuilder",{enumerable:!0,get:function(){return c.TextLayerBuilder}}),Object.defineProperty(f,"XfaLayerBuilder",{enumerable:!0,get:function(){return a.XfaLayerBuilder}}),Object.defineProperty(f,"parseQueryString",{enumerable:!0,get:function(){return i.parseQueryString}});var m=y(1),t=y(108),i=y(97),n=y(124),p=y(126),h=y(127),d=y(128),s=y(125),r=y(130),o=y(131),g=y(139),v=y(142),A=y(143),b=y(134),c=y(137),a=y(138)})(),k})())})(pdf_viewer);var pdf_viewerExports=pdf_viewer.exports;const pdf="",PDFWorker={create(){return refWorker().defaults(()=>new Worker(new URL(""+new URL("pdf.worker-65cc1d6e.js",import.meta.url).href,self.location),{type:"module"}))}},_sfc_main$1=defineComponent({__name:"TreeTitleView",props:{nodes:Array},emits:["node-click"],setup(N,{emit:C}){var f;const e=N,u=ref$1((f=e.nodes)==null?void 0:f.map(()=>!0));return{__sfc:!0,props:e,emit:C,collapsed:u,toggle:m=>{u.value&&(u.value[m]=!u.value[m])},handleClick:m=>{C("node-click",m)},TreeTitleView}}}),TreeTitleView_vue_vue_type_style_index_0_scoped_b39188f3_lang="";var _sfc_render$1=function N(){var C=this,e=C._self._c,u=C._self._setupProxy;return e("ul",{staticClass:"tree"},C._l(C.nodes,function(y,k){return e("li",{key:k},[y.items&&y.items.length>0?e("span",{on:{click:function(f){return u.toggle(k)}}},[u.collapsed[k]?e("span",[C._v("▸")]):e("span",[C._v("▾")])]):e("span",{staticClass:"invisible"},[C._v("▸")]),e("span",{on:{click:function(f){return f.stopPropagation(),u.handleClick(y)}}},[C._v(C._s(y.title))]),y.items&&!u.collapsed[k]?e(u.TreeTitleView,{attrs:{nodes:y.items},on:{"node-click":u.handleClick}}):C._e()],1)}),0)},_sfc_staticRenderFns$1=[],__component__$1=normalizeComponent(_sfc_main$1,_sfc_render$1,_sfc_staticRenderFns$1,!1,null,"b39188f3",null,null);const TreeTitleView=__component__$1.exports,_sfc_main=defineComponent({__name:"PdfView",props:{data:null},setup(N){const C=N,e=ref$1(null),u={viewer:null,search:"",pdf_scale:1,pdfDocument:null},y=ref$1([]);!pdfExports.GlobalWorkerOptions.workerPort&&typeof window<"u"&&"Worker"in window&&(pdfExports.GlobalWorkerOptions.workerPort=PDFWorker.create()),(()=>{async function d(){if(!e.value)return;const s=new pdf_viewerExports.EventBus,r=new pdf_viewerExports.PDFLinkService({eventBus:s}),o=new pdf_viewerExports.PDFFindController({eventBus:s,linkService:r,updateMatchesCountOnProgress:!0}),g=new pdf_viewerExports.PDFViewer({container:e.value,eventBus:s,linkService:r,findController:o,l10n:new pdf_viewerExports.GenericL10n("zh-CN")});r.setViewer(g),s.on("pagesinit",()=>{var c;const b=(c=g.getPageView(0))==null?void 0:c.viewport;(b==null?void 0:b.width)>window.innerWidth?g.currentScaleValue="0.5":g.currentScaleValue="1",u.search&&s.dispatch("find",{type:"",query:u.search})});const A=await pdfExports.getDocument({data:C.data,cMapUrl:"https://npm.onmicrosoft.cn/pdfjs-dist@".concat(pdfExports.version,"/cmaps/"),useWorkerFetch:!0,cMapPacked:!0,enableXfa:!0}).promise;u.pdfDocument=A,A.getOutline().then(b=>{y.value=b}),g.setDocument(A),r.setDocument(A,null),u.viewer=g}onMounted(d)})();function k(){if(!u.viewer)return;const d=u.viewer.currentScale;let s=0;window.screen.width>1440?s=1.4:s=1.2,!(d>=s)&&(u.viewer.currentScale=d+.1)}function f(){if(!u.viewer)return;const d=u.viewer.currentScale;d<=.5||(u.viewer.currentScale=d-.1)}let m=ref$1(200),t=ref$1(!1);function i(d){t.value=!0,d.preventDefault()}onMounted(()=>{document.addEventListener("mousemove",n),document.addEventListener("mouseup",p)}),onUnmounted(()=>{document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",p)});function n(d){t.value&&(m.value=d.clientX)}function p(){t.value=!1}function h(d){if(u.viewer){const s=d.dest,r=({namedDest:o,explicitDest:g})=>{var b,c;const v=g[0];let A=null;if(v instanceof Object){u.pdfDocument.getPageIndex(v).then(a=>{g[0]=a,r({namedDest:o,explicitDest:g})}).catch(()=>{console.error('PDFLinkService.navigateTo: "'.concat(v,'" is not a valid page reference, for dest="').concat(s,'".'))});return}else if(Number.isInteger(v))A=v+1;else{console.error('PDFLinkService.navigateTo: "'.concat(v,'" is not a valid destination reference, for dest="').concat(s,'".'));return}if(!A||A<1||A>((b=u.pdfDocument)==null?void 0:b.numPages)){console.error('PDFLinkService.navigateTo: "'.concat(A,'" is not a valid page number, for dest="').concat(s,'".'));return}(c=u.viewer)==null||c.scrollPageIntoView({pageNumber:A})};r({namedDest:"",explicitDest:s})}}return{__sfc:!0,props:C,container:e,context:u,outline:y,scaleD:k,scaleX:f,outlineWidth:m,isResizing:t,startResize:i,resize:n,stopResize:p,handleNodeClick:h,TreeTitleView}}}),PdfView_vue_vue_type_style_index_0_scoped_acbaeeeb_lang="";var _sfc_render=function N(){var C=this,e=C._self._c,u=C._self._setupProxy;return e("div",{staticClass:"container"},[u.outline&&u.outline.length>0?e("div",{staticClass:"outline",style:{width:u.outlineWidth+"px"}},[e("div",{staticClass:"resize-handle",on:{mousedown:u.startResize}}),e(u.TreeTitleView,{attrs:{nodes:u.outline},on:{"node-click":u.handleNodeClick}})],1):C._e(),e("div",{staticClass:"pdf_down"},[e("div",{staticClass:"pdf_set_left",on:{click:function(y){return u.scaleD()}}},[C._v("➕")]),e("div",{staticClass:"pdf_set_middle",on:{click:function(y){return u.scaleX()}}},[C._v("➖")])]),e("div",{ref:"container",staticClass:"pdf-wrapper"},[e("div",{staticClass:"pdfViewer",attrs:{id:"viewer"}})])])},_sfc_staticRenderFns=[],__component__=normalizeComponent(_sfc_main,_sfc_render,_sfc_staticRenderFns,!1,null,"acbaeeeb",null,null);const PdfView=__component__.exports;export{PdfView as default};
